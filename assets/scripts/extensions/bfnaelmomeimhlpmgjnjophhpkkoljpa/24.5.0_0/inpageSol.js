"use strict";(()=>{var Q_=Object.create;var _a=Object.defineProperty,X_=Object.defineProperties,eE=Object.getOwnPropertyDescriptor,tE=Object.getOwnPropertyDescriptors,rE=Object.getOwnPropertyNames,Nd=Object.getOwnPropertySymbols,nE=Object.getPrototypeOf,Ud=Object.prototype.hasOwnProperty,oE=Object.prototype.propertyIsEnumerable;var Od=(r,e,t)=>e in r?_a(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bf=(r,e)=>{for(var t in e||={})Ud.call(e,t)&&Od(r,t,e[t]);if(Nd)for(var t of Nd(e))oE.call(e,t)&&Od(r,t,e[t]);return r},wf=(r,e)=>X_(r,tE(e));var sE=(r,e)=>()=>(r&&(e=r(r=0)),e);var xe=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Y=(r,e)=>{for(var t in e)_a(r,t,{get:e[t],enumerable:!0})},iE=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of rE(e))!Ud.call(r,o)&&o!==t&&_a(r,o,{get:()=>e[o],enumerable:!(n=eE(e,o))||n.enumerable});return r};var Re=(r,e,t)=>(t=r!=null?Q_(nE(r)):{},iE(e||!r||!r.__esModule?_a(t,"default",{value:r,enumerable:!0}):t,r));var vf=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var re=(r,e,t)=>(vf(r,e,"read from private field"),t?t.call(r):e.get(r)),De=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ht=(r,e,t,n)=>(vf(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var Ea=(r,e,t)=>(vf(r,e,"access private method"),t);var je=(r,e,t)=>new Promise((n,o)=>{var s=f=>{try{u(t.next(f))}catch(d){o(d)}},i=f=>{try{u(t.throw(f))}catch(d){o(d)}},u=f=>f.done?n(f.value):Promise.resolve(f.value).then(s,i);u((t=t.apply(r,e)).next())}),Sf=(r,e,t)=>(e=r[Symbol.asyncIterator],t=(n,o)=>(o=r[n])&&(e[n]=s=>new Promise((i,u,f)=>(s=o.call(r,s),f=s.done,Promise.resolve(s.value).then(d=>i({value:d,done:f}),u)))),e?e.call(r):(r=r[Symbol.iterator](),e={},t("next"),t("return"),e));var Ef=xe(ka=>{"use strict";h();ka.byteLength=cE;ka.toByteArray=fE;ka.fromByteArray=hE;var Zr=[],Pr=[],aE=typeof Uint8Array<"u"?Uint8Array:Array,_f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(zo=0,Dd=_f.length;zo<Dd;++zo)Zr[zo]=_f[zo],Pr[_f.charCodeAt(zo)]=zo;var zo,Dd;Pr["-".charCodeAt(0)]=62;Pr["_".charCodeAt(0)]=63;function qd(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function cE(r){var e=qd(r),t=e[0],n=e[1];return(t+n)*3/4-n}function uE(r,e,t){return(e+t)*3/4-t}function fE(r){var e,t=qd(r),n=t[0],o=t[1],s=new aE(uE(r,n,o)),i=0,u=o>0?n-4:n,f;for(f=0;f<u;f+=4)e=Pr[r.charCodeAt(f)]<<18|Pr[r.charCodeAt(f+1)]<<12|Pr[r.charCodeAt(f+2)]<<6|Pr[r.charCodeAt(f+3)],s[i++]=e>>16&255,s[i++]=e>>8&255,s[i++]=e&255;return o===2&&(e=Pr[r.charCodeAt(f)]<<2|Pr[r.charCodeAt(f+1)]>>4,s[i++]=e&255),o===1&&(e=Pr[r.charCodeAt(f)]<<10|Pr[r.charCodeAt(f+1)]<<4|Pr[r.charCodeAt(f+2)]>>2,s[i++]=e>>8&255,s[i++]=e&255),s}function lE(r){return Zr[r>>18&63]+Zr[r>>12&63]+Zr[r>>6&63]+Zr[r&63]}function pE(r,e,t){for(var n,o=[],s=e;s<t;s+=3)n=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),o.push(lE(n));return o.join("")}function hE(r){for(var e,t=r.length,n=t%3,o=[],s=16383,i=0,u=t-n;i<u;i+=s)o.push(pE(r,i,i+s>u?u:i+s));return n===1?(e=r[t-1],o.push(Zr[e>>2]+Zr[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],o.push(Zr[e>>10]+Zr[e>>4&63]+Zr[e<<2&63]+"=")),o.join("")}});var If=xe(kf=>{h();kf.read=function(r,e,t,n,o){var s,i,u=o*8-n-1,f=(1<<u)-1,d=f>>1,b=-7,w=t?o-1:0,T=t?-1:1,A=r[e+w];for(w+=T,s=A&(1<<-b)-1,A>>=-b,b+=u;b>0;s=s*256+r[e+w],w+=T,b-=8);for(i=s&(1<<-b)-1,s>>=-b,b+=n;b>0;i=i*256+r[e+w],w+=T,b-=8);if(s===0)s=1-d;else{if(s===f)return i?NaN:(A?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-d}return(A?-1:1)*i*Math.pow(2,s-n)};kf.write=function(r,e,t,n,o,s){var i,u,f,d=s*8-o-1,b=(1<<d)-1,w=b>>1,T=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,D=n?1:-1,H=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,i=b):(i=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-i))<1&&(i--,f*=2),i+w>=1?e+=T/f:e+=T*Math.pow(2,1-w),e*f>=2&&(i++,f/=2),i+w>=b?(u=0,i=b):i+w>=1?(u=(e*f-1)*Math.pow(2,o),i=i+w):(u=e*Math.pow(2,w-1)*Math.pow(2,o),i=0));o>=8;r[t+A]=u&255,A+=D,u/=256,o-=8);for(i=i<<o|u,d+=o;d>0;r[t+A]=i&255,A+=D,i/=256,d-=8);r[t+A-D]|=H*128}});var hs=xe(ps=>{"use strict";h();var Af=Ef(),fs=If(),Fd=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ps.Buffer=F;ps.SlowBuffer=bE;ps.INSPECT_MAX_BYTES=50;var Ia=2147483647;ps.kMaxLength=Ia;F.TYPED_ARRAY_SUPPORT=dE();!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function dE(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.buffer}});Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.byteOffset}});function mn(r){if(r>Ia)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,F.prototype),e}function F(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Pf(r)}return Wd(r,e,t)}F.poolSize=8192;function Wd(r,e,t){if(typeof r=="string")return mE(r,e);if(ArrayBuffer.isView(r))return gE(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Yr(r,ArrayBuffer)||r&&Yr(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Yr(r,SharedArrayBuffer)||r&&Yr(r.buffer,SharedArrayBuffer)))return Bf(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return F.from(n,e,t);let o=xE(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return F.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}F.from=function(r,e,t){return Wd(r,e,t)};Object.setPrototypeOf(F.prototype,Uint8Array.prototype);Object.setPrototypeOf(F,Uint8Array);function Kd(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function yE(r,e,t){return Kd(r),r<=0?mn(r):e!==void 0?typeof t=="string"?mn(r).fill(e,t):mn(r).fill(e):mn(r)}F.alloc=function(r,e,t){return yE(r,e,t)};function Pf(r){return Kd(r),mn(r<0?0:zf(r)|0)}F.allocUnsafe=function(r){return Pf(r)};F.allocUnsafeSlow=function(r){return Pf(r)};function mE(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=Vd(r,e)|0,n=mn(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function Rf(r){let e=r.length<0?0:zf(r.length)|0,t=mn(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function gE(r){if(Yr(r,Uint8Array)){let e=new Uint8Array(r);return Bf(e.buffer,e.byteOffset,e.byteLength)}return Rf(r)}function Bf(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,F.prototype),n}function xE(r){if(F.isBuffer(r)){let e=zf(r.length)|0,t=mn(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Lf(r.length)?mn(0):Rf(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Rf(r.data)}function zf(r){if(r>=Ia)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ia.toString(16)+" bytes");return r|0}function bE(r){return+r!=r&&(r=0),F.alloc(+r)}F.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==F.prototype};F.compare=function(e,t){if(Yr(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),Yr(t,Uint8Array)&&(t=F.from(t,t.offset,t.byteLength)),!F.isBuffer(e)||!F.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,i=Math.min(n,o);s<i;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=F.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let i=e[n];if(Yr(i,Uint8Array))s+i.length>o.length?(F.isBuffer(i)||(i=F.from(i)),i.copy(o,s)):Uint8Array.prototype.set.call(o,i,s);else if(F.isBuffer(i))i.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=i.length}return o};function Vd(r,e){if(F.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Yr(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Tf(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ry(r).length;default:if(o)return n?-1:Tf(r).length;e=(""+e).toLowerCase(),o=!0}}F.byteLength=Vd;function wE(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return TE(this,e,t);case"utf8":case"utf-8":return Zd(this,e,t);case"ascii":return RE(this,e,t);case"latin1":case"binary":return BE(this,e,t);case"base64":return IE(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return PE(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}F.prototype._isBuffer=!0;function Mo(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}F.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Mo(this,t,t+1);return this};F.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Mo(this,t,t+3),Mo(this,t+1,t+2);return this};F.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Mo(this,t,t+7),Mo(this,t+1,t+6),Mo(this,t+2,t+5),Mo(this,t+3,t+4);return this};F.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Zd(this,0,e):wE.apply(this,arguments)};F.prototype.toLocaleString=F.prototype.toString;F.prototype.equals=function(e){if(!F.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){let e="",t=ps.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Fd&&(F.prototype[Fd]=F.prototype.inspect);F.prototype.compare=function(e,t,n,o,s){if(Yr(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),!F.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let i=s-o,u=n-t,f=Math.min(i,u),d=this.slice(o,s),b=e.slice(t,n);for(let w=0;w<f;++w)if(d[w]!==b[w]){i=d[w],u=b[w];break}return i<u?-1:u<i?1:0};function Gd(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Lf(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=F.from(e,n)),F.isBuffer(e))return e.length===0?-1:jd(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):jd(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function jd(r,e,t,n,o){let s=1,i=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,i/=2,u/=2,t/=2}function f(b,w){return s===1?b[w]:b.readUInt16BE(w*s)}let d;if(o){let b=-1;for(d=t;d<i;d++)if(f(r,d)===f(e,b===-1?0:d-b)){if(b===-1&&(b=d),d-b+1===u)return b*s}else b!==-1&&(d-=d-b),b=-1}else for(t+u>i&&(t=i-u),d=t;d>=0;d--){let b=!0;for(let w=0;w<u;w++)if(f(r,d+w)!==f(e,w)){b=!1;break}if(b)return d}return-1}F.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};F.prototype.indexOf=function(e,t,n){return Gd(this,e,t,n,!0)};F.prototype.lastIndexOf=function(e,t,n){return Gd(this,e,t,n,!1)};function vE(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let i;for(i=0;i<n;++i){let u=parseInt(e.substr(i*2,2),16);if(Lf(u))return i;r[t+i]=u}return i}function SE(r,e,t,n){return Aa(Tf(e,r.length-t),r,t,n)}function _E(r,e,t,n){return Aa(CE(e),r,t,n)}function EE(r,e,t,n){return Aa(ry(e),r,t,n)}function kE(r,e,t,n){return Aa(NE(e,r.length-t),r,t,n)}F.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return vE(this,e,t,n);case"utf8":case"utf-8":return SE(this,e,t,n);case"ascii":case"latin1":case"binary":return _E(this,e,t,n);case"base64":return EE(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kE(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function IE(r,e,t){return e===0&&t===r.length?Af.fromByteArray(r):Af.fromByteArray(r.slice(e,t))}function Zd(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],i=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,d,b,w;switch(u){case 1:s<128&&(i=s);break;case 2:f=r[o+1],(f&192)===128&&(w=(s&31)<<6|f&63,w>127&&(i=w));break;case 3:f=r[o+1],d=r[o+2],(f&192)===128&&(d&192)===128&&(w=(s&15)<<12|(f&63)<<6|d&63,w>2047&&(w<55296||w>57343)&&(i=w));break;case 4:f=r[o+1],d=r[o+2],b=r[o+3],(f&192)===128&&(d&192)===128&&(b&192)===128&&(w=(s&15)<<18|(f&63)<<12|(d&63)<<6|b&63,w>65535&&w<1114112&&(i=w))}}i===null?(i=65533,u=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),o+=u}return AE(n)}var Hd=4096;function AE(r){let e=r.length;if(e<=Hd)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=Hd));return t}function RE(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function BE(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function TE(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=OE[r[s]];return o}function PE(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}F.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,F.prototype),o};function Vt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return o};F.prototype.readUintBE=F.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};F.prototype.readUint8=F.prototype.readUInt8=function(e,t){return e=e>>>0,t||Vt(e,1,this.length),this[e]};F.prototype.readUint16LE=F.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Vt(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUint16BE=F.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Vt(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUint32LE=F.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUint32BE=F.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readBigUInt64LE=Dn(function(e){e=e>>>0,ls(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&hi(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});F.prototype.readBigUInt64BE=Dn(function(e){e=e>>>0,ls(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&hi(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});F.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};F.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Vt(e,t,this.length);let o=t,s=1,i=this[e+--o];for(;o>0&&(s*=256);)i+=this[e+--o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};F.prototype.readInt8=function(e,t){return e=e>>>0,t||Vt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,t){e=e>>>0,t||Vt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};F.prototype.readInt16BE=function(e,t){e=e>>>0,t||Vt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};F.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readBigInt64LE=Dn(function(e){e=e>>>0,ls(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&hi(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});F.prototype.readBigInt64BE=Dn(function(e){e=e>>>0,ls(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&hi(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});F.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),fs.read(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Vt(e,4,this.length),fs.read(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Vt(e,8,this.length),fs.read(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Vt(e,8,this.length),fs.read(this,e,!1,52,8)};function gr(r,e,t,n,o,s){if(!F.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;gr(this,e,t,n,u,0)}let s=1,i=0;for(this[t]=e&255;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n};F.prototype.writeUintBE=F.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;gr(this,e,t,n,u,0)}let s=n-1,i=1;for(this[t+s]=e&255;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n};F.prototype.writeUint8=F.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,1,255,0),this[t]=e&255,t+1};F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Yd(r,e,t,n,o){ty(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,t}function Jd(r,e,t,n,o){ty(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=i,i=i>>8,r[t+2]=i,i=i>>8,r[t+1]=i,i=i>>8,r[t]=i,t+8}F.prototype.writeBigUInt64LE=Dn(function(e,t=0){return Yd(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeBigUInt64BE=Dn(function(e,t=0){return Jd(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);gr(this,e,t,n,f-1,-f)}let s=0,i=1,u=0;for(this[t]=e&255;++s<n&&(i*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};F.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);gr(this,e,t,n,f-1,-f)}let s=n-1,i=1,u=0;for(this[t+s]=e&255;--s>=0&&(i*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};F.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};F.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};F.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||gr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};F.prototype.writeBigInt64LE=Dn(function(e,t=0){return Yd(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});F.prototype.writeBigInt64BE=Dn(function(e,t=0){return Jd(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Qd(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Xd(r,e,t,n,o){return e=+e,t=t>>>0,o||Qd(r,e,t,4,34028234663852886e22,-34028234663852886e22),fs.write(r,e,t,n,23,4),t+4}F.prototype.writeFloatLE=function(e,t,n){return Xd(this,e,t,!0,n)};F.prototype.writeFloatBE=function(e,t,n){return Xd(this,e,t,!1,n)};function ey(r,e,t,n,o){return e=+e,t=t>>>0,o||Qd(r,e,t,8,17976931348623157e292,-17976931348623157e292),fs.write(r,e,t,n,52,8),t+8}F.prototype.writeDoubleLE=function(e,t,n){return ey(this,e,t,!0,n)};F.prototype.writeDoubleBE=function(e,t,n){return ey(this,e,t,!1,n)};F.prototype.copy=function(e,t,n,o){if(!F.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};F.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!F.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let i=e.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(e=i)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let i=F.isBuffer(e)?e:F.from(e,o),u=i.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%u]}return this};var us={};function Mf(r,e,t){us[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Mf("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Mf("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Mf("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=$d(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=$d(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function $d(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function zE(r,e,t){ls(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&hi(e,r.length-(t+1))}function ty(r,e,t,n,o,s){if(r>t||r<e){let i=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:u=`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:u=`>= ${e}${i} and <= ${t}${i}`,new us.ERR_OUT_OF_RANGE("value",u,r)}zE(n,o,s)}function ls(r,e){if(typeof r!="number")throw new us.ERR_INVALID_ARG_TYPE(e,"number",r)}function hi(r,e,t){throw Math.floor(r)!==r?(ls(r,t),new us.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new us.ERR_BUFFER_OUT_OF_BOUNDS:new us.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var ME=/[^+/0-9A-Za-z-_]/g;function LE(r){if(r=r.split("=")[0],r=r.trim().replace(ME,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Tf(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let i=0;i<n;++i){if(t=r.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function CE(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function NE(r,e){let t,n,o,s=[];for(let i=0;i<r.length&&!((e-=2)<0);++i)t=r.charCodeAt(i),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function ry(r){return Af.toByteArray(LE(r))}function Aa(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function Yr(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Lf(r){return r!==r}var OE=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function Dn(r){return typeof BigInt>"u"?UE:r}function UE(){throw new Error("BigInt not supported")}});var ay=xe((Vz,iy)=>{h();var $t=iy.exports={},Jr,Qr;function Cf(){throw new Error("setTimeout has not been defined")}function Nf(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Jr=setTimeout:Jr=Cf}catch{Jr=Cf}try{typeof clearTimeout=="function"?Qr=clearTimeout:Qr=Nf}catch{Qr=Nf}})();function ny(r){if(Jr===setTimeout)return setTimeout(r,0);if((Jr===Cf||!Jr)&&setTimeout)return Jr=setTimeout,setTimeout(r,0);try{return Jr(r,0)}catch{try{return Jr.call(null,r,0)}catch{return Jr.call(this,r,0)}}}function DE(r){if(Qr===clearTimeout)return clearTimeout(r);if((Qr===Nf||!Qr)&&clearTimeout)return Qr=clearTimeout,clearTimeout(r);try{return Qr(r)}catch{try{return Qr.call(null,r)}catch{return Qr.call(this,r)}}}var gn=[],ds=!1,Lo,Ra=-1;function qE(){!ds||!Lo||(ds=!1,Lo.length?gn=Lo.concat(gn):Ra=-1,gn.length&&oy())}function oy(){if(!ds){var r=ny(qE);ds=!0;for(var e=gn.length;e;){for(Lo=gn,gn=[];++Ra<e;)Lo&&Lo[Ra].run();Ra=-1,e=gn.length}Lo=null,ds=!1,DE(r)}}$t.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];gn.push(new sy(r,e)),gn.length===1&&!ds&&ny(oy)};function sy(r,e){this.fun=r,this.array=e}sy.prototype.run=function(){this.fun.apply(null,this.array)};$t.title="browser";$t.browser=!0;$t.env={};$t.argv=[];$t.version="";$t.versions={};function xn(){}$t.on=xn;$t.addListener=xn;$t.once=xn;$t.off=xn;$t.removeListener=xn;$t.removeAllListeners=xn;$t.emit=xn;$t.prependListener=xn;$t.prependOnceListener=xn;$t.listeners=function(r){return[]};$t.binding=function(r){throw new Error("process.binding is not supported")};$t.cwd=function(){return"/"};$t.chdir=function(r){throw new Error("process.chdir is not supported")};$t.umask=function(){return 0}});var cy,FE,_,h=sE(()=>{"use strict";cy=Re(hs()),FE=Re(ay()),_=cy.Buffer});var zy=xe(()=>{h()});var Oa=xe((My,Qf)=>{h();(function(r,e){"use strict";function t(g,a){if(!g)throw new Error(a||"Assertion failed")}function n(g,a){g.super_=a;var l=function(){};l.prototype=a.prototype,g.prototype=new l,g.prototype.constructor=g}function o(g,a,l){if(o.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((a==="le"||a==="be")&&(l=a,a=10),this._init(g||0,a||10,l||"be"))}typeof r=="object"?r.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=zy().Buffer}catch{}o.isBN=function(a){return a instanceof o?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===o.wordSize&&Array.isArray(a.words)},o.max=function(a,l){return a.cmp(l)>0?a:l},o.min=function(a,l){return a.cmp(l)<0?a:l},o.prototype._init=function(a,l,y){if(typeof a=="number")return this._initNumber(a,l,y);if(typeof a=="object")return this._initArray(a,l,y);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),a=a.toString().replace(/\s+/g,"");var x=0;a[0]==="-"&&(x++,this.negative=1),x<a.length&&(l===16?this._parseHex(a,x,y):(this._parseBase(a,l,x),y==="le"&&this._initArray(this.toArray(),l,y)))},o.prototype._initNumber=function(a,l,y){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(t(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),l,y)},o.prototype._initArray=function(a,l,y){if(t(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,I,B=0;if(y==="be")for(x=a.length-1,v=0;x>=0;x-=3)I=a[x]|a[x-1]<<8|a[x-2]<<16,this.words[v]|=I<<B&67108863,this.words[v+1]=I>>>26-B&67108863,B+=24,B>=26&&(B-=26,v++);else if(y==="le")for(x=0,v=0;x<a.length;x+=3)I=a[x]|a[x+1]<<8|a[x+2]<<16,this.words[v]|=I<<B&67108863,this.words[v+1]=I>>>26-B&67108863,B+=24,B>=26&&(B-=26,v++);return this._strip()};function i(g,a){var l=g.charCodeAt(a);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+g)}function u(g,a,l){var y=i(g,l);return l-1>=a&&(y|=i(g,l-1)<<4),y}o.prototype._parseHex=function(a,l,y){this.length=Math.ceil((a.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,I=0,B;if(y==="be")for(x=a.length-1;x>=l;x-=2)B=u(a,l,x)<<v,this.words[I]|=B&67108863,v>=18?(v-=18,I+=1,this.words[I]|=B>>>26):v+=8;else{var S=a.length-l;for(x=S%2===0?l+1:l;x<a.length;x+=2)B=u(a,l,x)<<v,this.words[I]|=B&67108863,v>=18?(v-=18,I+=1,this.words[I]|=B>>>26):v+=8}this._strip()};function f(g,a,l,y){for(var x=0,v=0,I=Math.min(g.length,l),B=a;B<I;B++){var S=g.charCodeAt(B)-48;x*=y,S>=49?v=S-49+10:S>=17?v=S-17+10:v=S,t(S>=0&&v<y,"Invalid character"),x+=v}return x}o.prototype._parseBase=function(a,l,y){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=l)x++;x--,v=v/l|0;for(var I=a.length-y,B=I%x,S=Math.min(I,I-B)+y,p=0,E=y;E<S;E+=x)p=f(a,E,E+x,l),this.imuln(v),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(B!==0){var ie=1;for(p=f(a,E,a.length,l),E=0;E<B;E++)ie*=l;this.imuln(ie),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},o.prototype.copy=function(a){a.words=new Array(this.length);for(var l=0;l<this.length;l++)a.words[l]=this.words[l];a.length=this.length,a.negative=this.negative,a.red=this.red};function d(g,a){g.words=a.words,g.length=a.length,g.negative=a.negative,g.red=a.red}if(o.prototype._move=function(a){d(a,this)},o.prototype.clone=function(){var a=new o(null);return this.copy(a),a},o.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(a,l){a=a||10,l=l|0||1;var y;if(a===16||a==="hex"){y="";for(var x=0,v=0,I=0;I<this.length;I++){var B=this.words[I],S=((B<<x|v)&16777215).toString(16);v=B>>>24-x&16777215,x+=2,x>=26&&(x-=26,I--),v!==0||I!==this.length-1?y=w[6-S.length]+S+y:y=S+y}for(v!==0&&(y=v.toString(16)+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(a===(a|0)&&a>=2&&a<=36){var p=T[a],E=A[a];y="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var m=ie.modrn(E).toString(a);ie=ie.idivn(E),ie.isZero()?y=m+y:y=w[p-m.length]+m+y}for(this.isZero()&&(y="0"+y);y.length%l!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}t(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(a,l){return this.toArrayLike(s,a,l)}),o.prototype.toArray=function(a,l){return this.toArrayLike(Array,a,l)};var D=function(a,l){return a.allocUnsafe?a.allocUnsafe(l):new a(l)};o.prototype.toArrayLike=function(a,l,y){this._strip();var x=this.byteLength(),v=y||Math.max(1,x);t(x<=v,"byte array longer than desired length"),t(v>0,"Requested array length <= 0");var I=D(a,v),B=l==="le"?"LE":"BE";return this["_toArrayLike"+B](I,x),I},o.prototype._toArrayLikeLE=function(a,l){for(var y=0,x=0,v=0,I=0;v<this.length;v++){var B=this.words[v]<<I|x;a[y++]=B&255,y<a.length&&(a[y++]=B>>8&255),y<a.length&&(a[y++]=B>>16&255),I===6?(y<a.length&&(a[y++]=B>>24&255),x=0,I=0):(x=B>>>24,I+=2)}if(y<a.length)for(a[y++]=x;y<a.length;)a[y++]=0},o.prototype._toArrayLikeBE=function(a,l){for(var y=a.length-1,x=0,v=0,I=0;v<this.length;v++){var B=this.words[v]<<I|x;a[y--]=B&255,y>=0&&(a[y--]=B>>8&255),y>=0&&(a[y--]=B>>16&255),I===6?(y>=0&&(a[y--]=B>>24&255),x=0,I=0):(x=B>>>24,I+=2)}if(y>=0)for(a[y--]=x;y>=0;)a[y--]=0},Math.clz32?o.prototype._countBits=function(a){return 32-Math.clz32(a)}:o.prototype._countBits=function(a){var l=a,y=0;return l>=4096&&(y+=13,l>>>=13),l>=64&&(y+=7,l>>>=7),l>=8&&(y+=4,l>>>=4),l>=2&&(y+=2,l>>>=2),y+l},o.prototype._zeroBits=function(a){if(a===0)return 26;var l=a,y=0;return(l&8191)===0&&(y+=13,l>>>=13),(l&127)===0&&(y+=7,l>>>=7),(l&15)===0&&(y+=4,l>>>=4),(l&3)===0&&(y+=2,l>>>=2),(l&1)===0&&y++,y},o.prototype.bitLength=function(){var a=this.words[this.length-1],l=this._countBits(a);return(this.length-1)*26+l};function H(g){for(var a=new Array(g.bitLength()),l=0;l<a.length;l++){var y=l/26|0,x=l%26;a[l]=g.words[y]>>>x&1}return a}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,l=0;l<this.length;l++){var y=this._zeroBits(this.words[l]);if(a+=y,y!==26)break}return a},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},o.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var l=0;l<a.length;l++)this.words[l]=this.words[l]|a.words[l];return this._strip()},o.prototype.ior=function(a){return t((this.negative|a.negative)===0),this.iuor(a)},o.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},o.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},o.prototype.iuand=function(a){var l;this.length>a.length?l=a:l=this;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]&a.words[y];return this.length=l.length,this._strip()},o.prototype.iand=function(a){return t((this.negative|a.negative)===0),this.iuand(a)},o.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},o.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},o.prototype.iuxor=function(a){var l,y;this.length>a.length?(l=this,y=a):(l=a,y=this);for(var x=0;x<y.length;x++)this.words[x]=l.words[x]^y.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},o.prototype.ixor=function(a){return t((this.negative|a.negative)===0),this.iuxor(a)},o.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},o.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},o.prototype.inotn=function(a){t(typeof a=="number"&&a>=0);var l=Math.ceil(a/26)|0,y=a%26;this._expand(l),y>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return y>0&&(this.words[x]=~this.words[x]&67108863>>26-y),this._strip()},o.prototype.notn=function(a){return this.clone().inotn(a)},o.prototype.setn=function(a,l){t(typeof a=="number"&&a>=0);var y=a/26|0,x=a%26;return this._expand(y+1),l?this.words[y]=this.words[y]|1<<x:this.words[y]=this.words[y]&~(1<<x),this._strip()},o.prototype.iadd=function(a){var l;if(this.negative!==0&&a.negative===0)return this.negative=0,l=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,l=this.isub(a),a.negative=1,l._normSign();var y,x;this.length>a.length?(y=this,x=a):(y=a,x=this);for(var v=0,I=0;I<x.length;I++)l=(y.words[I]|0)+(x.words[I]|0)+v,this.words[I]=l&67108863,v=l>>>26;for(;v!==0&&I<y.length;I++)l=(y.words[I]|0)+v,this.words[I]=l&67108863,v=l>>>26;if(this.length=y.length,v!==0)this.words[this.length]=v,this.length++;else if(y!==this)for(;I<y.length;I++)this.words[I]=y.words[I];return this},o.prototype.add=function(a){var l;return a.negative!==0&&this.negative===0?(a.negative=0,l=this.sub(a),a.negative^=1,l):a.negative===0&&this.negative!==0?(this.negative=0,l=a.sub(this),this.negative=1,l):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},o.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var l=this.iadd(a);return a.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var y=this.cmp(a);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;y>0?(x=this,v=a):(x=a,v=this);for(var I=0,B=0;B<v.length;B++)l=(x.words[B]|0)-(v.words[B]|0)+I,I=l>>26,this.words[B]=l&67108863;for(;I!==0&&B<x.length;B++)l=(x.words[B]|0)+I,I=l>>26,this.words[B]=l&67108863;if(I===0&&B<x.length&&x!==this)for(;B<x.length;B++)this.words[B]=x.words[B];return this.length=Math.max(this.length,B),x!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(a){return this.clone().isub(a)};function Z(g,a,l){l.negative=a.negative^g.negative;var y=g.length+a.length|0;l.length=y,y=y-1|0;var x=g.words[0]|0,v=a.words[0]|0,I=x*v,B=I&67108863,S=I/67108864|0;l.words[0]=B;for(var p=1;p<y;p++){for(var E=S>>>26,ie=S&67108863,m=Math.min(p,a.length-1),L=Math.max(0,p-g.length+1);L<=m;L++){var O=p-L|0;x=g.words[O]|0,v=a.words[L]|0,I=x*v+ie,E+=I/67108864|0,ie=I&67108863}l.words[p]=ie|0,S=E|0}return S!==0?l.words[p]=S|0:l.length--,l._strip()}var ee=function(a,l,y){var x=a.words,v=l.words,I=y.words,B=0,S,p,E,ie=x[0]|0,m=ie&8191,L=ie>>>13,O=x[1]|0,q=O&8191,G=O>>>13,de=x[2]|0,ne=de&8191,oe=de>>>13,jt=x[3]|0,ye=jt&8191,Te=jt>>>13,mo=x[4]|0,nt=mo&8191,ot=mo>>>13,go=x[5]|0,st=go&8191,it=go>>>13,xo=x[6]|0,at=xo&8191,ct=xo>>>13,bo=x[7]|0,ut=bo&8191,ft=bo>>>13,wo=x[8]|0,lt=wo&8191,pt=wo>>>13,vo=x[9]|0,ht=vo&8191,dt=vo>>>13,So=v[0]|0,yt=So&8191,mt=So>>>13,_o=v[1]|0,gt=_o&8191,xt=_o>>>13,Eo=v[2]|0,bt=Eo&8191,wt=Eo>>>13,ko=v[3]|0,vt=ko&8191,St=ko>>>13,Io=v[4]|0,_t=Io&8191,Et=Io>>>13,Ao=v[5]|0,kt=Ao&8191,It=Ao>>>13,Ro=v[6]|0,At=Ro&8191,Rt=Ro>>>13,Bo=v[7]|0,Bt=Bo&8191,Tt=Bo>>>13,To=v[8]|0,Pt=To&8191,zt=To>>>13,Po=v[9]|0,Mt=Po&8191,Lt=Po>>>13;y.negative=a.negative^l.negative,y.length=19,S=Math.imul(m,yt),p=Math.imul(m,mt),p=p+Math.imul(L,yt)|0,E=Math.imul(L,mt);var Ln=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,S=Math.imul(q,yt),p=Math.imul(q,mt),p=p+Math.imul(G,yt)|0,E=Math.imul(G,mt),S=S+Math.imul(m,gt)|0,p=p+Math.imul(m,xt)|0,p=p+Math.imul(L,gt)|0,E=E+Math.imul(L,xt)|0;var Cn=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,S=Math.imul(ne,yt),p=Math.imul(ne,mt),p=p+Math.imul(oe,yt)|0,E=Math.imul(oe,mt),S=S+Math.imul(q,gt)|0,p=p+Math.imul(q,xt)|0,p=p+Math.imul(G,gt)|0,E=E+Math.imul(G,xt)|0,S=S+Math.imul(m,bt)|0,p=p+Math.imul(m,wt)|0,p=p+Math.imul(L,bt)|0,E=E+Math.imul(L,wt)|0;var Nn=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,S=Math.imul(ye,yt),p=Math.imul(ye,mt),p=p+Math.imul(Te,yt)|0,E=Math.imul(Te,mt),S=S+Math.imul(ne,gt)|0,p=p+Math.imul(ne,xt)|0,p=p+Math.imul(oe,gt)|0,E=E+Math.imul(oe,xt)|0,S=S+Math.imul(q,bt)|0,p=p+Math.imul(q,wt)|0,p=p+Math.imul(G,bt)|0,E=E+Math.imul(G,wt)|0,S=S+Math.imul(m,vt)|0,p=p+Math.imul(m,St)|0,p=p+Math.imul(L,vt)|0,E=E+Math.imul(L,St)|0;var On=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(On>>>26)|0,On&=67108863,S=Math.imul(nt,yt),p=Math.imul(nt,mt),p=p+Math.imul(ot,yt)|0,E=Math.imul(ot,mt),S=S+Math.imul(ye,gt)|0,p=p+Math.imul(ye,xt)|0,p=p+Math.imul(Te,gt)|0,E=E+Math.imul(Te,xt)|0,S=S+Math.imul(ne,bt)|0,p=p+Math.imul(ne,wt)|0,p=p+Math.imul(oe,bt)|0,E=E+Math.imul(oe,wt)|0,S=S+Math.imul(q,vt)|0,p=p+Math.imul(q,St)|0,p=p+Math.imul(G,vt)|0,E=E+Math.imul(G,St)|0,S=S+Math.imul(m,_t)|0,p=p+Math.imul(m,Et)|0,p=p+Math.imul(L,_t)|0,E=E+Math.imul(L,Et)|0;var Un=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(Un>>>26)|0,Un&=67108863,S=Math.imul(st,yt),p=Math.imul(st,mt),p=p+Math.imul(it,yt)|0,E=Math.imul(it,mt),S=S+Math.imul(nt,gt)|0,p=p+Math.imul(nt,xt)|0,p=p+Math.imul(ot,gt)|0,E=E+Math.imul(ot,xt)|0,S=S+Math.imul(ye,bt)|0,p=p+Math.imul(ye,wt)|0,p=p+Math.imul(Te,bt)|0,E=E+Math.imul(Te,wt)|0,S=S+Math.imul(ne,vt)|0,p=p+Math.imul(ne,St)|0,p=p+Math.imul(oe,vt)|0,E=E+Math.imul(oe,St)|0,S=S+Math.imul(q,_t)|0,p=p+Math.imul(q,Et)|0,p=p+Math.imul(G,_t)|0,E=E+Math.imul(G,Et)|0,S=S+Math.imul(m,kt)|0,p=p+Math.imul(m,It)|0,p=p+Math.imul(L,kt)|0,E=E+Math.imul(L,It)|0;var of=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(of>>>26)|0,of&=67108863,S=Math.imul(at,yt),p=Math.imul(at,mt),p=p+Math.imul(ct,yt)|0,E=Math.imul(ct,mt),S=S+Math.imul(st,gt)|0,p=p+Math.imul(st,xt)|0,p=p+Math.imul(it,gt)|0,E=E+Math.imul(it,xt)|0,S=S+Math.imul(nt,bt)|0,p=p+Math.imul(nt,wt)|0,p=p+Math.imul(ot,bt)|0,E=E+Math.imul(ot,wt)|0,S=S+Math.imul(ye,vt)|0,p=p+Math.imul(ye,St)|0,p=p+Math.imul(Te,vt)|0,E=E+Math.imul(Te,St)|0,S=S+Math.imul(ne,_t)|0,p=p+Math.imul(ne,Et)|0,p=p+Math.imul(oe,_t)|0,E=E+Math.imul(oe,Et)|0,S=S+Math.imul(q,kt)|0,p=p+Math.imul(q,It)|0,p=p+Math.imul(G,kt)|0,E=E+Math.imul(G,It)|0,S=S+Math.imul(m,At)|0,p=p+Math.imul(m,Rt)|0,p=p+Math.imul(L,At)|0,E=E+Math.imul(L,Rt)|0;var sf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(sf>>>26)|0,sf&=67108863,S=Math.imul(ut,yt),p=Math.imul(ut,mt),p=p+Math.imul(ft,yt)|0,E=Math.imul(ft,mt),S=S+Math.imul(at,gt)|0,p=p+Math.imul(at,xt)|0,p=p+Math.imul(ct,gt)|0,E=E+Math.imul(ct,xt)|0,S=S+Math.imul(st,bt)|0,p=p+Math.imul(st,wt)|0,p=p+Math.imul(it,bt)|0,E=E+Math.imul(it,wt)|0,S=S+Math.imul(nt,vt)|0,p=p+Math.imul(nt,St)|0,p=p+Math.imul(ot,vt)|0,E=E+Math.imul(ot,St)|0,S=S+Math.imul(ye,_t)|0,p=p+Math.imul(ye,Et)|0,p=p+Math.imul(Te,_t)|0,E=E+Math.imul(Te,Et)|0,S=S+Math.imul(ne,kt)|0,p=p+Math.imul(ne,It)|0,p=p+Math.imul(oe,kt)|0,E=E+Math.imul(oe,It)|0,S=S+Math.imul(q,At)|0,p=p+Math.imul(q,Rt)|0,p=p+Math.imul(G,At)|0,E=E+Math.imul(G,Rt)|0,S=S+Math.imul(m,Bt)|0,p=p+Math.imul(m,Tt)|0,p=p+Math.imul(L,Bt)|0,E=E+Math.imul(L,Tt)|0;var af=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(af>>>26)|0,af&=67108863,S=Math.imul(lt,yt),p=Math.imul(lt,mt),p=p+Math.imul(pt,yt)|0,E=Math.imul(pt,mt),S=S+Math.imul(ut,gt)|0,p=p+Math.imul(ut,xt)|0,p=p+Math.imul(ft,gt)|0,E=E+Math.imul(ft,xt)|0,S=S+Math.imul(at,bt)|0,p=p+Math.imul(at,wt)|0,p=p+Math.imul(ct,bt)|0,E=E+Math.imul(ct,wt)|0,S=S+Math.imul(st,vt)|0,p=p+Math.imul(st,St)|0,p=p+Math.imul(it,vt)|0,E=E+Math.imul(it,St)|0,S=S+Math.imul(nt,_t)|0,p=p+Math.imul(nt,Et)|0,p=p+Math.imul(ot,_t)|0,E=E+Math.imul(ot,Et)|0,S=S+Math.imul(ye,kt)|0,p=p+Math.imul(ye,It)|0,p=p+Math.imul(Te,kt)|0,E=E+Math.imul(Te,It)|0,S=S+Math.imul(ne,At)|0,p=p+Math.imul(ne,Rt)|0,p=p+Math.imul(oe,At)|0,E=E+Math.imul(oe,Rt)|0,S=S+Math.imul(q,Bt)|0,p=p+Math.imul(q,Tt)|0,p=p+Math.imul(G,Bt)|0,E=E+Math.imul(G,Tt)|0,S=S+Math.imul(m,Pt)|0,p=p+Math.imul(m,zt)|0,p=p+Math.imul(L,Pt)|0,E=E+Math.imul(L,zt)|0;var cf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(cf>>>26)|0,cf&=67108863,S=Math.imul(ht,yt),p=Math.imul(ht,mt),p=p+Math.imul(dt,yt)|0,E=Math.imul(dt,mt),S=S+Math.imul(lt,gt)|0,p=p+Math.imul(lt,xt)|0,p=p+Math.imul(pt,gt)|0,E=E+Math.imul(pt,xt)|0,S=S+Math.imul(ut,bt)|0,p=p+Math.imul(ut,wt)|0,p=p+Math.imul(ft,bt)|0,E=E+Math.imul(ft,wt)|0,S=S+Math.imul(at,vt)|0,p=p+Math.imul(at,St)|0,p=p+Math.imul(ct,vt)|0,E=E+Math.imul(ct,St)|0,S=S+Math.imul(st,_t)|0,p=p+Math.imul(st,Et)|0,p=p+Math.imul(it,_t)|0,E=E+Math.imul(it,Et)|0,S=S+Math.imul(nt,kt)|0,p=p+Math.imul(nt,It)|0,p=p+Math.imul(ot,kt)|0,E=E+Math.imul(ot,It)|0,S=S+Math.imul(ye,At)|0,p=p+Math.imul(ye,Rt)|0,p=p+Math.imul(Te,At)|0,E=E+Math.imul(Te,Rt)|0,S=S+Math.imul(ne,Bt)|0,p=p+Math.imul(ne,Tt)|0,p=p+Math.imul(oe,Bt)|0,E=E+Math.imul(oe,Tt)|0,S=S+Math.imul(q,Pt)|0,p=p+Math.imul(q,zt)|0,p=p+Math.imul(G,Pt)|0,E=E+Math.imul(G,zt)|0,S=S+Math.imul(m,Mt)|0,p=p+Math.imul(m,Lt)|0,p=p+Math.imul(L,Mt)|0,E=E+Math.imul(L,Lt)|0;var uf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(uf>>>26)|0,uf&=67108863,S=Math.imul(ht,gt),p=Math.imul(ht,xt),p=p+Math.imul(dt,gt)|0,E=Math.imul(dt,xt),S=S+Math.imul(lt,bt)|0,p=p+Math.imul(lt,wt)|0,p=p+Math.imul(pt,bt)|0,E=E+Math.imul(pt,wt)|0,S=S+Math.imul(ut,vt)|0,p=p+Math.imul(ut,St)|0,p=p+Math.imul(ft,vt)|0,E=E+Math.imul(ft,St)|0,S=S+Math.imul(at,_t)|0,p=p+Math.imul(at,Et)|0,p=p+Math.imul(ct,_t)|0,E=E+Math.imul(ct,Et)|0,S=S+Math.imul(st,kt)|0,p=p+Math.imul(st,It)|0,p=p+Math.imul(it,kt)|0,E=E+Math.imul(it,It)|0,S=S+Math.imul(nt,At)|0,p=p+Math.imul(nt,Rt)|0,p=p+Math.imul(ot,At)|0,E=E+Math.imul(ot,Rt)|0,S=S+Math.imul(ye,Bt)|0,p=p+Math.imul(ye,Tt)|0,p=p+Math.imul(Te,Bt)|0,E=E+Math.imul(Te,Tt)|0,S=S+Math.imul(ne,Pt)|0,p=p+Math.imul(ne,zt)|0,p=p+Math.imul(oe,Pt)|0,E=E+Math.imul(oe,zt)|0,S=S+Math.imul(q,Mt)|0,p=p+Math.imul(q,Lt)|0,p=p+Math.imul(G,Mt)|0,E=E+Math.imul(G,Lt)|0;var ff=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(ff>>>26)|0,ff&=67108863,S=Math.imul(ht,bt),p=Math.imul(ht,wt),p=p+Math.imul(dt,bt)|0,E=Math.imul(dt,wt),S=S+Math.imul(lt,vt)|0,p=p+Math.imul(lt,St)|0,p=p+Math.imul(pt,vt)|0,E=E+Math.imul(pt,St)|0,S=S+Math.imul(ut,_t)|0,p=p+Math.imul(ut,Et)|0,p=p+Math.imul(ft,_t)|0,E=E+Math.imul(ft,Et)|0,S=S+Math.imul(at,kt)|0,p=p+Math.imul(at,It)|0,p=p+Math.imul(ct,kt)|0,E=E+Math.imul(ct,It)|0,S=S+Math.imul(st,At)|0,p=p+Math.imul(st,Rt)|0,p=p+Math.imul(it,At)|0,E=E+Math.imul(it,Rt)|0,S=S+Math.imul(nt,Bt)|0,p=p+Math.imul(nt,Tt)|0,p=p+Math.imul(ot,Bt)|0,E=E+Math.imul(ot,Tt)|0,S=S+Math.imul(ye,Pt)|0,p=p+Math.imul(ye,zt)|0,p=p+Math.imul(Te,Pt)|0,E=E+Math.imul(Te,zt)|0,S=S+Math.imul(ne,Mt)|0,p=p+Math.imul(ne,Lt)|0,p=p+Math.imul(oe,Mt)|0,E=E+Math.imul(oe,Lt)|0;var lf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(lf>>>26)|0,lf&=67108863,S=Math.imul(ht,vt),p=Math.imul(ht,St),p=p+Math.imul(dt,vt)|0,E=Math.imul(dt,St),S=S+Math.imul(lt,_t)|0,p=p+Math.imul(lt,Et)|0,p=p+Math.imul(pt,_t)|0,E=E+Math.imul(pt,Et)|0,S=S+Math.imul(ut,kt)|0,p=p+Math.imul(ut,It)|0,p=p+Math.imul(ft,kt)|0,E=E+Math.imul(ft,It)|0,S=S+Math.imul(at,At)|0,p=p+Math.imul(at,Rt)|0,p=p+Math.imul(ct,At)|0,E=E+Math.imul(ct,Rt)|0,S=S+Math.imul(st,Bt)|0,p=p+Math.imul(st,Tt)|0,p=p+Math.imul(it,Bt)|0,E=E+Math.imul(it,Tt)|0,S=S+Math.imul(nt,Pt)|0,p=p+Math.imul(nt,zt)|0,p=p+Math.imul(ot,Pt)|0,E=E+Math.imul(ot,zt)|0,S=S+Math.imul(ye,Mt)|0,p=p+Math.imul(ye,Lt)|0,p=p+Math.imul(Te,Mt)|0,E=E+Math.imul(Te,Lt)|0;var pf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(pf>>>26)|0,pf&=67108863,S=Math.imul(ht,_t),p=Math.imul(ht,Et),p=p+Math.imul(dt,_t)|0,E=Math.imul(dt,Et),S=S+Math.imul(lt,kt)|0,p=p+Math.imul(lt,It)|0,p=p+Math.imul(pt,kt)|0,E=E+Math.imul(pt,It)|0,S=S+Math.imul(ut,At)|0,p=p+Math.imul(ut,Rt)|0,p=p+Math.imul(ft,At)|0,E=E+Math.imul(ft,Rt)|0,S=S+Math.imul(at,Bt)|0,p=p+Math.imul(at,Tt)|0,p=p+Math.imul(ct,Bt)|0,E=E+Math.imul(ct,Tt)|0,S=S+Math.imul(st,Pt)|0,p=p+Math.imul(st,zt)|0,p=p+Math.imul(it,Pt)|0,E=E+Math.imul(it,zt)|0,S=S+Math.imul(nt,Mt)|0,p=p+Math.imul(nt,Lt)|0,p=p+Math.imul(ot,Mt)|0,E=E+Math.imul(ot,Lt)|0;var hf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(hf>>>26)|0,hf&=67108863,S=Math.imul(ht,kt),p=Math.imul(ht,It),p=p+Math.imul(dt,kt)|0,E=Math.imul(dt,It),S=S+Math.imul(lt,At)|0,p=p+Math.imul(lt,Rt)|0,p=p+Math.imul(pt,At)|0,E=E+Math.imul(pt,Rt)|0,S=S+Math.imul(ut,Bt)|0,p=p+Math.imul(ut,Tt)|0,p=p+Math.imul(ft,Bt)|0,E=E+Math.imul(ft,Tt)|0,S=S+Math.imul(at,Pt)|0,p=p+Math.imul(at,zt)|0,p=p+Math.imul(ct,Pt)|0,E=E+Math.imul(ct,zt)|0,S=S+Math.imul(st,Mt)|0,p=p+Math.imul(st,Lt)|0,p=p+Math.imul(it,Mt)|0,E=E+Math.imul(it,Lt)|0;var df=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(df>>>26)|0,df&=67108863,S=Math.imul(ht,At),p=Math.imul(ht,Rt),p=p+Math.imul(dt,At)|0,E=Math.imul(dt,Rt),S=S+Math.imul(lt,Bt)|0,p=p+Math.imul(lt,Tt)|0,p=p+Math.imul(pt,Bt)|0,E=E+Math.imul(pt,Tt)|0,S=S+Math.imul(ut,Pt)|0,p=p+Math.imul(ut,zt)|0,p=p+Math.imul(ft,Pt)|0,E=E+Math.imul(ft,zt)|0,S=S+Math.imul(at,Mt)|0,p=p+Math.imul(at,Lt)|0,p=p+Math.imul(ct,Mt)|0,E=E+Math.imul(ct,Lt)|0;var yf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(yf>>>26)|0,yf&=67108863,S=Math.imul(ht,Bt),p=Math.imul(ht,Tt),p=p+Math.imul(dt,Bt)|0,E=Math.imul(dt,Tt),S=S+Math.imul(lt,Pt)|0,p=p+Math.imul(lt,zt)|0,p=p+Math.imul(pt,Pt)|0,E=E+Math.imul(pt,zt)|0,S=S+Math.imul(ut,Mt)|0,p=p+Math.imul(ut,Lt)|0,p=p+Math.imul(ft,Mt)|0,E=E+Math.imul(ft,Lt)|0;var mf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(mf>>>26)|0,mf&=67108863,S=Math.imul(ht,Pt),p=Math.imul(ht,zt),p=p+Math.imul(dt,Pt)|0,E=Math.imul(dt,zt),S=S+Math.imul(lt,Mt)|0,p=p+Math.imul(lt,Lt)|0,p=p+Math.imul(pt,Mt)|0,E=E+Math.imul(pt,Lt)|0;var gf=(B+S|0)+((p&8191)<<13)|0;B=(E+(p>>>13)|0)+(gf>>>26)|0,gf&=67108863,S=Math.imul(ht,Mt),p=Math.imul(ht,Lt),p=p+Math.imul(dt,Mt)|0,E=Math.imul(dt,Lt);var xf=(B+S|0)+((p&8191)<<13)|0;return B=(E+(p>>>13)|0)+(xf>>>26)|0,xf&=67108863,I[0]=Ln,I[1]=Cn,I[2]=Nn,I[3]=On,I[4]=Un,I[5]=of,I[6]=sf,I[7]=af,I[8]=cf,I[9]=uf,I[10]=ff,I[11]=lf,I[12]=pf,I[13]=hf,I[14]=df,I[15]=yf,I[16]=mf,I[17]=gf,I[18]=xf,B!==0&&(I[19]=B,y.length++),y};Math.imul||(ee=Z);function he(g,a,l){l.negative=a.negative^g.negative,l.length=g.length+a.length;for(var y=0,x=0,v=0;v<l.length-1;v++){var I=x;x=0;for(var B=y&67108863,S=Math.min(v,a.length-1),p=Math.max(0,v-g.length+1);p<=S;p++){var E=v-p,ie=g.words[E]|0,m=a.words[p]|0,L=ie*m,O=L&67108863;I=I+(L/67108864|0)|0,O=O+B|0,B=O&67108863,I=I+(O>>>26)|0,x+=I>>>26,I&=67108863}l.words[v]=B,y=I,I=x}return y!==0?l.words[v]=y:l.length--,l._strip()}function se(g,a,l){return he(g,a,l)}o.prototype.mulTo=function(a,l){var y,x=this.length+a.length;return this.length===10&&a.length===10?y=ee(this,a,l):x<63?y=Z(this,a,l):x<1024?y=he(this,a,l):y=se(this,a,l),y};function X(g,a){this.x=g,this.y=a}X.prototype.makeRBT=function(a){for(var l=new Array(a),y=o.prototype._countBits(a)-1,x=0;x<a;x++)l[x]=this.revBin(x,y,a);return l},X.prototype.revBin=function(a,l,y){if(a===0||a===y-1)return a;for(var x=0,v=0;v<l;v++)x|=(a&1)<<l-v-1,a>>=1;return x},X.prototype.permute=function(a,l,y,x,v,I){for(var B=0;B<I;B++)x[B]=l[a[B]],v[B]=y[a[B]]},X.prototype.transform=function(a,l,y,x,v,I){this.permute(I,a,l,y,x,v);for(var B=1;B<v;B<<=1)for(var S=B<<1,p=Math.cos(2*Math.PI/S),E=Math.sin(2*Math.PI/S),ie=0;ie<v;ie+=S)for(var m=p,L=E,O=0;O<B;O++){var q=y[ie+O],G=x[ie+O],de=y[ie+O+B],ne=x[ie+O+B],oe=m*de-L*ne;ne=m*ne+L*de,de=oe,y[ie+O]=q+de,x[ie+O]=G+ne,y[ie+O+B]=q-de,x[ie+O+B]=G-ne,O!==S&&(oe=p*m-E*L,L=p*L+E*m,m=oe)}},X.prototype.guessLen13b=function(a,l){var y=Math.max(l,a)|1,x=y&1,v=0;for(y=y/2|0;y;y=y>>>1)v++;return 1<<v+1+x},X.prototype.conjugate=function(a,l,y){if(!(y<=1))for(var x=0;x<y/2;x++){var v=a[x];a[x]=a[y-x-1],a[y-x-1]=v,v=l[x],l[x]=-l[y-x-1],l[y-x-1]=-v}},X.prototype.normalize13b=function(a,l){for(var y=0,x=0;x<l/2;x++){var v=Math.round(a[2*x+1]/l)*8192+Math.round(a[2*x]/l)+y;a[x]=v&67108863,v<67108864?y=0:y=v/67108864|0}return a},X.prototype.convert13b=function(a,l,y,x){for(var v=0,I=0;I<l;I++)v=v+(a[I]|0),y[2*I]=v&8191,v=v>>>13,y[2*I+1]=v&8191,v=v>>>13;for(I=2*l;I<x;++I)y[I]=0;t(v===0),t((v&-8192)===0)},X.prototype.stub=function(a){for(var l=new Array(a),y=0;y<a;y++)l[y]=0;return l},X.prototype.mulp=function(a,l,y){var x=2*this.guessLen13b(a.length,l.length),v=this.makeRBT(x),I=this.stub(x),B=new Array(x),S=new Array(x),p=new Array(x),E=new Array(x),ie=new Array(x),m=new Array(x),L=y.words;L.length=x,this.convert13b(a.words,a.length,B,x),this.convert13b(l.words,l.length,E,x),this.transform(B,I,S,p,x,v),this.transform(E,I,ie,m,x,v);for(var O=0;O<x;O++){var q=S[O]*ie[O]-p[O]*m[O];p[O]=S[O]*m[O]+p[O]*ie[O],S[O]=q}return this.conjugate(S,p,x),this.transform(S,p,L,I,x,v),this.conjugate(L,I,x),this.normalize13b(L,x),y.negative=a.negative^l.negative,y.length=a.length+l.length,y._strip()},o.prototype.mul=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),this.mulTo(a,l)},o.prototype.mulf=function(a){var l=new o(null);return l.words=new Array(this.length+a.length),se(this,a,l)},o.prototype.imul=function(a){return this.clone().mulTo(a,this)},o.prototype.imuln=function(a){var l=a<0;l&&(a=-a),t(typeof a=="number"),t(a<67108864);for(var y=0,x=0;x<this.length;x++){var v=(this.words[x]|0)*a,I=(v&67108863)+(y&67108863);y>>=26,y+=v/67108864|0,y+=I>>>26,this.words[x]=I&67108863}return y!==0&&(this.words[x]=y,this.length++),l?this.ineg():this},o.prototype.muln=function(a){return this.clone().imuln(a)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(a){var l=H(a);if(l.length===0)return new o(1);for(var y=this,x=0;x<l.length&&l[x]===0;x++,y=y.sqr());if(++x<l.length)for(var v=y.sqr();x<l.length;x++,v=v.sqr())l[x]!==0&&(y=y.mul(v));return y},o.prototype.iushln=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26,x=67108863>>>26-l<<26-l,v;if(l!==0){var I=0;for(v=0;v<this.length;v++){var B=this.words[v]&x,S=(this.words[v]|0)-B<<l;this.words[v]=S|I,I=B>>>26-l}I&&(this.words[v]=I,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},o.prototype.ishln=function(a){return t(this.negative===0),this.iushln(a)},o.prototype.iushrn=function(a,l,y){t(typeof a=="number"&&a>=0);var x;l?x=(l-l%26)/26:x=0;var v=a%26,I=Math.min((a-v)/26,this.length),B=67108863^67108863>>>v<<v,S=y;if(x-=I,x=Math.max(0,x),S){for(var p=0;p<I;p++)S.words[p]=this.words[p];S.length=I}if(I!==0)if(this.length>I)for(this.length-=I,p=0;p<this.length;p++)this.words[p]=this.words[p+I];else this.words[0]=0,this.length=1;var E=0;for(p=this.length-1;p>=0&&(E!==0||p>=x);p--){var ie=this.words[p]|0;this.words[p]=E<<26-v|ie>>>v,E=ie&B}return S&&E!==0&&(S.words[S.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(a,l,y){return t(this.negative===0),this.iushrn(a,l,y)},o.prototype.shln=function(a){return this.clone().ishln(a)},o.prototype.ushln=function(a){return this.clone().iushln(a)},o.prototype.shrn=function(a){return this.clone().ishrn(a)},o.prototype.ushrn=function(a){return this.clone().iushrn(a)},o.prototype.testn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26,x=1<<l;if(this.length<=y)return!1;var v=this.words[y];return!!(v&x)},o.prototype.imaskn=function(a){t(typeof a=="number"&&a>=0);var l=a%26,y=(a-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(l!==0&&y++,this.length=Math.min(y,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},o.prototype.maskn=function(a){return this.clone().imaskn(a)},o.prototype.iaddn=function(a){return t(typeof a=="number"),t(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},o.prototype._iaddn=function(a){this.words[0]+=a;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},o.prototype.isubn=function(a){if(t(typeof a=="number"),t(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},o.prototype.addn=function(a){return this.clone().iaddn(a)},o.prototype.subn=function(a){return this.clone().isubn(a)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(a,l,y){var x=a.length+y,v;this._expand(x);var I,B=0;for(v=0;v<a.length;v++){I=(this.words[v+y]|0)+B;var S=(a.words[v]|0)*l;I-=S&67108863,B=(I>>26)-(S/67108864|0),this.words[v+y]=I&67108863}for(;v<this.length-y;v++)I=(this.words[v+y]|0)+B,B=I>>26,this.words[v+y]=I&67108863;if(B===0)return this._strip();for(t(B===-1),B=0,v=0;v<this.length;v++)I=-(this.words[v]|0)+B,B=I>>26,this.words[v]=I&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(a,l){var y=this.length-a.length,x=this.clone(),v=a,I=v.words[v.length-1]|0,B=this._countBits(I);y=26-B,y!==0&&(v=v.ushln(y),x.iushln(y),I=v.words[v.length-1]|0);var S=x.length-v.length,p;if(l!=="mod"){p=new o(null),p.length=S+1,p.words=new Array(p.length);for(var E=0;E<p.length;E++)p.words[E]=0}var ie=x.clone()._ishlnsubmul(v,1,S);ie.negative===0&&(x=ie,p&&(p.words[S]=1));for(var m=S-1;m>=0;m--){var L=(x.words[v.length+m]|0)*67108864+(x.words[v.length+m-1]|0);for(L=Math.min(L/I|0,67108863),x._ishlnsubmul(v,L,m);x.negative!==0;)L--,x.negative=0,x._ishlnsubmul(v,1,m),x.isZero()||(x.negative^=1);p&&(p.words[m]=L)}return p&&p._strip(),x._strip(),l!=="div"&&y!==0&&x.iushrn(y),{div:p||null,mod:x}},o.prototype.divmod=function(a,l,y){if(t(!a.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,v,I;return this.negative!==0&&a.negative===0?(I=this.neg().divmod(a,l),l!=="mod"&&(x=I.div.neg()),l!=="div"&&(v=I.mod.neg(),y&&v.negative!==0&&v.iadd(a)),{div:x,mod:v}):this.negative===0&&a.negative!==0?(I=this.divmod(a.neg(),l),l!=="mod"&&(x=I.div.neg()),{div:x,mod:I.mod}):(this.negative&a.negative)!==0?(I=this.neg().divmod(a.neg(),l),l!=="div"&&(v=I.mod.neg(),y&&v.negative!==0&&v.isub(a)),{div:I.div,mod:v}):a.length>this.length||this.cmp(a)<0?{div:new o(0),mod:this}:a.length===1?l==="div"?{div:this.divn(a.words[0]),mod:null}:l==="mod"?{div:null,mod:new o(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new o(this.modrn(a.words[0]))}:this._wordDiv(a,l)},o.prototype.div=function(a){return this.divmod(a,"div",!1).div},o.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},o.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},o.prototype.divRound=function(a){var l=this.divmod(a);if(l.mod.isZero())return l.div;var y=l.div.negative!==0?l.mod.isub(a):l.mod,x=a.ushrn(1),v=a.andln(1),I=y.cmp(x);return I<0||v===1&&I===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},o.prototype.modrn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var y=(1<<26)%a,x=0,v=this.length-1;v>=0;v--)x=(y*x+(this.words[v]|0))%a;return l?-x:x},o.prototype.modn=function(a){return this.modrn(a)},o.prototype.idivn=function(a){var l=a<0;l&&(a=-a),t(a<=67108863);for(var y=0,x=this.length-1;x>=0;x--){var v=(this.words[x]|0)+y*67108864;this.words[x]=v/a|0,y=v%a}return this._strip(),l?this.ineg():this},o.prototype.divn=function(a){return this.clone().idivn(a)},o.prototype.egcd=function(a){t(a.negative===0),t(!a.isZero());var l=this,y=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var x=new o(1),v=new o(0),I=new o(0),B=new o(1),S=0;l.isEven()&&y.isEven();)l.iushrn(1),y.iushrn(1),++S;for(var p=y.clone(),E=l.clone();!l.isZero();){for(var ie=0,m=1;(l.words[0]&m)===0&&ie<26;++ie,m<<=1);if(ie>0)for(l.iushrn(ie);ie-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(p),v.isub(E)),x.iushrn(1),v.iushrn(1);for(var L=0,O=1;(y.words[0]&O)===0&&L<26;++L,O<<=1);if(L>0)for(y.iushrn(L);L-- >0;)(I.isOdd()||B.isOdd())&&(I.iadd(p),B.isub(E)),I.iushrn(1),B.iushrn(1);l.cmp(y)>=0?(l.isub(y),x.isub(I),v.isub(B)):(y.isub(l),I.isub(x),B.isub(v))}return{a:I,b:B,gcd:y.iushln(S)}},o.prototype._invmp=function(a){t(a.negative===0),t(!a.isZero());var l=this,y=a.clone();l.negative!==0?l=l.umod(a):l=l.clone();for(var x=new o(1),v=new o(0),I=y.clone();l.cmpn(1)>0&&y.cmpn(1)>0;){for(var B=0,S=1;(l.words[0]&S)===0&&B<26;++B,S<<=1);if(B>0)for(l.iushrn(B);B-- >0;)x.isOdd()&&x.iadd(I),x.iushrn(1);for(var p=0,E=1;(y.words[0]&E)===0&&p<26;++p,E<<=1);if(p>0)for(y.iushrn(p);p-- >0;)v.isOdd()&&v.iadd(I),v.iushrn(1);l.cmp(y)>=0?(l.isub(y),x.isub(v)):(y.isub(l),v.isub(x))}var ie;return l.cmpn(1)===0?ie=x:ie=v,ie.cmpn(0)<0&&ie.iadd(a),ie},o.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var l=this.clone(),y=a.clone();l.negative=0,y.negative=0;for(var x=0;l.isEven()&&y.isEven();x++)l.iushrn(1),y.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;y.isEven();)y.iushrn(1);var v=l.cmp(y);if(v<0){var I=l;l=y,y=I}else if(v===0||y.cmpn(1)===0)break;l.isub(y)}while(!0);return y.iushln(x)},o.prototype.invm=function(a){return this.egcd(a).a.umod(a)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(a){return this.words[0]&a},o.prototype.bincn=function(a){t(typeof a=="number");var l=a%26,y=(a-l)/26,x=1<<l;if(this.length<=y)return this._expand(y+1),this.words[y]|=x,this;for(var v=x,I=y;v!==0&&I<this.length;I++){var B=this.words[I]|0;B+=v,v=B>>>26,B&=67108863,this.words[I]=B}return v!==0&&(this.words[I]=v,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(a){var l=a<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var y;if(this.length>1)y=1;else{l&&(a=-a),t(a<=67108863,"Number is too big");var x=this.words[0]|0;y=x===a?0:x<a?-1:1}return this.negative!==0?-y|0:y},o.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var l=this.ucmp(a);return this.negative!==0?-l|0:l},o.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var l=0,y=this.length-1;y>=0;y--){var x=this.words[y]|0,v=a.words[y]|0;if(x!==v){x<v?l=-1:x>v&&(l=1);break}}return l},o.prototype.gtn=function(a){return this.cmpn(a)===1},o.prototype.gt=function(a){return this.cmp(a)===1},o.prototype.gten=function(a){return this.cmpn(a)>=0},o.prototype.gte=function(a){return this.cmp(a)>=0},o.prototype.ltn=function(a){return this.cmpn(a)===-1},o.prototype.lt=function(a){return this.cmp(a)===-1},o.prototype.lten=function(a){return this.cmpn(a)<=0},o.prototype.lte=function(a){return this.cmp(a)<=0},o.prototype.eqn=function(a){return this.cmpn(a)===0},o.prototype.eq=function(a){return this.cmp(a)===0},o.red=function(a){return new Ie(a)},o.prototype.toRed=function(a){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},o.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(a){return this.red=a,this},o.prototype.forceRed=function(a){return t(!this.red,"Already a number in reduction context"),this._forceRed(a)},o.prototype.redAdd=function(a){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},o.prototype.redIAdd=function(a){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},o.prototype.redSub=function(a){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},o.prototype.redISub=function(a){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},o.prototype.redShl=function(a){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},o.prototype.redMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},o.prototype.redIMul=function(a){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},o.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(a){return t(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var J={k256:null,p224:null,p192:null,p25519:null};function W(g,a){this.name=g,this.p=new o(a,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var a=new o(null);return a.words=new Array(Math.ceil(this.n/13)),a},W.prototype.ireduce=function(a){var l=a,y;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),y=l.bitLength();while(y>this.n);var x=y<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},W.prototype.split=function(a,l){a.iushrn(this.n,0,l)},W.prototype.imulK=function(a){return a.imul(this.k)};function we(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(we,W),we.prototype.split=function(a,l){for(var y=4194303,x=Math.min(a.length,9),v=0;v<x;v++)l.words[v]=a.words[v];if(l.length=x,a.length<=9){a.words[0]=0,a.length=1;return}var I=a.words[9];for(l.words[l.length++]=I&y,v=10;v<a.length;v++){var B=a.words[v]|0;a.words[v-10]=(B&y)<<4|I>>>22,I=B}I>>>=22,a.words[v-10]=I,I===0&&a.length>10?a.length-=10:a.length-=9},we.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var l=0,y=0;y<a.length;y++){var x=a.words[y]|0;l+=x*977,a.words[y]=l&67108863,l=x*64+(l/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ge(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ge,W);function ce(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ce,W);function Ue(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Ue,W),Ue.prototype.imulK=function(a){for(var l=0,y=0;y<a.length;y++){var x=(a.words[y]|0)*19+l,v=x&67108863;x>>>=26,a.words[y]=v,l=x}return l!==0&&(a.words[a.length++]=l),a},o._prime=function(a){if(J[a])return J[a];var l;if(a==="k256")l=new we;else if(a==="p224")l=new ge;else if(a==="p192")l=new ce;else if(a==="p25519")l=new Ue;else throw new Error("Unknown prime "+a);return J[a]=l,l};function Ie(g){if(typeof g=="string"){var a=o._prime(g);this.m=a.p,this.prime=a}else t(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}Ie.prototype._verify1=function(a){t(a.negative===0,"red works only with positives"),t(a.red,"red works only with red numbers")},Ie.prototype._verify2=function(a,l){t((a.negative|l.negative)===0,"red works only with positives"),t(a.red&&a.red===l.red,"red works only with red numbers")},Ie.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(d(a,a.umod(this.m)._forceRed(this)),a)},Ie.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Ie.prototype.add=function(a,l){this._verify2(a,l);var y=a.add(l);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Ie.prototype.iadd=function(a,l){this._verify2(a,l);var y=a.iadd(l);return y.cmp(this.m)>=0&&y.isub(this.m),y},Ie.prototype.sub=function(a,l){this._verify2(a,l);var y=a.sub(l);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Ie.prototype.isub=function(a,l){this._verify2(a,l);var y=a.isub(l);return y.cmpn(0)<0&&y.iadd(this.m),y},Ie.prototype.shl=function(a,l){return this._verify1(a),this.imod(a.ushln(l))},Ie.prototype.imul=function(a,l){return this._verify2(a,l),this.imod(a.imul(l))},Ie.prototype.mul=function(a,l){return this._verify2(a,l),this.imod(a.mul(l))},Ie.prototype.isqr=function(a){return this.imul(a,a.clone())},Ie.prototype.sqr=function(a){return this.mul(a,a)},Ie.prototype.sqrt=function(a){if(a.isZero())return a.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var y=this.m.add(new o(1)).iushrn(2);return this.pow(a,y)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);t(!x.isZero());var I=new o(1).toRed(this),B=I.redNeg(),S=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new o(2*p*p).toRed(this);this.pow(p,S).cmp(B)!==0;)p.redIAdd(B);for(var E=this.pow(p,x),ie=this.pow(a,x.addn(1).iushrn(1)),m=this.pow(a,x),L=v;m.cmp(I)!==0;){for(var O=m,q=0;O.cmp(I)!==0;q++)O=O.redSqr();t(q<L);var G=this.pow(E,new o(1).iushln(L-q-1));ie=ie.redMul(G),E=G.redSqr(),m=m.redMul(E),L=q}return ie},Ie.prototype.invm=function(a){var l=a._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},Ie.prototype.pow=function(a,l){if(l.isZero())return new o(1).toRed(this);if(l.cmpn(1)===0)return a.clone();var y=4,x=new Array(1<<y);x[0]=new o(1).toRed(this),x[1]=a;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],a);var I=x[0],B=0,S=0,p=l.bitLength()%26;for(p===0&&(p=26),v=l.length-1;v>=0;v--){for(var E=l.words[v],ie=p-1;ie>=0;ie--){var m=E>>ie&1;if(I!==x[0]&&(I=this.sqr(I)),m===0&&B===0){S=0;continue}B<<=1,B|=m,S++,!(S!==y&&(v!==0||ie!==0))&&(I=this.mul(I,x[B]),S=0,B=0)}p=26}return I},Ie.prototype.convertTo=function(a){var l=a.umod(this.m);return l===a?l.clone():l},Ie.prototype.convertFrom=function(a){var l=a.clone();return l.red=null,l},o.mont=function(a){return new U(a)};function U(g){Ie.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(U,Ie),U.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},U.prototype.convertFrom=function(a){var l=this.imod(a.mul(this.rinv));return l.red=null,l},U.prototype.imul=function(a,l){if(a.isZero()||l.isZero())return a.words[0]=0,a.length=1,a;var y=a.imul(l),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(x).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},U.prototype.mul=function(a,l){if(a.isZero()||l.isZero())return new o(0)._forceRed(this);var y=a.mul(l),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(x).iushrn(this.shift),I=v;return v.cmp(this.m)>=0?I=v.isub(this.m):v.cmpn(0)<0&&(I=v.iadd(this.m)),I._forceRed(this)},U.prototype.invm=function(a){var l=this.imod(a._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof Qf>"u"||Qf,My)});var Ny=xe((I6,Ua)=>{h();(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",n=t?window:{};n.JS_SHA3_NO_WINDOW&&(t=!1);var o=!t&&typeof self=="object",s=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?n=global:o&&(n=self);var i=!n.JS_SHA3_NO_COMMON_JS&&typeof Ua=="object"&&Ua.exports,u=typeof define=="function"&&define.amd,f=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),b=[31,7936,2031616,520093696],w=[4,1024,262144,67108864],T=[1,256,65536,16777216],A=[6,1536,393216,100663296],D=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Z=[224,256,384,512],ee=[128,256],he=["hex","buffer","arrayBuffer","array","digest"],se={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(m){return Object.prototype.toString.call(m)==="[object Array]"}),f&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(m){return typeof m=="object"&&m.buffer&&m.buffer.constructor===ArrayBuffer});for(var X=function(m,L,O){return function(q){return new p(m,L,m).update(q)[O]()}},J=function(m,L,O){return function(q,G){return new p(m,L,G).update(q)[O]()}},W=function(m,L,O){return function(q,G,de,ne){return a["cshake"+m].update(q,G,de,ne)[O]()}},we=function(m,L,O){return function(q,G,de,ne){return a["kmac"+m].update(q,G,de,ne)[O]()}},ge=function(m,L,O,q){for(var G=0;G<he.length;++G){var de=he[G];m[de]=L(O,q,de)}return m},ce=function(m,L){var O=X(m,L,"hex");return O.create=function(){return new p(m,L,m)},O.update=function(q){return O.create().update(q)},ge(O,X,m,L)},Ue=function(m,L){var O=J(m,L,"hex");return O.create=function(q){return new p(m,L,q)},O.update=function(q,G){return O.create(G).update(q)},ge(O,J,m,L)},Ie=function(m,L){var O=se[m],q=W(m,L,"hex");return q.create=function(G,de,ne){return!de&&!ne?a["shake"+m].create(G):new p(m,L,G).bytepad([de,ne],O)},q.update=function(G,de,ne,oe){return q.create(de,ne,oe).update(G)},ge(q,W,m,L)},U=function(m,L){var O=se[m],q=we(m,L,"hex");return q.create=function(G,de,ne){return new E(m,L,de).bytepad(["KMAC",ne],O).bytepad([G],O)},q.update=function(G,de,ne,oe){return q.create(G,ne,oe).update(de)},ge(q,we,m,L)},g=[{name:"keccak",padding:T,bits:Z,createMethod:ce},{name:"sha3",padding:A,bits:Z,createMethod:ce},{name:"shake",padding:b,bits:ee,createMethod:Ue},{name:"cshake",padding:w,bits:ee,createMethod:Ie},{name:"kmac",padding:w,bits:ee,createMethod:U}],a={},l=[],y=0;y<g.length;++y)for(var x=g[y],v=x.bits,I=0;I<v.length;++I){var B=x.name+"_"+v[I];if(l.push(B),a[B]=x.createMethod(v[I],x.padding),x.name!=="sha3"){var S=x.name+v[I];l.push(S),a[S]=a[B]}}function p(m,L,O){this.blocks=[],this.s=[],this.padding=L,this.outputBits=O,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(m<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=O>>5,this.extraBytes=(O&31)>>3;for(var q=0;q<50;++q)this.s[q]=0}p.prototype.update=function(m){if(this.finalized)throw new Error(e);var L,O=typeof m;if(O!=="string"){if(O==="object"){if(m===null)throw new Error(r);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(r)}else throw new Error(r);L=!0}for(var q=this.blocks,G=this.byteCount,de=m.length,ne=this.blockCount,oe=0,jt=this.s,ye,Te;oe<de;){if(this.reset)for(this.reset=!1,q[0]=this.block,ye=1;ye<ne+1;++ye)q[ye]=0;if(L)for(ye=this.start;oe<de&&ye<G;++oe)q[ye>>2]|=m[oe]<<D[ye++&3];else for(ye=this.start;oe<de&&ye<G;++oe)Te=m.charCodeAt(oe),Te<128?q[ye>>2]|=Te<<D[ye++&3]:Te<2048?(q[ye>>2]|=(192|Te>>6)<<D[ye++&3],q[ye>>2]|=(128|Te&63)<<D[ye++&3]):Te<55296||Te>=57344?(q[ye>>2]|=(224|Te>>12)<<D[ye++&3],q[ye>>2]|=(128|Te>>6&63)<<D[ye++&3],q[ye>>2]|=(128|Te&63)<<D[ye++&3]):(Te=65536+((Te&1023)<<10|m.charCodeAt(++oe)&1023),q[ye>>2]|=(240|Te>>18)<<D[ye++&3],q[ye>>2]|=(128|Te>>12&63)<<D[ye++&3],q[ye>>2]|=(128|Te>>6&63)<<D[ye++&3],q[ye>>2]|=(128|Te&63)<<D[ye++&3]);if(this.lastByteIndex=ye,ye>=G){for(this.start=ye-G,this.block=q[ne],ye=0;ye<ne;++ye)jt[ye]^=q[ye];ie(jt),this.reset=!0}else this.start=ye}return this},p.prototype.encode=function(m,L){var O=m&255,q=1,G=[O];for(m=m>>8,O=m&255;O>0;)G.unshift(O),m=m>>8,O=m&255,++q;return L?G.push(q):G.unshift(q),this.update(G),G.length},p.prototype.encodeString=function(m){var L,O=typeof m;if(O!=="string"){if(O==="object"){if(m===null)throw new Error(r);if(f&&m.constructor===ArrayBuffer)m=new Uint8Array(m);else if(!Array.isArray(m)&&(!f||!ArrayBuffer.isView(m)))throw new Error(r)}else throw new Error(r);L=!0}var q=0,G=m.length;if(L)q=G;else for(var de=0;de<m.length;++de){var ne=m.charCodeAt(de);ne<128?q+=1:ne<2048?q+=2:ne<55296||ne>=57344?q+=3:(ne=65536+((ne&1023)<<10|m.charCodeAt(++de)&1023),q+=4)}return q+=this.encode(q*8),this.update(m),q},p.prototype.bytepad=function(m,L){for(var O=this.encode(L),q=0;q<m.length;++q)O+=this.encodeString(m[q]);var G=L-O%L,de=[];return de.length=G,this.update(de),this},p.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var m=this.blocks,L=this.lastByteIndex,O=this.blockCount,q=this.s;if(m[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(m[0]=m[O],L=1;L<O+1;++L)m[L]=0;for(m[O-1]|=2147483648,L=0;L<O;++L)q[L]^=m[L];ie(q)}},p.prototype.toString=p.prototype.hex=function(){this.finalize();for(var m=this.blockCount,L=this.s,O=this.outputBlocks,q=this.extraBytes,G=0,de=0,ne="",oe;de<O;){for(G=0;G<m&&de<O;++G,++de)oe=L[G],ne+=d[oe>>4&15]+d[oe&15]+d[oe>>12&15]+d[oe>>8&15]+d[oe>>20&15]+d[oe>>16&15]+d[oe>>28&15]+d[oe>>24&15];de%m===0&&(ie(L),G=0)}return q&&(oe=L[G],ne+=d[oe>>4&15]+d[oe&15],q>1&&(ne+=d[oe>>12&15]+d[oe>>8&15]),q>2&&(ne+=d[oe>>20&15]+d[oe>>16&15])),ne},p.prototype.arrayBuffer=function(){this.finalize();var m=this.blockCount,L=this.s,O=this.outputBlocks,q=this.extraBytes,G=0,de=0,ne=this.outputBits>>3,oe;q?oe=new ArrayBuffer(O+1<<2):oe=new ArrayBuffer(ne);for(var jt=new Uint32Array(oe);de<O;){for(G=0;G<m&&de<O;++G,++de)jt[de]=L[G];de%m===0&&ie(L)}return q&&(jt[G]=L[G],oe=oe.slice(0,ne)),oe},p.prototype.buffer=p.prototype.arrayBuffer,p.prototype.digest=p.prototype.array=function(){this.finalize();for(var m=this.blockCount,L=this.s,O=this.outputBlocks,q=this.extraBytes,G=0,de=0,ne=[],oe,jt;de<O;){for(G=0;G<m&&de<O;++G,++de)oe=de<<2,jt=L[G],ne[oe]=jt&255,ne[oe+1]=jt>>8&255,ne[oe+2]=jt>>16&255,ne[oe+3]=jt>>24&255;de%m===0&&ie(L)}return q&&(oe=de<<2,jt=L[G],ne[oe]=jt&255,q>1&&(ne[oe+1]=jt>>8&255),q>2&&(ne[oe+2]=jt>>16&255)),ne};function E(m,L,O){p.call(this,m,L,O)}E.prototype=new p,E.prototype.finalize=function(){return this.encode(this.outputBits,!0),p.prototype.finalize.call(this)};var ie=function(m){var L,O,q,G,de,ne,oe,jt,ye,Te,mo,nt,ot,go,st,it,xo,at,ct,bo,ut,ft,wo,lt,pt,vo,ht,dt,So,yt,mt,_o,gt,xt,Eo,bt,wt,ko,vt,St,Io,_t,Et,Ao,kt,It,Ro,At,Rt,Bo,Bt,Tt,To,Pt,zt,Po,Mt,Lt,Ln,Cn,Nn,On,Un;for(q=0;q<48;q+=2)G=m[0]^m[10]^m[20]^m[30]^m[40],de=m[1]^m[11]^m[21]^m[31]^m[41],ne=m[2]^m[12]^m[22]^m[32]^m[42],oe=m[3]^m[13]^m[23]^m[33]^m[43],jt=m[4]^m[14]^m[24]^m[34]^m[44],ye=m[5]^m[15]^m[25]^m[35]^m[45],Te=m[6]^m[16]^m[26]^m[36]^m[46],mo=m[7]^m[17]^m[27]^m[37]^m[47],nt=m[8]^m[18]^m[28]^m[38]^m[48],ot=m[9]^m[19]^m[29]^m[39]^m[49],L=nt^(ne<<1|oe>>>31),O=ot^(oe<<1|ne>>>31),m[0]^=L,m[1]^=O,m[10]^=L,m[11]^=O,m[20]^=L,m[21]^=O,m[30]^=L,m[31]^=O,m[40]^=L,m[41]^=O,L=G^(jt<<1|ye>>>31),O=de^(ye<<1|jt>>>31),m[2]^=L,m[3]^=O,m[12]^=L,m[13]^=O,m[22]^=L,m[23]^=O,m[32]^=L,m[33]^=O,m[42]^=L,m[43]^=O,L=ne^(Te<<1|mo>>>31),O=oe^(mo<<1|Te>>>31),m[4]^=L,m[5]^=O,m[14]^=L,m[15]^=O,m[24]^=L,m[25]^=O,m[34]^=L,m[35]^=O,m[44]^=L,m[45]^=O,L=jt^(nt<<1|ot>>>31),O=ye^(ot<<1|nt>>>31),m[6]^=L,m[7]^=O,m[16]^=L,m[17]^=O,m[26]^=L,m[27]^=O,m[36]^=L,m[37]^=O,m[46]^=L,m[47]^=O,L=Te^(G<<1|de>>>31),O=mo^(de<<1|G>>>31),m[8]^=L,m[9]^=O,m[18]^=L,m[19]^=O,m[28]^=L,m[29]^=O,m[38]^=L,m[39]^=O,m[48]^=L,m[49]^=O,go=m[0],st=m[1],It=m[11]<<4|m[10]>>>28,Ro=m[10]<<4|m[11]>>>28,dt=m[20]<<3|m[21]>>>29,So=m[21]<<3|m[20]>>>29,Cn=m[31]<<9|m[30]>>>23,Nn=m[30]<<9|m[31]>>>23,_t=m[40]<<18|m[41]>>>14,Et=m[41]<<18|m[40]>>>14,xt=m[2]<<1|m[3]>>>31,Eo=m[3]<<1|m[2]>>>31,it=m[13]<<12|m[12]>>>20,xo=m[12]<<12|m[13]>>>20,At=m[22]<<10|m[23]>>>22,Rt=m[23]<<10|m[22]>>>22,yt=m[33]<<13|m[32]>>>19,mt=m[32]<<13|m[33]>>>19,On=m[42]<<2|m[43]>>>30,Un=m[43]<<2|m[42]>>>30,Pt=m[5]<<30|m[4]>>>2,zt=m[4]<<30|m[5]>>>2,bt=m[14]<<6|m[15]>>>26,wt=m[15]<<6|m[14]>>>26,at=m[25]<<11|m[24]>>>21,ct=m[24]<<11|m[25]>>>21,Bo=m[34]<<15|m[35]>>>17,Bt=m[35]<<15|m[34]>>>17,_o=m[45]<<29|m[44]>>>3,gt=m[44]<<29|m[45]>>>3,lt=m[6]<<28|m[7]>>>4,pt=m[7]<<28|m[6]>>>4,Po=m[17]<<23|m[16]>>>9,Mt=m[16]<<23|m[17]>>>9,ko=m[26]<<25|m[27]>>>7,vt=m[27]<<25|m[26]>>>7,bo=m[36]<<21|m[37]>>>11,ut=m[37]<<21|m[36]>>>11,Tt=m[47]<<24|m[46]>>>8,To=m[46]<<24|m[47]>>>8,Ao=m[8]<<27|m[9]>>>5,kt=m[9]<<27|m[8]>>>5,vo=m[18]<<20|m[19]>>>12,ht=m[19]<<20|m[18]>>>12,Lt=m[29]<<7|m[28]>>>25,Ln=m[28]<<7|m[29]>>>25,St=m[38]<<8|m[39]>>>24,Io=m[39]<<8|m[38]>>>24,ft=m[48]<<14|m[49]>>>18,wo=m[49]<<14|m[48]>>>18,m[0]=go^~it&at,m[1]=st^~xo&ct,m[10]=lt^~vo&dt,m[11]=pt^~ht&So,m[20]=xt^~bt&ko,m[21]=Eo^~wt&vt,m[30]=Ao^~It&At,m[31]=kt^~Ro&Rt,m[40]=Pt^~Po&Lt,m[41]=zt^~Mt&Ln,m[2]=it^~at&bo,m[3]=xo^~ct&ut,m[12]=vo^~dt&yt,m[13]=ht^~So&mt,m[22]=bt^~ko&St,m[23]=wt^~vt&Io,m[32]=It^~At&Bo,m[33]=Ro^~Rt&Bt,m[42]=Po^~Lt&Cn,m[43]=Mt^~Ln&Nn,m[4]=at^~bo&ft,m[5]=ct^~ut&wo,m[14]=dt^~yt&_o,m[15]=So^~mt&gt,m[24]=ko^~St&_t,m[25]=vt^~Io&Et,m[34]=At^~Bo&Tt,m[35]=Rt^~Bt&To,m[44]=Lt^~Cn&On,m[45]=Ln^~Nn&Un,m[6]=bo^~ft&go,m[7]=ut^~wo&st,m[16]=yt^~_o&lt,m[17]=mt^~gt&pt,m[26]=St^~_t&xt,m[27]=Io^~Et&Eo,m[36]=Bo^~Tt&Ao,m[37]=Bt^~To&kt,m[46]=Cn^~On&Pt,m[47]=Nn^~Un&zt,m[8]=ft^~go&it,m[9]=wo^~st&xo,m[18]=_o^~lt&vo,m[19]=gt^~pt&ht,m[28]=_t^~xt&bt,m[29]=Et^~Eo&wt,m[38]=Tt^~Ao&It,m[39]=To^~kt&Ro,m[48]=On^~Pt&Po,m[49]=Un^~zt&Mt,m[0]^=H[q],m[1]^=H[q+1]};if(i)Ua.exports=a;else{for(y=0;y<l.length;++y)n[l[y]]=a[l[y]];u&&define(function(){return a})}})()});var Wy=xe((tl,$y)=>{h();var Da=hs(),rn=Da.Buffer;function Hy(r,e){for(var t in r)e[t]=r[t]}rn.from&&rn.alloc&&rn.allocUnsafe&&rn.allocUnsafeSlow?$y.exports=Da:(Hy(Da,tl),tl.Buffer=Ko);function Ko(r,e,t){return rn(r,e,t)}Ko.prototype=Object.create(rn.prototype);Hy(rn,Ko);Ko.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return rn(r,e,t)};Ko.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var n=rn(r);return e!==void 0?typeof t=="string"?n.fill(e,t):n.fill(e):n.fill(0),n};Ko.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return rn(r)};Ko.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Da.SlowBuffer(r)}});var Vy=xe((K6,Ky)=>{"use strict";h();var qa=Wy().Buffer;function Y2(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),s=o.charCodeAt(0);if(e[s]!==255)throw new TypeError(o+" is ambiguous");e[s]=n}var i=r.length,u=r.charAt(0),f=Math.log(i)/Math.log(256),d=Math.log(256)/Math.log(i);function b(A){if((Array.isArray(A)||A instanceof Uint8Array)&&(A=qa.from(A)),!qa.isBuffer(A))throw new TypeError("Expected Buffer");if(A.length===0)return"";for(var D=0,H=0,Z=0,ee=A.length;Z!==ee&&A[Z]===0;)Z++,D++;for(var he=(ee-Z)*d+1>>>0,se=new Uint8Array(he);Z!==ee;){for(var X=A[Z],J=0,W=he-1;(X!==0||J<H)&&W!==-1;W--,J++)X+=256*se[W]>>>0,se[W]=X%i>>>0,X=X/i>>>0;if(X!==0)throw new Error("Non-zero carry");H=J,Z++}for(var we=he-H;we!==he&&se[we]===0;)we++;for(var ge=u.repeat(D);we<he;++we)ge+=r.charAt(se[we]);return ge}function w(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return qa.alloc(0);for(var D=0,H=0,Z=0;A[D]===u;)H++,D++;for(var ee=(A.length-D)*f+1>>>0,he=new Uint8Array(ee);A[D];){var se=e[A.charCodeAt(D)];if(se===255)return;for(var X=0,J=ee-1;(se!==0||X<Z)&&J!==-1;J--,X++)se+=i*he[J]>>>0,he[J]=se%256>>>0,se=se/256>>>0;if(se!==0)throw new Error("Non-zero carry");Z=X,D++}for(var W=ee-Z;W!==ee&&he[W]===0;)W++;var we=qa.allocUnsafe(H+(ee-W));we.fill(0,0,H);for(var ge=H;W!==ee;)we[ge++]=he[W++];return we}function T(A){var D=w(A);if(D)return D;throw new Error("Non-base"+i+" character")}return{encode:b,decodeUnsafe:w,decode:T}}Ky.exports=Y2});var $n=xe((G6,Gy)=>{h();var J2=Vy(),Q2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Gy.exports=J2(Q2)});var Ls=xe(C=>{"use strict";h();Object.defineProperty(C,"__esModule",{value:!0});C.s16=C.s8=C.nu64be=C.u48be=C.u40be=C.u32be=C.u24be=C.u16be=C.nu64=C.u48=C.u40=C.u32=C.u24=C.u16=C.u8=C.offset=C.greedy=C.Constant=C.UTF8=C.CString=C.Blob=C.Boolean=C.BitField=C.BitStructure=C.VariantLayout=C.Union=C.UnionLayoutDiscriminator=C.UnionDiscriminator=C.Structure=C.Sequence=C.DoubleBE=C.Double=C.FloatBE=C.Float=C.NearInt64BE=C.NearInt64=C.NearUInt64BE=C.NearUInt64=C.IntBE=C.Int=C.UIntBE=C.UInt=C.OffsetLayout=C.GreedyCount=C.ExternalLayout=C.bindConstructorLayout=C.nameWithProperty=C.Layout=C.uint8ArrayToBuffer=C.checkUint8Array=void 0;C.constant=C.utf8=C.cstr=C.blob=C.unionLayoutDiscriminator=C.union=C.seq=C.bits=C.struct=C.f64be=C.f64=C.f32be=C.f32=C.ns64be=C.s48be=C.s40be=C.s32be=C.s24be=C.s16be=C.ns64=C.s48=C.s40=C.s32=C.s24=void 0;var Cp=hs();function Ms(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}C.checkUint8Array=Ms;function Ve(r){return Ms(r),Cp.Buffer.from(r.buffer,r.byteOffset,r.length)}C.uint8ArrayToBuffer=Ve;var Ze=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};C.Layout=Ze;function Np(r,e){return e.property?r+"["+e.property+"]":r}C.nameWithProperty=Np;function mR(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ze))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}C.bindConstructorLayout=mR;var tr=class extends Ze{isCount(){throw new Error("ExternalLayout is abstract")}};C.ExternalLayout=tr;var pc=class extends tr{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Ms(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};C.GreedyCount=pc;var Ti=class extends tr{constructor(e,t=0,n){if(!(e instanceof Ze))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof xr||this.layout instanceof Ir}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};C.OffsetLayout=Ti;var xr=class extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ve(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ve(t).writeUIntLE(e,n,this.span),this.span}};C.UInt=xr;var Ir=class extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ve(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ve(t).writeUIntBE(e,n,this.span),this.span}};C.UIntBE=Ir;var kn=class extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ve(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ve(t).writeIntLE(e,n,this.span),this.span}};C.Int=kn;var Wn=class extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ve(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ve(t).writeIntBE(e,n,this.span),this.span}};C.IntBE=Wn;var Lp=Math.pow(2,32);function Bc(r){let e=Math.floor(r/Lp),t=r-e*Lp;return{hi32:e,lo32:t}}function Tc(r,e){return r*Lp+e}var hc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){let n=Ve(e),o=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return Tc(s,o)}encode(e,t,n=0){let o=Bc(e),s=Ve(t);return s.writeUInt32LE(o.lo32,n),s.writeUInt32LE(o.hi32,n+4),8}};C.NearUInt64=hc;var dc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){let n=Ve(e),o=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return Tc(o,s)}encode(e,t,n=0){let o=Bc(e),s=Ve(t);return s.writeUInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};C.NearUInt64BE=dc;var yc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){let n=Ve(e),o=n.readUInt32LE(t),s=n.readInt32LE(t+4);return Tc(s,o)}encode(e,t,n=0){let o=Bc(e),s=Ve(t);return s.writeUInt32LE(o.lo32,n),s.writeInt32LE(o.hi32,n+4),8}};C.NearInt64=yc;var mc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){let n=Ve(e),o=n.readInt32BE(t),s=n.readUInt32BE(t+4);return Tc(o,s)}encode(e,t,n=0){let o=Bc(e),s=Ve(t);return s.writeInt32BE(o.hi32,n),s.writeUInt32BE(o.lo32,n+4),8}};C.NearInt64BE=mc;var gc=class extends Ze{constructor(e){super(4,e)}decode(e,t=0){return Ve(e).readFloatLE(t)}encode(e,t,n=0){return Ve(t).writeFloatLE(e,n),4}};C.Float=gc;var xc=class extends Ze{constructor(e){super(4,e)}decode(e,t=0){return Ve(e).readFloatBE(t)}encode(e,t,n=0){return Ve(t).writeFloatBE(e,n),4}};C.FloatBE=xc;var bc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){return Ve(e).readDoubleLE(t)}encode(e,t,n=0){return Ve(t).writeDoubleLE(e,n),8}};C.Double=bc;var wc=class extends Ze{constructor(e){super(8,e)}decode(e,t=0){return Ve(e).readDoubleBE(t)}encode(e,t,n=0){return Ve(t).writeDoubleBE(e,n),8}};C.DoubleBE=wc;var vc=class extends Ze{constructor(e,t,n){if(!(e instanceof Ze))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof tr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof tr)&&0<e.span&&(o=t*e.span),super(o,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof tr&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let s=0;for(;s<o;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],o=0,s=this.count;for(s instanceof tr&&(s=s.decode(e,t));o<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n=0){let o=this.elementLayout,s=e.reduce((i,u)=>i+o.encode(u,t,n+i),0);return this.count instanceof tr&&this.count.encode(e.length,t,n),s}};C.Sequence=vc;var Sc=class extends Ze{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,i)=>s&&i instanceof Ze,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((s,i)=>s+i.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,s)=>{let i=s.getSpan(e,t);return t+=i,o+i},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Ms(e);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let o=n,s=0,i=0;for(let u of this.fields){let f=u.span;if(i=0<f?f:0,u.property!==void 0){let d=e[u.property];d!==void 0&&(i=u.encode(d,t,n),0>f&&(f=u.getSpan(t,n)))}s=n,n+=f}return s+i-o}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};C.Structure=Sc;var Pi=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};C.UnionDiscriminator=Pi;var zs=class extends Pi{constructor(e,t){if(!(e instanceof tr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};C.UnionLayoutDiscriminator=zs;var zi=class extends Ze{constructor(e,t,n){let o;if(e instanceof xr||e instanceof Ir)o=new zs(new Ti(e));else if(e instanceof tr&&e.isCount())o=new zs(e);else if(e instanceof Pi)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ze))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof xr||e instanceof Ir)&&(s+=o.layout.span)),super(s,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof xr||e instanceof Ir,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return i(u)},this.configGetSourceVariant=function(u){i=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,o=this.discriminator,s=o.decode(e,t),i=this.registry[s];if(i===void 0){let u=this.defaultLayout,f=0;this.usesPrefixDiscriminator&&(f=o.layout.span),n=this.makeDestinationObject(),n[o.property]=s,n[u.property]=u.decode(e,t+f)}else n=i.decode(e,t);return n}encode(e,t,n=0){let o=this.getSourceVariant(e);if(o===void 0){let s=this.discriminator,i=this.defaultLayout,u=0;return this.usesPrefixDiscriminator&&(u=s.layout.span),s.encode(e[s.property],t,n),u+i.encode(e[i.property],t,n+u)}return o.encode(e,t,n)}addVariant(e,t,n){let o=new _c(this,e,t,n);return this.registry[e]=o,o}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};C.Union=zi;var _c=class extends Ze{constructor(e,t,n,o){if(!(e instanceof zi))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Ze))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,o),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+n)),n+o}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=o;if(this.layout&&(this.layout.encode(e[this.property],t,n+o),s+=this.layout.getSpan(t,n+o),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};C.VariantLayout=_c;function Ps(r){return 0>r&&(r+=4294967296),r}var Mi=class extends Ze{constructor(e,t,n){if(!(e instanceof xr||e instanceof Ir))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(s){return o=Ps(s),this},this._packedGetValue=function(){return o}}decode(e,t=0){let n=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let o=this.word.decode(t,n);this._packedSetValue(o);for(let s of this.fields)if(s.property!==void 0){let i=e[s.property];i!==void 0&&s.encode(i)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new Li(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new Ec(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};C.BitStructure=Mi;var Li=class{constructor(e,t,n){if(!(e instanceof Mi))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let o=8*e.span,s=e.fields.reduce((i,u)=>i+u.bits,0);if(t+s>o)throw new Error("bits too long for span remainder ("+(o-s)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=o-s-t),this.wordMask=Ps(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Ps(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ps(e&this.valueMask))throw new TypeError(Np("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Ps(e<<this.start);this.container._packedSetValue(Ps(t&~this.wordMask)|n)}};C.BitField=Li;var Ec=class extends Li{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};C.Boolean=Ec;var kc=class extends Ze{constructor(e,t){if(!(e instanceof tr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof tr||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ve(e).slice(t,t+n)}encode(e,t,n){let o=this.length;if(this.length instanceof tr&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Np("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>t.length)throw new RangeError("encoding overruns Uint8Array");let s=Ve(e);return Ve(t).write(s.toString("hex"),n,o,"hex"),this.length instanceof tr&&this.length.encode(o,t,n),o}};C.Blob=kc;var Ic=class extends Ze{constructor(e){super(-1,e)}getSpan(e,t=0){Ms(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return Ve(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=Cp.Buffer.from(e,"utf8"),s=o.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let i=Ve(t);return o.copy(i,n),i[n+s]=0,s+1}};C.CString=Ic;var Ac=class extends Ze{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Ms(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ve(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let o=Cp.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(Ve(t),n),s}};C.UTF8=Ac;var Rc=class extends Ze{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};C.Constant=Rc;C.greedy=(r,e)=>new pc(r,e);C.offset=(r,e,t)=>new Ti(r,e,t);C.u8=r=>new xr(1,r);C.u16=r=>new xr(2,r);C.u24=r=>new xr(3,r);C.u32=r=>new xr(4,r);C.u40=r=>new xr(5,r);C.u48=r=>new xr(6,r);C.nu64=r=>new hc(r);C.u16be=r=>new Ir(2,r);C.u24be=r=>new Ir(3,r);C.u32be=r=>new Ir(4,r);C.u40be=r=>new Ir(5,r);C.u48be=r=>new Ir(6,r);C.nu64be=r=>new dc(r);C.s8=r=>new kn(1,r);C.s16=r=>new kn(2,r);C.s24=r=>new kn(3,r);C.s32=r=>new kn(4,r);C.s40=r=>new kn(5,r);C.s48=r=>new kn(6,r);C.ns64=r=>new yc(r);C.s16be=r=>new Wn(2,r);C.s24be=r=>new Wn(3,r);C.s32be=r=>new Wn(4,r);C.s40be=r=>new Wn(5,r);C.s48be=r=>new Wn(6,r);C.ns64be=r=>new mc(r);C.f32=r=>new gc(r);C.f32be=r=>new xc(r);C.f64=r=>new bc(r);C.f64be=r=>new wc(r);C.struct=(r,e,t)=>new Sc(r,e,t);C.bits=(r,e,t)=>new Mi(r,e,t);C.seq=(r,e,t)=>new vc(r,e,t);C.union=(r,e,t)=>new zi(r,e,t);C.unionLayoutDiscriminator=(r,e)=>new zs(r,e);C.blob=(r,e)=>new kc(r,e);C.cstr=r=>new Ic(r);C.utf8=(r,e)=>new Ac(r,e);C.constant=(r,e)=>new Rc(r,e)});var Ni=xe(Us=>{"use strict";h();var Op=Ef(),Ns=If(),Q1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Us.Buffer=j;Us.SlowBuffer=SR;Us.INSPECT_MAX_BYTES=50;var Pc=2147483647;Us.kMaxLength=Pc;j.TYPED_ARRAY_SUPPORT=gR();!j.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gR(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(j.prototype,"parent",{enumerable:!0,get:function(){if(!!j.isBuffer(this))return this.buffer}});Object.defineProperty(j.prototype,"offset",{enumerable:!0,get:function(){if(!!j.isBuffer(this))return this.byteOffset}});function In(r){if(r>Pc)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,j.prototype),e}function j(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Fp(r)}return rv(r,e,t)}j.poolSize=8192;function rv(r,e,t){if(typeof r=="string")return bR(r,e);if(ArrayBuffer.isView(r))return wR(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(sn(r,ArrayBuffer)||r&&sn(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sn(r,SharedArrayBuffer)||r&&sn(r.buffer,SharedArrayBuffer)))return Dp(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return j.from(n,e,t);let o=vR(r);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return j.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}j.from=function(r,e,t){return rv(r,e,t)};Object.setPrototypeOf(j.prototype,Uint8Array.prototype);Object.setPrototypeOf(j,Uint8Array);function nv(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function xR(r,e,t){return nv(r),r<=0?In(r):e!==void 0?typeof t=="string"?In(r).fill(e,t):In(r).fill(e):In(r)}j.alloc=function(r,e,t){return xR(r,e,t)};function Fp(r){return nv(r),In(r<0?0:jp(r)|0)}j.allocUnsafe=function(r){return Fp(r)};j.allocUnsafeSlow=function(r){return Fp(r)};function bR(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!j.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=ov(r,e)|0,n=In(t),o=n.write(r,e);return o!==t&&(n=n.slice(0,o)),n}function Up(r){let e=r.length<0?0:jp(r.length)|0,t=In(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function wR(r){if(sn(r,Uint8Array)){let e=new Uint8Array(r);return Dp(e.buffer,e.byteOffset,e.byteLength)}return Up(r)}function Dp(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,j.prototype),n}function vR(r){if(j.isBuffer(r)){let e=jp(r.length)|0,t=In(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||$p(r.length)?In(0):Up(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Up(r.data)}function jp(r){if(r>=Pc)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pc.toString(16)+" bytes");return r|0}function SR(r){return+r!=r&&(r=0),j.alloc(+r)}j.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==j.prototype};j.compare=function(e,t){if(sn(e,Uint8Array)&&(e=j.from(e,e.offset,e.byteLength)),sn(t,Uint8Array)&&(t=j.from(t,t.offset,t.byteLength)),!j.isBuffer(e)||!j.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,o=t.length;for(let s=0,i=Math.min(n,o);s<i;++s)if(e[s]!==t[s]){n=e[s],o=t[s];break}return n<o?-1:o<n?1:0};j.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};j.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return j.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let o=j.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){let i=e[n];if(sn(i,Uint8Array))s+i.length>o.length?(j.isBuffer(i)||(i=j.from(i)),i.copy(o,s)):Uint8Array.prototype.set.call(o,i,s);else if(j.isBuffer(i))i.copy(o,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=i.length}return o};function ov(r,e){if(j.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||sn(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return qp(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return hv(r).length;default:if(o)return n?-1:qp(r).length;e=(""+e).toLowerCase(),o=!0}}j.byteLength=ov;function _R(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return MR(this,e,t);case"utf8":case"utf-8":return iv(this,e,t);case"ascii":return PR(this,e,t);case"latin1":case"binary":return zR(this,e,t);case"base64":return BR(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return LR(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}j.prototype._isBuffer=!0;function Zo(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}j.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Zo(this,t,t+1);return this};j.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Zo(this,t,t+3),Zo(this,t+1,t+2);return this};j.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Zo(this,t,t+7),Zo(this,t+1,t+6),Zo(this,t+2,t+5),Zo(this,t+3,t+4);return this};j.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?iv(this,0,e):_R.apply(this,arguments)};j.prototype.toLocaleString=j.prototype.toString;j.prototype.equals=function(e){if(!j.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:j.compare(this,e)===0};j.prototype.inspect=function(){let e="",t=Us.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Q1&&(j.prototype[Q1]=j.prototype.inspect);j.prototype.compare=function(e,t,n,o,s){if(sn(e,Uint8Array)&&(e=j.from(e,e.offset,e.byteLength)),!j.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),s===void 0&&(s=this.length),t<0||n>e.length||o<0||s>this.length)throw new RangeError("out of range index");if(o>=s&&t>=n)return 0;if(o>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,s>>>=0,this===e)return 0;let i=s-o,u=n-t,f=Math.min(i,u),d=this.slice(o,s),b=e.slice(t,n);for(let w=0;w<f;++w)if(d[w]!==b[w]){i=d[w],u=b[w];break}return i<u?-1:u<i?1:0};function sv(r,e,t,n,o){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,$p(t)&&(t=o?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(o)return-1;t=r.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=j.from(e,n)),j.isBuffer(e))return e.length===0?-1:X1(r,e,t,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):X1(r,[e],t,n,o);throw new TypeError("val must be string, number or Buffer")}function X1(r,e,t,n,o){let s=1,i=r.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,i/=2,u/=2,t/=2}function f(b,w){return s===1?b[w]:b.readUInt16BE(w*s)}let d;if(o){let b=-1;for(d=t;d<i;d++)if(f(r,d)===f(e,b===-1?0:d-b)){if(b===-1&&(b=d),d-b+1===u)return b*s}else b!==-1&&(d-=d-b),b=-1}else for(t+u>i&&(t=i-u),d=t;d>=0;d--){let b=!0;for(let w=0;w<u;w++)if(f(r,d+w)!==f(e,w)){b=!1;break}if(b)return d}return-1}j.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};j.prototype.indexOf=function(e,t,n){return sv(this,e,t,n,!0)};j.prototype.lastIndexOf=function(e,t,n){return sv(this,e,t,n,!1)};function ER(r,e,t,n){t=Number(t)||0;let o=r.length-t;n?(n=Number(n),n>o&&(n=o)):n=o;let s=e.length;n>s/2&&(n=s/2);let i;for(i=0;i<n;++i){let u=parseInt(e.substr(i*2,2),16);if($p(u))return i;r[t+i]=u}return i}function kR(r,e,t,n){return zc(qp(e,r.length-t),r,t,n)}function IR(r,e,t,n){return zc(UR(e),r,t,n)}function AR(r,e,t,n){return zc(hv(e),r,t,n)}function RR(r,e,t,n){return zc(DR(e,r.length-t),r,t,n)}j.prototype.write=function(e,t,n,o){if(t===void 0)o="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")o=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let i=!1;for(;;)switch(o){case"hex":return ER(this,e,t,n);case"utf8":case"utf-8":return kR(this,e,t,n);case"ascii":case"latin1":case"binary":return IR(this,e,t,n);case"base64":return AR(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return RR(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),i=!0}};j.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function BR(r,e,t){return e===0&&t===r.length?Op.fromByteArray(r):Op.fromByteArray(r.slice(e,t))}function iv(r,e,t){t=Math.min(r.length,t);let n=[],o=e;for(;o<t;){let s=r[o],i=null,u=s>239?4:s>223?3:s>191?2:1;if(o+u<=t){let f,d,b,w;switch(u){case 1:s<128&&(i=s);break;case 2:f=r[o+1],(f&192)===128&&(w=(s&31)<<6|f&63,w>127&&(i=w));break;case 3:f=r[o+1],d=r[o+2],(f&192)===128&&(d&192)===128&&(w=(s&15)<<12|(f&63)<<6|d&63,w>2047&&(w<55296||w>57343)&&(i=w));break;case 4:f=r[o+1],d=r[o+2],b=r[o+3],(f&192)===128&&(d&192)===128&&(b&192)===128&&(w=(s&15)<<18|(f&63)<<12|(d&63)<<6|b&63,w>65535&&w<1114112&&(i=w))}}i===null?(i=65533,u=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),o+=u}return TR(n)}var ev=4096;function TR(r){let e=r.length;if(e<=ev)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=ev));return t}function PR(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]&127);return n}function zR(r,e,t){let n="";t=Math.min(r.length,t);for(let o=e;o<t;++o)n+=String.fromCharCode(r[o]);return n}function MR(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let o="";for(let s=e;s<t;++s)o+=qR[r[s]];return o}function LR(r,e,t){let n=r.slice(e,t),o="";for(let s=0;s<n.length-1;s+=2)o+=String.fromCharCode(n[s]+n[s+1]*256);return o}j.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,j.prototype),o};function Zt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}j.prototype.readUintLE=j.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Zt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return o};j.prototype.readUintBE=j.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Zt(e,t,this.length);let o=this[e+--t],s=1;for(;t>0&&(s*=256);)o+=this[e+--t]*s;return o};j.prototype.readUint8=j.prototype.readUInt8=function(e,t){return e=e>>>0,t||Zt(e,1,this.length),this[e]};j.prototype.readUint16LE=j.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Zt(e,2,this.length),this[e]|this[e+1]<<8};j.prototype.readUint16BE=j.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Zt(e,2,this.length),this[e]<<8|this[e+1]};j.prototype.readUint32LE=j.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};j.prototype.readUint32BE=j.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};j.prototype.readBigUInt64LE=Kn(function(e){e=e>>>0,Os(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ci(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(s)<<BigInt(32))});j.prototype.readBigUInt64BE=Kn(function(e){e=e>>>0,Os(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ci(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(s)});j.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||Zt(e,t,this.length);let o=this[e],s=1,i=0;for(;++i<t&&(s*=256);)o+=this[e+i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};j.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||Zt(e,t,this.length);let o=t,s=1,i=this[e+--o];for(;o>0&&(s*=256);)i+=this[e+--o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i};j.prototype.readInt8=function(e,t){return e=e>>>0,t||Zt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};j.prototype.readInt16LE=function(e,t){e=e>>>0,t||Zt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};j.prototype.readInt16BE=function(e,t){e=e>>>0,t||Zt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};j.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};j.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};j.prototype.readBigInt64LE=Kn(function(e){e=e>>>0,Os(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ci(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});j.prototype.readBigInt64BE=Kn(function(e){e=e>>>0,Os(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ci(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});j.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),Ns.read(this,e,!0,23,4)};j.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Zt(e,4,this.length),Ns.read(this,e,!1,23,4)};j.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Zt(e,8,this.length),Ns.read(this,e,!0,52,8)};j.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Zt(e,8,this.length),Ns.read(this,e,!1,52,8)};function br(r,e,t,n,o,s){if(!j.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<s)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}j.prototype.writeUintLE=j.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;br(this,e,t,n,u,0)}let s=1,i=0;for(this[t]=e&255;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n};j.prototype.writeUintBE=j.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,n=n>>>0,!o){let u=Math.pow(2,8*n)-1;br(this,e,t,n,u,0)}let s=n-1,i=1;for(this[t+s]=e&255;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n};j.prototype.writeUint8=j.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,1,255,0),this[t]=e&255,t+1};j.prototype.writeUint16LE=j.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};j.prototype.writeUint16BE=j.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};j.prototype.writeUint32LE=j.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};j.prototype.writeUint32BE=j.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function av(r,e,t,n,o){pv(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,i=i>>8,r[t++]=i,t}function cv(r,e,t,n,o){pv(e,n,o,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let i=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=i,i=i>>8,r[t+2]=i,i=i>>8,r[t+1]=i,i=i>>8,r[t]=i,t+8}j.prototype.writeBigUInt64LE=Kn(function(e,t=0){return av(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});j.prototype.writeBigUInt64BE=Kn(function(e,t=0){return cv(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});j.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);br(this,e,t,n,f-1,-f)}let s=0,i=1,u=0;for(this[t]=e&255;++s<n&&(i*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};j.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t=t>>>0,!o){let f=Math.pow(2,8*n-1);br(this,e,t,n,f-1,-f)}let s=n-1,i=1,u=0;for(this[t+s]=e&255;--s>=0&&(i*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/i>>0)-u&255;return t+n};j.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};j.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};j.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};j.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};j.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||br(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};j.prototype.writeBigInt64LE=Kn(function(e,t=0){return av(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});j.prototype.writeBigInt64BE=Kn(function(e,t=0){return cv(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function uv(r,e,t,n,o,s){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function fv(r,e,t,n,o){return e=+e,t=t>>>0,o||uv(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ns.write(r,e,t,n,23,4),t+4}j.prototype.writeFloatLE=function(e,t,n){return fv(this,e,t,!0,n)};j.prototype.writeFloatBE=function(e,t,n){return fv(this,e,t,!1,n)};function lv(r,e,t,n,o){return e=+e,t=t>>>0,o||uv(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ns.write(r,e,t,n,52,8),t+8}j.prototype.writeDoubleLE=function(e,t,n){return lv(this,e,t,!0,n)};j.prototype.writeDoubleBE=function(e,t,n){return lv(this,e,t,!1,n)};j.prototype.copy=function(e,t,n,o){if(!j.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);let s=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),t),s};j.prototype.fill=function(e,t,n,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!j.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let i=e.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(e=i)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<n;++s)this[s]=e;else{let i=j.isBuffer(e)?e:j.from(e,o),u=i.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%u]}return this};var Cs={};function Hp(r,e,t){Cs[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Hp("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Hp("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Hp("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=tv(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=tv(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function tv(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function CR(r,e,t){Os(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ci(e,r.length-(t+1))}function pv(r,e,t,n,o,s){if(r>t||r<e){let i=typeof e=="bigint"?"n":"",u;throw s>3?e===0||e===BigInt(0)?u=`>= 0${i} and < 2${i} ** ${(s+1)*8}${i}`:u=`>= -(2${i} ** ${(s+1)*8-1}${i}) and < 2 ** ${(s+1)*8-1}${i}`:u=`>= ${e}${i} and <= ${t}${i}`,new Cs.ERR_OUT_OF_RANGE("value",u,r)}CR(n,o,s)}function Os(r,e){if(typeof r!="number")throw new Cs.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ci(r,e,t){throw Math.floor(r)!==r?(Os(r,t),new Cs.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Cs.ERR_BUFFER_OUT_OF_BOUNDS:new Cs.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var NR=/[^+/0-9A-Za-z-_]/g;function OR(r){if(r=r.split("=")[0],r=r.trim().replace(NR,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function qp(r,e){e=e||1/0;let t,n=r.length,o=null,s=[];for(let i=0;i<n;++i){if(t=r.charCodeAt(i),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(i+1===n){(e-=3)>-1&&s.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&s.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function UR(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function DR(r,e){let t,n,o,s=[];for(let i=0;i<r.length&&!((e-=2)<0);++i)t=r.charCodeAt(i),n=t>>8,o=t%256,s.push(o),s.push(n);return s}function hv(r){return Op.toByteArray(OR(r))}function zc(r,e,t,n){let o;for(o=0;o<n&&!(o+t>=e.length||o>=r.length);++o)e[o+t]=r[o];return o}function sn(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function $p(r){return r!==r}var qR=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let o=0;o<16;++o)e[n+o]=r[t]+r[o]}return e}();function Kn(r){return typeof BigInt>"u"?FR:r}function FR(){throw new Error("BigInt not supported")}});var Yp=xe(()=>{h()});var Bv=xe(ah=>{"use strict";h();function An(r,e,t){return e<=r&&r<=t}function Kc(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function jB(r){for(var e=String(r),t=e.length,n=0,o=[];n<t;){var s=e.charCodeAt(n);if(s<55296||s>57343)o.push(s);else if(56320<=s&&s<=57343)o.push(65533);else if(55296<=s&&s<=56319)if(n===t-1)o.push(65533);else{var i=r.charCodeAt(n+1);if(56320<=i&&i<=57343){var u=s&1023,f=i&1023;o.push(65536+(u<<10)+f),n+=1}else o.push(65533)}n+=1}return o}function HB(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var jc=-1;function ih(r){this.tokens=[].slice.call(r)}ih.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():jc},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var Fs=-1;function sh(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Hc="utf-8";function $c(r,e){if(!(this instanceof $c))return new $c(r,e);if(r=r!==void 0?String(r).toLowerCase():Hc,r!==Hc)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kc(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}$c.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=Kc(t),this._streaming||(this._decoder=new $B({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o=new ih(n),s=[],i;!o.endOfStream()&&(i=this._decoder.handler(o,o.read()),i!==Fs);)i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));if(!this._streaming){do{if(i=this._decoder.handler(o,o.read()),i===Fs)break;i!==null&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}while(!o.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),HB(s)}};function Wc(r,e){if(!(this instanceof Wc))return new Wc(r,e);if(r=r!==void 0?String(r).toLowerCase():Hc,r!==Hc)throw new Error("Encoding not supported. Only utf-8 is supported");e=Kc(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Wc.prototype={encode:function(e,t){e=e?String(e):"",t=Kc(t),this._streaming||(this._encoder=new WB(this._options)),this._streaming=Boolean(t.stream);for(var n=[],o=new ih(jB(e)),s;!o.endOfStream()&&(s=this._encoder.handler(o,o.read()),s!==Fs);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(o,o.read()),s!==Fs;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function $B(r){var e=r.fatal,t=0,n=0,o=0,s=128,i=191;this.handler=function(u,f){if(f===jc&&o!==0)return o=0,sh(e);if(f===jc)return Fs;if(o===0){if(An(f,0,127))return f;if(An(f,194,223))o=1,t=f-192;else if(An(f,224,239))f===224&&(s=160),f===237&&(i=159),o=2,t=f-224;else if(An(f,240,244))f===240&&(s=144),f===244&&(i=143),o=3,t=f-240;else return sh(e);return t=t<<6*o,null}if(!An(f,s,i))return t=o=n=0,s=128,i=191,u.prepend(f),sh(e);if(s=128,i=191,n+=1,t+=f-128<<6*(o-n),n!==o)return null;var d=t;return t=o=n=0,d}}function WB(r){var e=r.fatal;this.handler=function(t,n){if(n===jc)return Fs;if(An(n,0,127))return n;var o,s;An(n,128,2047)?(o=1,s=192):An(n,2048,65535)?(o=2,s=224):An(n,65536,1114111)&&(o=3,s=240);for(var i=[(n>>6*o)+s];o>0;){var u=n>>6*(o-1);i.push(128|u&63),o-=1}return i}}ah.TextEncoder=Wc;ah.TextDecoder=$c});var Lv=xe(Xe=>{"use strict";h();var KB=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),VB=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),un=Xe&&Xe.__decorate||function(r,e,t,n){var o=arguments.length,s=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var u=r.length-1;u>=0;u--)(i=r[u])&&(s=(o<3?i(s):o>3?i(e,t,s):i(e,t))||s);return o>3&&s&&Object.defineProperty(e,t,s),s},GB=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&KB(e,r,t);return VB(e,r),e},Tv=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.deserializeUnchecked=Xe.deserialize=Xe.serialize=Xe.BinaryReader=Xe.BinaryWriter=Xe.BorshError=Xe.baseDecode=Xe.baseEncode=void 0;var oo=Tv(Oa()),Pv=Tv($n()),ZB=GB(Bv()),YB=typeof TextDecoder!="function"?ZB.TextDecoder:TextDecoder,JB=new YB("utf-8",{fatal:!0});function QB(r){return typeof r=="string"&&(r=_.from(r,"utf8")),Pv.default.encode(_.from(r))}Xe.baseEncode=QB;function XB(r){return _.from(Pv.default.decode(r))}Xe.baseDecode=XB;var ch=1024,Jt=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Xe.BorshError=Jt;var Vc=class{constructor(){this.buf=_.alloc(ch),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=_.concat([this.buf,_.alloc(ch)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(_.from(new oo.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(_.from(new oo.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(_.from(new oo.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(_.from(new oo.default(e).toArray("le",64)))}writeBuffer(e){this.buf=_.concat([_.from(this.buf.subarray(0,this.length)),e,_.alloc(ch)]),this.length+=e.length}writeString(e){this.maybeResize();let t=_.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(_.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}};Xe.BinaryWriter=Vc;function fn(r,e,t){let n=t.value;t.value=function(...o){try{return n.apply(this,o)}catch(s){if(s instanceof RangeError){let i=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(i)>=0)throw new Jt("Reached the end of buffer when deserializing")}throw s}}}var lr=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new oo.default(e,"le")}readU128(){let e=this.readBuffer(16);return new oo.default(e,"le")}readU256(){let e=this.readBuffer(32);return new oo.default(e,"le")}readU512(){let e=this.readBuffer(64);return new oo.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Jt(`Expected buffer length ${e} isn't within bounds`);let t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){let e=this.readU32(),t=this.readBuffer(e);try{return JB.decode(t)}catch(n){throw new Jt(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let t=this.readU32(),n=Array();for(let o=0;o<t;++o)n.push(e());return n}};un([fn],lr.prototype,"readU8",null);un([fn],lr.prototype,"readU16",null);un([fn],lr.prototype,"readU32",null);un([fn],lr.prototype,"readU64",null);un([fn],lr.prototype,"readU128",null);un([fn],lr.prototype,"readU256",null);un([fn],lr.prototype,"readU512",null);un([fn],lr.prototype,"readString",null);un([fn],lr.prototype,"readFixedArray",null);un([fn],lr.prototype,"readArray",null);Xe.BinaryReader=lr;function zv(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Jo(r,e,t,n,o){try{if(typeof n=="string")o[`write${zv(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new Jt(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new Jt(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let s=0;s<n[1];s++)Jo(r,null,t[s],n[0],o)}else o.writeArray(t,s=>{Jo(r,e,s,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),Jo(r,e,t,n.type,o));break}case"map":{o.writeU32(t.size),t.forEach((s,i)=>{Jo(r,e,i,n.key,o),Jo(r,e,s,n.value,o)});break}default:throw new Jt(`FieldType ${n} unrecognized`)}else Mv(r,t,o)}catch(s){throw s instanceof Jt&&s.addToFieldPath(e),s}}function Mv(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}let n=r.get(e.constructor);if(!n)throw new Jt(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,s])=>{Jo(r,o,e[o],s,t)});else if(n.kind==="enum"){let o=e[n.field];for(let s=0;s<n.values.length;++s){let[i,u]=n.values[s];if(i===o){t.writeU8(s),Jo(r,i,e[i],u,t);break}}}else throw new Jt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function eT(r,e,t=Vc){let n=new t;return Mv(r,e,n),n.toArray()}Xe.serialize=eT;function Qo(r,e,t,n){try{if(typeof t=="string")return n[`read${zv(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){let o=[];for(let s=0;s<t[1];s++)o.push(Qo(r,null,t[0],n));return o}else return n.readArray(()=>Qo(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Qo(r,e,t.type,n):void 0;if(t.kind==="map"){let o=new Map,s=n.readU32();for(let i=0;i<s;i++){let u=Qo(r,e,t.key,n),f=Qo(r,e,t.value,n);o.set(u,f)}return o}return uh(r,t,n)}catch(o){throw o instanceof Jt&&o.addToFieldPath(e),o}}function uh(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);let n=r.get(e);if(!n)throw new Jt(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[s,i]of r.get(e).fields)o[s]=Qo(r,s,i,t);return new e(o)}if(n.kind==="enum"){let o=t.readU8();if(o>=n.values.length)throw new Jt(`Enum index: ${o} is out of range`);let[s,i]=n.values[o],u=Qo(r,s,i,t);return new e({[s]:u})}throw new Jt(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function tT(r,e,t,n=lr){let o=new n(t),s=uh(r,e,o);if(o.offset<t.length)throw new Jt(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return s}Xe.deserialize=tT;function rT(r,e,t,n=lr){let o=new n(t);return uh(r,e,o)}Xe.deserializeUnchecked=rT});var fh=xe(js=>{"use strict";h();Object.defineProperty(js,"__esModule",{value:!0});var Gc;function nT(r){{let e=_.from(r);e.reverse();let t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}return Gc.toBigInt(r,!1)}js.toBigIntLE=nT;function oT(r){{let e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return Gc.toBigInt(r,!0)}js.toBigIntBE=oT;function sT(r,e){{let t=r.toString(16),n=_.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return Gc.fromBigInt(r,_.allocUnsafe(e),!1)}js.toBufferLE=sT;function iT(r,e){{let t=r.toString(16);return _.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}return Gc.fromBigInt(r,_.allocUnsafe(e),!0)}js.toBufferBE=iT});var yh=xe(dh=>{"use strict";h();Object.defineProperty(dh,"__esModule",{value:!0});dh.default=hT;var Jc,pT=new Uint8Array(16);function hT(){if(!Jc&&(Jc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Jc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Jc(pT)}});var Dv=xe(Qc=>{"use strict";h();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.default=void 0;var dT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Qc.default=dT});var Hi=xe(Xc=>{"use strict";h();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.default=void 0;var yT=mT(Dv());function mT(r){return r&&r.__esModule?r:{default:r}}function gT(r){return typeof r=="string"&&yT.default.test(r)}var xT=gT;Xc.default=xT});var Wi=xe($i=>{"use strict";h();Object.defineProperty($i,"__esModule",{value:!0});$i.default=void 0;$i.unsafeStringify=qv;var bT=wT(Hi());function wT(r){return r&&r.__esModule?r:{default:r}}var Qt=[];for(let r=0;r<256;++r)Qt.push((r+256).toString(16).slice(1));function qv(r,e=0){return Qt[r[e+0]]+Qt[r[e+1]]+Qt[r[e+2]]+Qt[r[e+3]]+"-"+Qt[r[e+4]]+Qt[r[e+5]]+"-"+Qt[r[e+6]]+Qt[r[e+7]]+"-"+Qt[r[e+8]]+Qt[r[e+9]]+"-"+Qt[r[e+10]]+Qt[r[e+11]]+Qt[r[e+12]]+Qt[r[e+13]]+Qt[r[e+14]]+Qt[r[e+15]]}function vT(r,e=0){let t=qv(r,e);if(!(0,bT.default)(t))throw TypeError("Stringified UUID is invalid");return t}var ST=vT;$i.default=ST});var jv=xe(eu=>{"use strict";h();Object.defineProperty(eu,"__esModule",{value:!0});eu.default=void 0;var _T=kT(yh()),ET=Wi();function kT(r){return r&&r.__esModule?r:{default:r}}var Fv,mh,gh=0,xh=0;function IT(r,e,t){let n=e&&t||0,o=e||new Array(16);r=r||{};let s=r.node||Fv,i=r.clockseq!==void 0?r.clockseq:mh;if(s==null||i==null){let T=r.random||(r.rng||_T.default)();s==null&&(s=Fv=[T[0]|1,T[1],T[2],T[3],T[4],T[5]]),i==null&&(i=mh=(T[6]<<8|T[7])&16383)}let u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:xh+1,d=u-gh+(f-xh)/1e4;if(d<0&&r.clockseq===void 0&&(i=i+1&16383),(d<0||u>gh)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gh=u,xh=f,mh=i,u+=122192928e5;let b=((u&268435455)*1e4+f)%4294967296;o[n++]=b>>>24&255,o[n++]=b>>>16&255,o[n++]=b>>>8&255,o[n++]=b&255;let w=u/4294967296*1e4&268435455;o[n++]=w>>>8&255,o[n++]=w&255,o[n++]=w>>>24&15|16,o[n++]=w>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let T=0;T<6;++T)o[n+T]=s[T];return e||(0,ET.unsafeStringify)(o)}var AT=IT;eu.default=AT});var bh=xe(tu=>{"use strict";h();Object.defineProperty(tu,"__esModule",{value:!0});tu.default=void 0;var RT=BT(Hi());function BT(r){return r&&r.__esModule?r:{default:r}}function TT(r){if(!(0,RT.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var PT=TT;tu.default=PT});var wh=xe(es=>{"use strict";h();Object.defineProperty(es,"__esModule",{value:!0});es.URL=es.DNS=void 0;es.default=NT;var zT=Wi(),MT=LT(bh());function LT(r){return r&&r.__esModule?r:{default:r}}function CT(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var Hv="6ba7b810-9dad-11d1-80b4-00c04fd430c8";es.DNS=Hv;var $v="6ba7b811-9dad-11d1-80b4-00c04fd430c8";es.URL=$v;function NT(r,e,t){function n(o,s,i,u){var f;if(typeof o=="string"&&(o=CT(o)),typeof s=="string"&&(s=(0,MT.default)(s)),((f=s)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=t(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,i){u=u||0;for(let b=0;b<16;++b)i[u+b]=d[b];return i}return(0,zT.unsafeStringify)(d)}try{n.name=r}catch{}return n.DNS=Hv,n.URL=$v,n}});var Kv=xe(nu=>{"use strict";h();Object.defineProperty(nu,"__esModule",{value:!0});nu.default=void 0;function OT(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return UT(DT(qT(r),r.length*8))}function UT(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let o=0;o<t;o+=8){let s=r[o>>5]>>>o%32&255,i=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(i)}return e}function Wv(r){return(r+64>>>9<<4)+14+1}function DT(r,e){r[e>>5]|=128<<e%32,r[Wv(e)-1]=e;let t=1732584193,n=-271733879,o=-1732584194,s=271733878;for(let i=0;i<r.length;i+=16){let u=t,f=n,d=o,b=s;t=nr(t,n,o,s,r[i],7,-680876936),s=nr(s,t,n,o,r[i+1],12,-389564586),o=nr(o,s,t,n,r[i+2],17,606105819),n=nr(n,o,s,t,r[i+3],22,-1044525330),t=nr(t,n,o,s,r[i+4],7,-176418897),s=nr(s,t,n,o,r[i+5],12,1200080426),o=nr(o,s,t,n,r[i+6],17,-1473231341),n=nr(n,o,s,t,r[i+7],22,-45705983),t=nr(t,n,o,s,r[i+8],7,1770035416),s=nr(s,t,n,o,r[i+9],12,-1958414417),o=nr(o,s,t,n,r[i+10],17,-42063),n=nr(n,o,s,t,r[i+11],22,-1990404162),t=nr(t,n,o,s,r[i+12],7,1804603682),s=nr(s,t,n,o,r[i+13],12,-40341101),o=nr(o,s,t,n,r[i+14],17,-1502002290),n=nr(n,o,s,t,r[i+15],22,1236535329),t=or(t,n,o,s,r[i+1],5,-165796510),s=or(s,t,n,o,r[i+6],9,-1069501632),o=or(o,s,t,n,r[i+11],14,643717713),n=or(n,o,s,t,r[i],20,-373897302),t=or(t,n,o,s,r[i+5],5,-701558691),s=or(s,t,n,o,r[i+10],9,38016083),o=or(o,s,t,n,r[i+15],14,-660478335),n=or(n,o,s,t,r[i+4],20,-405537848),t=or(t,n,o,s,r[i+9],5,568446438),s=or(s,t,n,o,r[i+14],9,-1019803690),o=or(o,s,t,n,r[i+3],14,-187363961),n=or(n,o,s,t,r[i+8],20,1163531501),t=or(t,n,o,s,r[i+13],5,-1444681467),s=or(s,t,n,o,r[i+2],9,-51403784),o=or(o,s,t,n,r[i+7],14,1735328473),n=or(n,o,s,t,r[i+12],20,-1926607734),t=sr(t,n,o,s,r[i+5],4,-378558),s=sr(s,t,n,o,r[i+8],11,-2022574463),o=sr(o,s,t,n,r[i+11],16,1839030562),n=sr(n,o,s,t,r[i+14],23,-35309556),t=sr(t,n,o,s,r[i+1],4,-1530992060),s=sr(s,t,n,o,r[i+4],11,1272893353),o=sr(o,s,t,n,r[i+7],16,-155497632),n=sr(n,o,s,t,r[i+10],23,-1094730640),t=sr(t,n,o,s,r[i+13],4,681279174),s=sr(s,t,n,o,r[i],11,-358537222),o=sr(o,s,t,n,r[i+3],16,-722521979),n=sr(n,o,s,t,r[i+6],23,76029189),t=sr(t,n,o,s,r[i+9],4,-640364487),s=sr(s,t,n,o,r[i+12],11,-421815835),o=sr(o,s,t,n,r[i+15],16,530742520),n=sr(n,o,s,t,r[i+2],23,-995338651),t=ir(t,n,o,s,r[i],6,-198630844),s=ir(s,t,n,o,r[i+7],10,1126891415),o=ir(o,s,t,n,r[i+14],15,-1416354905),n=ir(n,o,s,t,r[i+5],21,-57434055),t=ir(t,n,o,s,r[i+12],6,1700485571),s=ir(s,t,n,o,r[i+3],10,-1894986606),o=ir(o,s,t,n,r[i+10],15,-1051523),n=ir(n,o,s,t,r[i+1],21,-2054922799),t=ir(t,n,o,s,r[i+8],6,1873313359),s=ir(s,t,n,o,r[i+15],10,-30611744),o=ir(o,s,t,n,r[i+6],15,-1560198380),n=ir(n,o,s,t,r[i+13],21,1309151649),t=ir(t,n,o,s,r[i+4],6,-145523070),s=ir(s,t,n,o,r[i+11],10,-1120210379),o=ir(o,s,t,n,r[i+2],15,718787259),n=ir(n,o,s,t,r[i+9],21,-343485551),t=io(t,u),n=io(n,f),o=io(o,d),s=io(s,b)}return[t,n,o,s]}function qT(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(Wv(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function io(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function FT(r,e){return r<<e|r>>>32-e}function ru(r,e,t,n,o,s){return io(FT(io(io(e,r),io(n,s)),o),t)}function nr(r,e,t,n,o,s,i){return ru(e&t|~e&n,r,e,o,s,i)}function or(r,e,t,n,o,s,i){return ru(e&n|t&~n,r,e,o,s,i)}function sr(r,e,t,n,o,s,i){return ru(e^t^n,r,e,o,s,i)}function ir(r,e,t,n,o,s,i){return ru(t^(e|~n),r,e,o,s,i)}var jT=OT;nu.default=jT});var Gv=xe(ou=>{"use strict";h();Object.defineProperty(ou,"__esModule",{value:!0});ou.default=void 0;var HT=Vv(wh()),$T=Vv(Kv());function Vv(r){return r&&r.__esModule?r:{default:r}}var WT=(0,HT.default)("v3",48,$T.default),KT=WT;ou.default=KT});var Zv=xe(su=>{"use strict";h();Object.defineProperty(su,"__esModule",{value:!0});su.default=void 0;var VT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GT={randomUUID:VT};su.default=GT});var Qv=xe(iu=>{"use strict";h();Object.defineProperty(iu,"__esModule",{value:!0});iu.default=void 0;var Yv=Jv(Zv()),ZT=Jv(yh()),YT=Wi();function Jv(r){return r&&r.__esModule?r:{default:r}}function JT(r,e,t){if(Yv.default.randomUUID&&!e&&!r)return Yv.default.randomUUID();r=r||{};let n=r.random||(r.rng||ZT.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=n[o];return e}return(0,YT.unsafeStringify)(n)}var QT=JT;iu.default=QT});var Xv=xe(au=>{"use strict";h();Object.defineProperty(au,"__esModule",{value:!0});au.default=void 0;function XT(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function vh(r,e){return r<<e|r>>>32-e}function e3(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let i=unescape(encodeURIComponent(r));r=[];for(let u=0;u<i.length;++u)r.push(i.charCodeAt(u))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,o=Math.ceil(n/16),s=new Array(o);for(let i=0;i<o;++i){let u=new Uint32Array(16);for(let f=0;f<16;++f)u[f]=r[i*64+f*4]<<24|r[i*64+f*4+1]<<16|r[i*64+f*4+2]<<8|r[i*64+f*4+3];s[i]=u}s[o-1][14]=(r.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(r.length-1)*8&4294967295;for(let i=0;i<o;++i){let u=new Uint32Array(80);for(let A=0;A<16;++A)u[A]=s[i][A];for(let A=16;A<80;++A)u[A]=vh(u[A-3]^u[A-8]^u[A-14]^u[A-16],1);let f=t[0],d=t[1],b=t[2],w=t[3],T=t[4];for(let A=0;A<80;++A){let D=Math.floor(A/20),H=vh(f,5)+XT(D,d,b,w)+T+e[D]+u[A]>>>0;T=w,w=b,b=vh(d,30)>>>0,d=f,f=H}t[0]=t[0]+f>>>0,t[1]=t[1]+d>>>0,t[2]=t[2]+b>>>0,t[3]=t[3]+w>>>0,t[4]=t[4]+T>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var t3=e3;au.default=t3});var tS=xe(cu=>{"use strict";h();Object.defineProperty(cu,"__esModule",{value:!0});cu.default=void 0;var r3=eS(wh()),n3=eS(Xv());function eS(r){return r&&r.__esModule?r:{default:r}}var o3=(0,r3.default)("v5",80,n3.default),s3=o3;cu.default=s3});var rS=xe(uu=>{"use strict";h();Object.defineProperty(uu,"__esModule",{value:!0});uu.default=void 0;var i3="00000000-0000-0000-0000-000000000000";uu.default=i3});var nS=xe(fu=>{"use strict";h();Object.defineProperty(fu,"__esModule",{value:!0});fu.default=void 0;var a3=c3(Hi());function c3(r){return r&&r.__esModule?r:{default:r}}function u3(r){if(!(0,a3.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var f3=u3;fu.default=f3});var Sh=xe(Hr=>{"use strict";h();Object.defineProperty(Hr,"__esModule",{value:!0});Object.defineProperty(Hr,"NIL",{enumerable:!0,get:function(){return y3.default}});Object.defineProperty(Hr,"parse",{enumerable:!0,get:function(){return b3.default}});Object.defineProperty(Hr,"stringify",{enumerable:!0,get:function(){return x3.default}});Object.defineProperty(Hr,"v1",{enumerable:!0,get:function(){return l3.default}});Object.defineProperty(Hr,"v3",{enumerable:!0,get:function(){return p3.default}});Object.defineProperty(Hr,"v4",{enumerable:!0,get:function(){return h3.default}});Object.defineProperty(Hr,"v5",{enumerable:!0,get:function(){return d3.default}});Object.defineProperty(Hr,"validate",{enumerable:!0,get:function(){return g3.default}});Object.defineProperty(Hr,"version",{enumerable:!0,get:function(){return m3.default}});var l3=Rn(jv()),p3=Rn(Gv()),h3=Rn(Qv()),d3=Rn(tS()),y3=Rn(rS()),m3=Rn(nS()),g3=Rn(Hi()),x3=Rn(Wi()),b3=Rn(bh());function Rn(r){return r&&r.__esModule?r:{default:r}}});var sS=xe((Vq,oS)=>{"use strict";h();var w3=Sh().v4,v3=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let s={method:r};if(o===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){let i=typeof n.generator=="function"?n.generator:function(){return w3()};s.id=i(s,n)}else o===2&&t===null?n.notificationIdNull&&(s.id=null):s.id=t;return s};oS.exports=v3});var aS=xe((Zq,iS)=>{"use strict";h();var S3=Sh().v4,_3=sS(),Ki=function(r,e){if(!(this instanceof Ki))return new Ki(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return S3()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};iS.exports=Ki;Ki.prototype.request=function(r,e,t,n){let o=this,s=null,i=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&i)throw new TypeError("JSON-RPC 1.0 does not support batching");if(i||!i&&r&&typeof r=="object"&&typeof e=="function")n=e,s=r;else{typeof t=="function"&&(n=t,t=void 0);let d=typeof n=="function";try{s=_3(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(b){if(d)return n(b);throw b}if(!d)return s}let f;try{f=JSON.stringify(s,this.options.replacer)}catch(d){return n(d)}return this.callServer(f,function(d,b){o._parseResponse(d,b,n)}),s};Ki.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(n)){let o=function(i){return typeof i.error<"u"},s=function(i){return!o(i)};return t(null,n.filter(o),n.filter(s))}else return t(null,n.error,n.result);t(null,n)}});var _h=xe((Jq,Vi)=>{h();function E3(r){return r&&r.__esModule?r:{default:r}}Vi.exports=E3,Vi.exports.__esModule=!0,Vi.exports.default=Vi.exports});var Ks=xe((Xq,Bn)=>{h();function Eh(r){return Bn.exports=Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn.exports.__esModule=!0,Bn.exports.default=Bn.exports,Eh(r)}Bn.exports=Eh,Bn.exports.__esModule=!0,Bn.exports.default=Bn.exports});var uS=xe((tF,Tn)=>{h();var k3=Ks().default;function cS(){"use strict";Tn.exports=cS=function(){return r},Tn.exports.__esModule=!0,Tn.exports.default=Tn.exports;var r={},e=Object.prototype,t=e.hasOwnProperty,n=Object.defineProperty||function(U,g,a){U[g]=a.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function f(U,g,a){return Object.defineProperty(U,g,{value:a,enumerable:!0,configurable:!0,writable:!0}),U[g]}try{f({},"")}catch{f=function(a,l,y){return a[l]=y}}function d(U,g,a,l){var y=g&&g.prototype instanceof T?g:T,x=Object.create(y.prototype),v=new ce(l||[]);return n(x,"_invoke",{value:J(U,a,v)}),x}function b(U,g,a){try{return{type:"normal",arg:U.call(g,a)}}catch(l){return{type:"throw",arg:l}}}r.wrap=d;var w={};function T(){}function A(){}function D(){}var H={};f(H,s,function(){return this});var Z=Object.getPrototypeOf,ee=Z&&Z(Z(Ue([])));ee&&ee!==e&&t.call(ee,s)&&(H=ee);var he=D.prototype=T.prototype=Object.create(H);function se(U){["next","throw","return"].forEach(function(g){f(U,g,function(a){return this._invoke(g,a)})})}function X(U,g){function a(y,x,v,I){var B=b(U[y],U,x);if(B.type!=="throw"){var S=B.arg,p=S.value;return p&&k3(p)=="object"&&t.call(p,"__await")?g.resolve(p.__await).then(function(E){a("next",E,v,I)},function(E){a("throw",E,v,I)}):g.resolve(p).then(function(E){S.value=E,v(S)},function(E){return a("throw",E,v,I)})}I(B.arg)}var l;n(this,"_invoke",{value:function(x,v){function I(){return new g(function(B,S){a(x,v,B,S)})}return l=l?l.then(I,I):I()}})}function J(U,g,a){var l="suspendedStart";return function(y,x){if(l==="executing")throw new Error("Generator is already running");if(l==="completed"){if(y==="throw")throw x;return Ie()}for(a.method=y,a.arg=x;;){var v=a.delegate;if(v){var I=W(v,a);if(I){if(I===w)continue;return I}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(l==="suspendedStart")throw l="completed",a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);l="executing";var B=b(U,g,a);if(B.type==="normal"){if(l=a.done?"completed":"suspendedYield",B.arg===w)continue;return{value:B.arg,done:a.done}}B.type==="throw"&&(l="completed",a.method="throw",a.arg=B.arg)}}}function W(U,g){var a=g.method,l=U.iterator[a];if(l===void 0)return g.delegate=null,a==="throw"&&U.iterator.return&&(g.method="return",g.arg=void 0,W(U,g),g.method==="throw")||a!=="return"&&(g.method="throw",g.arg=new TypeError("The iterator does not provide a '"+a+"' method")),w;var y=b(l,U.iterator,g.arg);if(y.type==="throw")return g.method="throw",g.arg=y.arg,g.delegate=null,w;var x=y.arg;return x?x.done?(g[U.resultName]=x.value,g.next=U.nextLoc,g.method!=="return"&&(g.method="next",g.arg=void 0),g.delegate=null,w):x:(g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,w)}function we(U){var g={tryLoc:U[0]};1 in U&&(g.catchLoc=U[1]),2 in U&&(g.finallyLoc=U[2],g.afterLoc=U[3]),this.tryEntries.push(g)}function ge(U){var g=U.completion||{};g.type="normal",delete g.arg,U.completion=g}function ce(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(we,this),this.reset(!0)}function Ue(U){if(U){var g=U[s];if(g)return g.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var a=-1,l=function y(){for(;++a<U.length;)if(t.call(U,a))return y.value=U[a],y.done=!1,y;return y.value=void 0,y.done=!0,y};return l.next=l}}return{next:Ie}}function Ie(){return{value:void 0,done:!0}}return A.prototype=D,n(he,"constructor",{value:D,configurable:!0}),n(D,"constructor",{value:A,configurable:!0}),A.displayName=f(D,u,"GeneratorFunction"),r.isGeneratorFunction=function(U){var g=typeof U=="function"&&U.constructor;return!!g&&(g===A||(g.displayName||g.name)==="GeneratorFunction")},r.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,D):(U.__proto__=D,f(U,u,"GeneratorFunction")),U.prototype=Object.create(he),U},r.awrap=function(U){return{__await:U}},se(X.prototype),f(X.prototype,i,function(){return this}),r.AsyncIterator=X,r.async=function(U,g,a,l,y){y===void 0&&(y=Promise);var x=new X(d(U,g,a,l),y);return r.isGeneratorFunction(g)?x:x.next().then(function(v){return v.done?v.value:x.next()})},se(he),f(he,u,"Generator"),f(he,s,function(){return this}),f(he,"toString",function(){return"[object Generator]"}),r.keys=function(U){var g=Object(U),a=[];for(var l in g)a.push(l);return a.reverse(),function y(){for(;a.length;){var x=a.pop();if(x in g)return y.value=x,y.done=!1,y}return y.done=!0,y}},r.values=Ue,ce.prototype={constructor:ce,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ge),!g)for(var a in this)a.charAt(0)==="t"&&t.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var a=this;function l(S,p){return v.type="throw",v.arg=g,a.next=S,p&&(a.method="next",a.arg=void 0),!!p}for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y],v=x.completion;if(x.tryLoc==="root")return l("end");if(x.tryLoc<=this.prev){var I=t.call(x,"catchLoc"),B=t.call(x,"finallyLoc");if(I&&B){if(this.prev<x.catchLoc)return l(x.catchLoc,!0);if(this.prev<x.finallyLoc)return l(x.finallyLoc)}else if(I){if(this.prev<x.catchLoc)return l(x.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<x.finallyLoc)return l(x.finallyLoc)}}}},abrupt:function(g,a){for(var l=this.tryEntries.length-1;l>=0;--l){var y=this.tryEntries[l];if(y.tryLoc<=this.prev&&t.call(y,"finallyLoc")&&this.prev<y.finallyLoc){var x=y;break}}x&&(g==="break"||g==="continue")&&x.tryLoc<=a&&a<=x.finallyLoc&&(x=null);var v=x?x.completion:{};return v.type=g,v.arg=a,x?(this.method="next",this.next=x.finallyLoc,w):this.complete(v)},complete:function(g,a){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&a&&(this.next=a),w},finish:function(g){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.finallyLoc===g)return this.complete(l.completion,l.afterLoc),ge(l),w}},catch:function(g){for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a];if(l.tryLoc===g){var y=l.completion;if(y.type==="throw"){var x=y.arg;ge(l)}return x}}throw new Error("illegal catch attempt")},delegateYield:function(g,a,l){return this.delegate={iterator:Ue(g),resultName:a,nextLoc:l},this.method==="next"&&(this.arg=void 0),w}},r}Tn.exports=cS,Tn.exports.__esModule=!0,Tn.exports.default=Tn.exports});var lS=xe((nF,fS)=>{h();var lu=uS()();fS.exports=lu;try{regeneratorRuntime=lu}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=lu:Function("r","regeneratorRuntime = r")(lu)}});var hS=xe((sF,Gi)=>{h();function pS(r,e,t,n,o,s,i){try{var u=r[s](i),f=u.value}catch(d){t(d);return}u.done?e(f):Promise.resolve(f).then(n,o)}function I3(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var s=r.apply(e,t);function i(f){pS(s,n,o,i,u,"next",f)}function u(f){pS(s,n,o,i,u,"throw",f)}i(void 0)})}}Gi.exports=I3,Gi.exports.__esModule=!0,Gi.exports.default=Gi.exports});var kh=xe((aF,Zi)=>{h();function A3(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}Zi.exports=A3,Zi.exports.__esModule=!0,Zi.exports.default=Zi.exports});var yS=xe((uF,Yi)=>{h();var dS=Ks().default;function R3(r,e){if(dS(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(dS(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}Yi.exports=R3,Yi.exports.__esModule=!0,Yi.exports.default=Yi.exports});var mS=xe((lF,Ji)=>{h();var B3=Ks().default,T3=yS();function P3(r){var e=T3(r,"string");return B3(e)==="symbol"?e:String(e)}Ji.exports=P3,Ji.exports.__esModule=!0,Ji.exports.default=Ji.exports});var Ih=xe((hF,Qi)=>{h();var z3=mS();function gS(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,z3(n.key),n)}}function M3(r,e,t){return e&&gS(r.prototype,e),t&&gS(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}Qi.exports=M3,Qi.exports.__esModule=!0,Qi.exports.default=Qi.exports});var xS=xe((yF,Pn)=>{h();function Ah(r,e){return Pn.exports=Ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports,Ah(r,e)}Pn.exports=Ah,Pn.exports.__esModule=!0,Pn.exports.default=Pn.exports});var Rh=xe((gF,Xi)=>{h();var L3=xS();function C3(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&L3(r,e)}Xi.exports=C3,Xi.exports.__esModule=!0,Xi.exports.default=Xi.exports});var bS=xe((bF,ea)=>{h();function N3(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}ea.exports=N3,ea.exports.__esModule=!0,ea.exports.default=ea.exports});var Bh=xe((vF,ta)=>{h();var O3=Ks().default,U3=bS();function D3(r,e){if(e&&(O3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3(r)}ta.exports=D3,ta.exports.__esModule=!0,ta.exports.default=ta.exports});var Ph=xe((_F,zn)=>{h();function Th(r){return zn.exports=Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zn.exports.__esModule=!0,zn.exports.default=zn.exports,Th(r)}zn.exports=Th,zn.exports.__esModule=!0,zn.exports.default=zn.exports});var hu=xe((kF,zh)=>{"use strict";h();var q3=Object.prototype.hasOwnProperty,hr="~";function ra(){}Object.create&&(ra.prototype=Object.create(null),new ra().__proto__||(hr=!1));function F3(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function wS(r,e,t,n,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new F3(t,n||r,o),i=hr?hr+e:e;return r._events[i]?r._events[i].fn?r._events[i]=[r._events[i],s]:r._events[i].push(s):(r._events[i]=s,r._eventsCount++),r}function pu(r,e){--r._eventsCount===0?r._events=new ra:delete r._events[e]}function ar(){this._events=new ra,this._eventsCount=0}ar.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)q3.call(t,n)&&e.push(hr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};ar.prototype.listeners=function(e){var t=hr?hr+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i};ar.prototype.listenerCount=function(e){var t=hr?hr+e:e,n=this._events[t];return n?n.fn?1:n.length:0};ar.prototype.emit=function(e,t,n,o,s,i){var u=hr?hr+e:e;if(!this._events[u])return!1;var f=this._events[u],d=arguments.length,b,w;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),d){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,o),!0;case 5:return f.fn.call(f.context,t,n,o,s),!0;case 6:return f.fn.call(f.context,t,n,o,s,i),!0}for(w=1,b=new Array(d-1);w<d;w++)b[w-1]=arguments[w];f.fn.apply(f.context,b)}else{var T=f.length,A;for(w=0;w<T;w++)switch(f[w].once&&this.removeListener(e,f[w].fn,void 0,!0),d){case 1:f[w].fn.call(f[w].context);break;case 2:f[w].fn.call(f[w].context,t);break;case 3:f[w].fn.call(f[w].context,t,n);break;case 4:f[w].fn.call(f[w].context,t,n,o);break;default:if(!b)for(A=1,b=new Array(d-1);A<d;A++)b[A-1]=arguments[A];f[w].fn.apply(f[w].context,b)}}return!0};ar.prototype.on=function(e,t,n){return wS(this,e,t,n,!1)};ar.prototype.once=function(e,t,n){return wS(this,e,t,n,!0)};ar.prototype.removeListener=function(e,t,n,o){var s=hr?hr+e:e;if(!this._events[s])return this;if(!t)return pu(this,s),this;var i=this._events[s];if(i.fn)i.fn===t&&(!o||i.once)&&(!n||i.context===n)&&pu(this,s);else{for(var u=0,f=[],d=i.length;u<d;u++)(i[u].fn!==t||o&&!i[u].once||n&&i[u].context!==n)&&f.push(i[u]);f.length?this._events[s]=f.length===1?f[0]:f:pu(this,s)}return this};ar.prototype.removeAllListeners=function(e){var t;return e?(t=hr?hr+e:e,this._events[t]&&pu(this,t)):(this._events=new ra,this._eventsCount=0),this};ar.prototype.off=ar.prototype.removeListener;ar.prototype.addListener=ar.prototype.on;ar.prefixed=hr;ar.EventEmitter=ar;typeof zh<"u"&&(zh.exports=ar)});var SS=xe(yu=>{"use strict";h();var co=_h();Object.defineProperty(yu,"__esModule",{value:!0});yu.default=void 0;var ao=co(lS()),du=co(hS()),j3=co(Ks()),H3=co(kh()),$3=co(Ih()),W3=co(Rh()),K3=co(Bh()),vS=co(Ph()),V3=hu();function G3(r){var e=Z3();return function(){var n=(0,vS.default)(r),o;if(e){var s=(0,vS.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,K3.default)(this,o)}}function Z3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y3=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t},J3=function(r){(0,W3.default)(t,r);var e=G3(t);function t(n){var o,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;(0,H3.default)(this,t);var f=i.autoconnect,d=f===void 0?!0:f,b=i.reconnect,w=b===void 0?!0:b,T=i.reconnect_interval,A=T===void 0?1e3:T,D=i.max_reconnects,H=D===void 0?5:D,Z=Y3(i,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return o=e.call(this),o.webSocketFactory=n,o.queue={},o.rpc_id=0,o.address=s,o.autoconnect=d,o.ready=!1,o.reconnect=w,o.reconnect_timer_id=void 0,o.reconnect_interval=A,o.max_reconnects=H,o.rest_options=Z,o.current_reconnects=0,o.generate_request_id=u||function(){return++o.rpc_id},o.autoconnect&&o._connect(o.address,Object.assign({autoconnect:o.autoconnect,reconnect:o.reconnect,reconnect_interval:o.reconnect_interval,max_reconnects:o.max_reconnects},o.rest_options)),o}return(0,$3.default)(t,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(o,s,i,u){var f=this;return!u&&(0,j3.default)(i)==="object"&&(u=i,i=null),new Promise(function(d,b){if(!f.ready)return b(new Error("socket not ready"));var w=f.generate_request_id(o,s),T={jsonrpc:"2.0",method:o,params:s||null,id:w};f.socket.send(JSON.stringify(T),u,function(A){if(A)return b(A);f.queue[w]={promise:[d,b]},i&&(f.queue[w].timeout=setTimeout(function(){delete f.queue[w],b(new Error("reply timeout"))},i))})})}},{key:"login",value:function(){var n=(0,du.default)(ao.default.mark(function s(i){var u;return ao.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.call("rpc.login",i);case 2:if(u=d.sent,u){d.next=5;break}throw new Error("authentication failed");case 5:return d.abrupt("return",u);case 6:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"listMethods",value:function(){var n=(0,du.default)(ao.default.mark(function s(){return ao.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("__listMethods");case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s,this)}));function o(){return n.apply(this,arguments)}return o}()},{key:"notify",value:function(o,s){var i=this;return new Promise(function(u,f){if(!i.ready)return f(new Error("socket not ready"));var d={jsonrpc:"2.0",method:o,params:s||null};i.socket.send(JSON.stringify(d),function(b){if(b)return f(b);u()})})}},{key:"subscribe",value:function(){var n=(0,du.default)(ao.default.mark(function s(i){var u;return ao.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof i=="string"&&(i=[i]),d.next=3,this.call("rpc.on",i);case 3:if(u=d.sent,!(typeof i=="string"&&u[i]!=="ok")){d.next=6;break}throw new Error("Failed subscribing to an event '"+i+"' with: "+u[i]);case 6:return d.abrupt("return",u);case 7:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"unsubscribe",value:function(){var n=(0,du.default)(ao.default.mark(function s(i){var u;return ao.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return typeof i=="string"&&(i=[i]),d.next=3,this.call("rpc.off",i);case 3:if(u=d.sent,!(typeof i=="string"&&u[i]!=="ok")){d.next=6;break}throw new Error("Failed unsubscribing from an event with: "+u);case 6:return d.abrupt("return",u);case 7:case"end":return d.stop()}},s,this)}));function o(s){return n.apply(this,arguments)}return o}()},{key:"close",value:function(o,s){this.socket.close(o||1e3,s)}},{key:"_connect",value:function(o,s){var i=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,s),this.socket.addEventListener("open",function(){i.ready=!0,i.emit("open"),i.current_reconnects=0}),this.socket.addEventListener("message",function(u){var f=u.data;f instanceof ArrayBuffer&&(f=_.from(f).toString());try{f=JSON.parse(f)}catch{return}if(f.notification&&i.listeners(f.notification).length){if(!Object.keys(f.params).length)return i.emit(f.notification);var d=[f.notification];if(f.params.constructor===Object)d.push(f.params);else for(var b=0;b<f.params.length;b++)d.push(f.params[b]);return Promise.resolve().then(function(){i.emit.apply(i,d)})}if(!i.queue[f.id])return f.method&&f.params?Promise.resolve().then(function(){i.emit(f.method,f.params)}):void 0;"error"in f=="result"in f&&i.queue[f.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),i.queue[f.id].timeout&&clearTimeout(i.queue[f.id].timeout),f.error?i.queue[f.id].promise[1](f.error):i.queue[f.id].promise[0](f.result),delete i.queue[f.id]}),this.socket.addEventListener("error",function(u){return i.emit("error",u)}),this.socket.addEventListener("close",function(u){var f=u.code,d=u.reason;i.ready&&setTimeout(function(){return i.emit("close",f,d)},0),i.ready=!1,i.socket=void 0,f!==1e3&&(i.current_reconnects++,i.reconnect&&(i.max_reconnects>i.current_reconnects||i.max_reconnects===0)&&(i.reconnect_timer_id=setTimeout(function(){return i._connect(o,s)},i.reconnect_interval)))})}}]),t}(V3.EventEmitter);yu.default=J3});var ES=xe(Mh=>{"use strict";h();var na=_h();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.default=iP;var Q3=na(kh()),X3=na(Ih()),eP=na(Rh()),tP=na(Bh()),_S=na(Ph()),rP=hu();function nP(r){var e=oP();return function(){var n=(0,_S.default)(r),o;if(e){var s=(0,_S.default)(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return(0,tP.default)(this,o)}}function oP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var sP=function(r){(0,eP.default)(t,r);var e=nP(t);function t(n,o,s){var i;return(0,Q3.default)(this,t),i=e.call(this),i.socket=new window.WebSocket(n,s),i.socket.onopen=function(){return i.emit("open")},i.socket.onmessage=function(u){return i.emit("message",u.data)},i.socket.onerror=function(u){return i.emit("error",u)},i.socket.onclose=function(u){i.emit("close",u.code,u.reason)},i}return(0,X3.default)(t,[{key:"send",value:function(o,s,i){var u=i||s;try{this.socket.send(o),u()}catch(f){u(f)}}},{key:"close",value:function(o,s){this.socket.close(o,s)}},{key:"addEventListener",value:function(o,s,i){this.socket.addEventListener(o,s,i)}}]),t}(rP.EventEmitter);function iP(r,e){return new sP(r,e)}});var ai=xe((id,ad)=>{h();(function(r,e){typeof id=="object"&&typeof ad<"u"?ad.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=e()})(id,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",o="second",s="minute",i="hour",u="day",f="week",d="month",b="quarter",w="year",T="date",A="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,H=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var g=["th","st","nd","rd"],a=U%100;return"["+U+(g[(a-20)%10]||g[a]||g[0])+"]"}},ee=function(U,g,a){var l=String(U);return!l||l.length>=g?U:""+Array(g+1-l.length).join(a)+U},he={s:ee,z:function(U){var g=-U.utcOffset(),a=Math.abs(g),l=Math.floor(a/60),y=a%60;return(g<=0?"+":"-")+ee(l,2,"0")+":"+ee(y,2,"0")},m:function U(g,a){if(g.date()<a.date())return-U(a,g);var l=12*(a.year()-g.year())+(a.month()-g.month()),y=g.clone().add(l,d),x=a-y<0,v=g.clone().add(l+(x?-1:1),d);return+(-(l+(a-y)/(x?y-v:v-y))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:w,w:f,d:u,D:T,h:i,m:s,s:o,ms:n,Q:b}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},se="en",X={};X[se]=Z;var J="$isDayjsObject",W=function(U){return U instanceof Ue||!(!U||!U[J])},we=function U(g,a,l){var y;if(!g)return se;if(typeof g=="string"){var x=g.toLowerCase();X[x]&&(y=x),a&&(X[x]=a,y=x);var v=g.split("-");if(!y&&v.length>1)return U(v[0])}else{var I=g.name;X[I]=g,y=I}return!l&&y&&(se=y),y||!l&&se},ge=function(U,g){if(W(U))return U.clone();var a=typeof g=="object"?g:{};return a.date=U,a.args=arguments,new Ue(a)},ce=he;ce.l=we,ce.i=W,ce.w=function(U,g){return ge(U,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var Ue=function(){function U(a){this.$L=we(a.locale,null,!0),this.parse(a),this.$x=this.$x||a.x||{},this[J]=!0}var g=U.prototype;return g.parse=function(a){this.$d=function(l){var y=l.date,x=l.utc;if(y===null)return new Date(NaN);if(ce.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var v=y.match(D);if(v){var I=v[2]-1||0,B=(v[7]||"0").substring(0,3);return x?new Date(Date.UTC(v[1],I,v[3]||1,v[4]||0,v[5]||0,v[6]||0,B)):new Date(v[1],I,v[3]||1,v[4]||0,v[5]||0,v[6]||0,B)}}return new Date(y)}(a),this.init()},g.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},g.$utils=function(){return ce},g.isValid=function(){return this.$d.toString()!==A},g.isSame=function(a,l){var y=ge(a);return this.startOf(l)<=y&&y<=this.endOf(l)},g.isAfter=function(a,l){return ge(a)<this.startOf(l)},g.isBefore=function(a,l){return this.endOf(l)<ge(a)},g.$g=function(a,l,y){return ce.u(a)?this[l]:this.set(y,a)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(a,l){var y=this,x=!!ce.u(l)||l,v=ce.p(a),I=function(O,q){var G=ce.w(y.$u?Date.UTC(y.$y,q,O):new Date(y.$y,q,O),y);return x?G:G.endOf(u)},B=function(O,q){return ce.w(y.toDate()[O].apply(y.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(q)),y)},S=this.$W,p=this.$M,E=this.$D,ie="set"+(this.$u?"UTC":"");switch(v){case w:return x?I(1,0):I(31,11);case d:return x?I(1,p):I(0,p+1);case f:var m=this.$locale().weekStart||0,L=(S<m?S+7:S)-m;return I(x?E-L:E+(6-L),p);case u:case T:return B(ie+"Hours",0);case i:return B(ie+"Minutes",1);case s:return B(ie+"Seconds",2);case o:return B(ie+"Milliseconds",3);default:return this.clone()}},g.endOf=function(a){return this.startOf(a,!1)},g.$set=function(a,l){var y,x=ce.p(a),v="set"+(this.$u?"UTC":""),I=(y={},y[u]=v+"Date",y[T]=v+"Date",y[d]=v+"Month",y[w]=v+"FullYear",y[i]=v+"Hours",y[s]=v+"Minutes",y[o]=v+"Seconds",y[n]=v+"Milliseconds",y)[x],B=x===u?this.$D+(l-this.$W):l;if(x===d||x===w){var S=this.clone().set(T,1);S.$d[I](B),S.init(),this.$d=S.set(T,Math.min(this.$D,S.daysInMonth())).$d}else I&&this.$d[I](B);return this.init(),this},g.set=function(a,l){return this.clone().$set(a,l)},g.get=function(a){return this[ce.p(a)]()},g.add=function(a,l){var y,x=this;a=Number(a);var v=ce.p(l),I=function(p){var E=ge(x);return ce.w(E.date(E.date()+Math.round(p*a)),x)};if(v===d)return this.set(d,this.$M+a);if(v===w)return this.set(w,this.$y+a);if(v===u)return I(1);if(v===f)return I(7);var B=(y={},y[s]=e,y[i]=t,y[o]=r,y)[v]||1,S=this.$d.getTime()+a*B;return ce.w(S,this)},g.subtract=function(a,l){return this.add(-1*a,l)},g.format=function(a){var l=this,y=this.$locale();if(!this.isValid())return y.invalidDate||A;var x=a||"YYYY-MM-DDTHH:mm:ssZ",v=ce.z(this),I=this.$H,B=this.$m,S=this.$M,p=y.weekdays,E=y.months,ie=y.meridiem,m=function(q,G,de,ne){return q&&(q[G]||q(l,x))||de[G].slice(0,ne)},L=function(q){return ce.s(I%12||12,q,"0")},O=ie||function(q,G,de){var ne=q<12?"AM":"PM";return de?ne.toLowerCase():ne};return x.replace(H,function(q,G){return G||function(de){switch(de){case"YY":return String(l.$y).slice(-2);case"YYYY":return ce.s(l.$y,4,"0");case"M":return S+1;case"MM":return ce.s(S+1,2,"0");case"MMM":return m(y.monthsShort,S,E,3);case"MMMM":return m(E,S);case"D":return l.$D;case"DD":return ce.s(l.$D,2,"0");case"d":return String(l.$W);case"dd":return m(y.weekdaysMin,l.$W,p,2);case"ddd":return m(y.weekdaysShort,l.$W,p,3);case"dddd":return p[l.$W];case"H":return String(I);case"HH":return ce.s(I,2,"0");case"h":return L(1);case"hh":return L(2);case"a":return O(I,B,!0);case"A":return O(I,B,!1);case"m":return String(B);case"mm":return ce.s(B,2,"0");case"s":return String(l.$s);case"ss":return ce.s(l.$s,2,"0");case"SSS":return ce.s(l.$ms,3,"0");case"Z":return v}return null}(q)||v.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,l,y){var x,v=this,I=ce.p(l),B=ge(a),S=(B.utcOffset()-this.utcOffset())*e,p=this-B,E=function(){return ce.m(v,B)};switch(I){case w:x=E()/12;break;case d:x=E();break;case b:x=E()/3;break;case f:x=(p-S)/6048e5;break;case u:x=(p-S)/864e5;break;case i:x=p/t;break;case s:x=p/e;break;case o:x=p/r;break;default:x=p}return y?x:ce.a(x)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return X[this.$L]},g.locale=function(a,l){if(!a)return this.$L;var y=this.clone(),x=we(a,l,!0);return x&&(y.$L=x),y},g.clone=function(){return ce.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},U}(),Ie=Ue.prototype;return ge.prototype=Ie,[["$ms",n],["$s",o],["$m",s],["$H",i],["$W",u],["$M",d],["$y",w],["$D",T]].forEach(function(U){Ie[U[1]]=function(g){return this.$g(g,U[0],U[1])}}),ge.extend=function(U,g){return U.$i||(U(g,Ue,ge),U.$i=!0),ge},ge.locale=we,ge.isDayjs=W,ge.unix=function(U){return ge(1e3*U)},ge.en=X[se],ge.Ls=X,ge.p={},ge})});var fd=xe((cd,ud)=>{h();(function(r,e){typeof cd=="object"&&typeof ud<"u"?ud.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_duration=e()})(cd,function(){"use strict";var r,e,t=1e3,n=6e4,o=36e5,s=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,f=2628e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:u,months:f,days:s,hours:o,minutes:n,seconds:t,milliseconds:1,weeks:6048e5},w=function(X){return X instanceof he},T=function(X,J,W){return new he(X,W,J.$l)},A=function(X){return e.p(X)+"s"},D=function(X){return X<0},H=function(X){return D(X)?Math.ceil(X):Math.floor(X)},Z=function(X){return Math.abs(X)},ee=function(X,J){return X?D(X)?{negative:!0,format:""+Z(X)+J}:{negative:!1,format:""+X+J}:{negative:!1,format:""}},he=function(){function X(W,we,ge){var ce=this;if(this.$d={},this.$l=ge,W===void 0&&(this.$ms=0,this.parseFromMilliseconds()),we)return T(W*b[A(we)],this);if(typeof W=="number")return this.$ms=W,this.parseFromMilliseconds(),this;if(typeof W=="object")return Object.keys(W).forEach(function(U){ce.$d[A(U)]=W[U]}),this.calMilliseconds(),this;if(typeof W=="string"){var Ue=W.match(d);if(Ue){var Ie=Ue.slice(2).map(function(U){return U!=null?Number(U):0});return this.$d.years=Ie[0],this.$d.months=Ie[1],this.$d.weeks=Ie[2],this.$d.days=Ie[3],this.$d.hours=Ie[4],this.$d.minutes=Ie[5],this.$d.seconds=Ie[6],this.calMilliseconds(),this}}return this}var J=X.prototype;return J.calMilliseconds=function(){var W=this;this.$ms=Object.keys(this.$d).reduce(function(we,ge){return we+(W.$d[ge]||0)*b[ge]},0)},J.parseFromMilliseconds=function(){var W=this.$ms;this.$d.years=H(W/u),W%=u,this.$d.months=H(W/f),W%=f,this.$d.days=H(W/s),W%=s,this.$d.hours=H(W/o),W%=o,this.$d.minutes=H(W/n),W%=n,this.$d.seconds=H(W/t),W%=t,this.$d.milliseconds=W},J.toISOString=function(){var W=ee(this.$d.years,"Y"),we=ee(this.$d.months,"M"),ge=+this.$d.days||0;this.$d.weeks&&(ge+=7*this.$d.weeks);var ce=ee(ge,"D"),Ue=ee(this.$d.hours,"H"),Ie=ee(this.$d.minutes,"M"),U=this.$d.seconds||0;this.$d.milliseconds&&(U+=this.$d.milliseconds/1e3,U=Math.round(1e3*U)/1e3);var g=ee(U,"S"),a=W.negative||we.negative||ce.negative||Ue.negative||Ie.negative||g.negative,l=Ue.format||Ie.format||g.format?"T":"",y=(a?"-":"")+"P"+W.format+we.format+ce.format+l+Ue.format+Ie.format+g.format;return y==="P"||y==="-P"?"P0D":y},J.toJSON=function(){return this.toISOString()},J.format=function(W){var we=W||"YYYY-MM-DDTHH:mm:ss",ge={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return we.replace(i,function(ce,Ue){return Ue||String(ge[ce])})},J.as=function(W){return this.$ms/b[A(W)]},J.get=function(W){var we=this.$ms,ge=A(W);return ge==="milliseconds"?we%=1e3:we=ge==="weeks"?H(we/b[ge]):this.$d[ge],we||0},J.add=function(W,we,ge){var ce;return ce=we?W*b[A(we)]:w(W)?W.$ms:T(W,this).$ms,T(this.$ms+ce*(ge?-1:1),this)},J.subtract=function(W,we){return this.add(W,we,!0)},J.locale=function(W){var we=this.clone();return we.$l=W,we},J.clone=function(){return T(this.$ms,this)},J.humanize=function(W){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!W)},J.valueOf=function(){return this.asMilliseconds()},J.milliseconds=function(){return this.get("milliseconds")},J.asMilliseconds=function(){return this.as("milliseconds")},J.seconds=function(){return this.get("seconds")},J.asSeconds=function(){return this.as("seconds")},J.minutes=function(){return this.get("minutes")},J.asMinutes=function(){return this.as("minutes")},J.hours=function(){return this.get("hours")},J.asHours=function(){return this.as("hours")},J.days=function(){return this.get("days")},J.asDays=function(){return this.as("days")},J.weeks=function(){return this.get("weeks")},J.asWeeks=function(){return this.as("weeks")},J.months=function(){return this.get("months")},J.asMonths=function(){return this.as("months")},J.years=function(){return this.get("years")},J.asYears=function(){return this.as("years")},X}(),se=function(X,J,W){return X.add(J.years()*W,"y").add(J.months()*W,"M").add(J.days()*W,"d").add(J.hours()*W,"h").add(J.minutes()*W,"m").add(J.seconds()*W,"s").add(J.milliseconds()*W,"ms")};return function(X,J,W){r=W,e=W().$utils(),W.duration=function(ce,Ue){var Ie=W.locale();return T(ce,{$l:Ie},Ue)},W.isDuration=w;var we=J.prototype.add,ge=J.prototype.subtract;J.prototype.add=function(ce,Ue){return w(ce)?se(this,ce,1):we.bind(this)(ce,Ue)},J.prototype.subtract=function(ce,Ue){return w(ce)?se(this,ce,-1):ge.bind(this)(ce,Ue)}}})});var S_=xe((ld,pd)=>{h();(function(r,e){typeof ld=="object"&&typeof pd<"u"?pd.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isToday=e()})(ld,function(){"use strict";return function(r,e,t){e.prototype.isToday=function(){var n="YYYY-MM-DD",o=t();return this.format(n)===o.format(n)}}})});var __=xe((hd,dd)=>{h();(function(r,e){typeof hd=="object"&&typeof dd<"u"?dd.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isYesterday=e()})(hd,function(){"use strict";return function(r,e,t){e.prototype.isYesterday=function(){var n="YYYY-MM-DD",o=t().subtract(1,"day");return this.format(n)===o.format(n)}}})});var I_=xe((md,gd)=>{h();(function(r,e){typeof md=="object"&&typeof gd<"u"?gd.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_calendar=e()})(md,function(){"use strict";return function(r,e,t){var n="h:mm A",o={lastDay:"[Yesterday at] "+n,sameDay:"[Today at] "+n,nextDay:"[Tomorrow at] "+n,nextWeek:"dddd [at] "+n,lastWeek:"[Last] dddd [at] "+n,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(s,i){var u=i||this.$locale().calendar||o,f=t(s||void 0).startOf("d"),d=this.diff(f,"d",!0),b="sameElse",w=d<-6?b:d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":b,T=u[w]||o[w];return typeof T=="function"?T.call(this,t()):this.format(T)}}})});var B_=xe((xd,bd)=>{h();(function(r,e){typeof xd=="object"&&typeof bd<"u"?bd.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_relativeTime=e()})(xd,function(){"use strict";return function(r,e,t){r=r||{};var n=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(u,f,d,b){return n.fromToBase(u,f,d,b)}t.en.relativeTime=o,n.fromToBase=function(u,f,d,b,w){for(var T,A,D,H=d.$locale().relativeTime||o,Z=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],ee=Z.length,he=0;he<ee;he+=1){var se=Z[he];se.d&&(T=b?t(u).diff(d,se.d,!0):d.diff(u,se.d,!0));var X=(r.rounding||Math.round)(Math.abs(T));if(D=T>0,X<=se.r||!se.r){X<=1&&he>0&&(se=Z[he-1]);var J=H[se.l];w&&(X=w(""+X)),A=typeof J=="string"?J.replace("%d",X):J(X,f,se.l,D);break}}if(f)return A;var W=D?H.future:H.past;return typeof W=="function"?W(A):W.replace("%s",A)},n.to=function(u,f){return s(u,f,this,!0)},n.from=function(u,f){return s(u,f,this)};var i=function(u){return u.$u?t.utc():t()};n.toNow=function(u){return this.to(i(this),u)},n.fromNow=function(u){return this.from(i(this),u)}}})});var H_=xe(Ne=>{"use strict";h();var ga=Symbol.for("react.element"),fz=Symbol.for("react.portal"),lz=Symbol.for("react.fragment"),pz=Symbol.for("react.strict_mode"),hz=Symbol.for("react.profiler"),dz=Symbol.for("react.provider"),yz=Symbol.for("react.context"),mz=Symbol.for("react.forward_ref"),gz=Symbol.for("react.suspense"),xz=Symbol.for("react.memo"),bz=Symbol.for("react.lazy"),M_=Symbol.iterator;function wz(r){return r===null||typeof r!="object"?null:(r=M_&&r[M_]||r["@@iterator"],typeof r=="function"?r:null)}var N_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O_=Object.assign,U_={};function ci(r,e,t){this.props=r,this.context=e,this.refs=U_,this.updater=t||N_}ci.prototype.isReactComponent={};ci.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};ci.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function D_(){}D_.prototype=ci.prototype;function _d(r,e,t){this.props=r,this.context=e,this.refs=U_,this.updater=t||N_}var Ed=_d.prototype=new D_;Ed.constructor=_d;O_(Ed,ci.prototype);Ed.isPureReactComponent=!0;var L_=Array.isArray,q_=Object.prototype.hasOwnProperty,kd={current:null},F_={key:!0,ref:!0,__self:!0,__source:!0};function j_(r,e,t){var n,o={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)q_.call(e,n)&&!F_.hasOwnProperty(n)&&(o[n]=e[n]);var u=arguments.length-2;if(u===1)o.children=t;else if(1<u){for(var f=Array(u),d=0;d<u;d++)f[d]=arguments[d+2];o.children=f}if(r&&r.defaultProps)for(n in u=r.defaultProps,u)o[n]===void 0&&(o[n]=u[n]);return{$$typeof:ga,type:r,key:s,ref:i,props:o,_owner:kd.current}}function vz(r,e){return{$$typeof:ga,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Id(r){return typeof r=="object"&&r!==null&&r.$$typeof===ga}function Sz(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var C_=/\/+/g;function Sd(r,e){return typeof r=="object"&&r!==null&&r.key!=null?Sz(""+r.key):e.toString(36)}function Ou(r,e,t,n,o){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var i=!1;if(r===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(r.$$typeof){case ga:case fz:i=!0}}if(i)return i=r,o=o(i),r=n===""?"."+Sd(i,0):n,L_(o)?(t="",r!=null&&(t=r.replace(C_,"$&/")+"/"),Ou(o,e,t,"",function(d){return d})):o!=null&&(Id(o)&&(o=vz(o,t+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(C_,"$&/")+"/")+r)),e.push(o)),1;if(i=0,n=n===""?".":n+":",L_(r))for(var u=0;u<r.length;u++){s=r[u];var f=n+Sd(s,u);i+=Ou(s,e,t,f,o)}else if(f=wz(r),typeof f=="function")for(r=f.call(r),u=0;!(s=r.next()).done;)s=s.value,f=n+Sd(s,u++),i+=Ou(s,e,t,f,o);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Nu(r,e,t){if(r==null)return r;var n=[],o=0;return Ou(r,n,"","",function(s){return e.call(t,s,o++)}),n}function _z(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var dr={current:null},Uu={transition:null},Ez={ReactCurrentDispatcher:dr,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:kd};Ne.Children={map:Nu,forEach:function(r,e,t){Nu(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Nu(r,function(){e++}),e},toArray:function(r){return Nu(r,function(e){return e})||[]},only:function(r){if(!Id(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ne.Component=ci;Ne.Fragment=lz;Ne.Profiler=hz;Ne.PureComponent=_d;Ne.StrictMode=pz;Ne.Suspense=gz;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ez;Ne.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=O_({},r.props),o=r.key,s=r.ref,i=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=kd.current),e.key!==void 0&&(o=""+e.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(f in e)q_.call(e,f)&&!F_.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&u!==void 0?u[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=t;else if(1<f){u=Array(f);for(var d=0;d<f;d++)u[d]=arguments[d+2];n.children=u}return{$$typeof:ga,type:r.type,key:o,ref:s,props:n,_owner:i}};Ne.createContext=function(r){return r={$$typeof:yz,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:dz,_context:r},r.Consumer=r};Ne.createElement=j_;Ne.createFactory=function(r){var e=j_.bind(null,r);return e.type=r,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(r){return{$$typeof:mz,render:r}};Ne.isValidElement=Id;Ne.lazy=function(r){return{$$typeof:bz,_payload:{_status:-1,_result:r},_init:_z}};Ne.memo=function(r,e){return{$$typeof:xz,type:r,compare:e===void 0?null:e}};Ne.startTransition=function(r){var e=Uu.transition;Uu.transition={};try{r()}finally{Uu.transition=e}};Ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ne.useCallback=function(r,e){return dr.current.useCallback(r,e)};Ne.useContext=function(r){return dr.current.useContext(r)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(r){return dr.current.useDeferredValue(r)};Ne.useEffect=function(r,e){return dr.current.useEffect(r,e)};Ne.useId=function(){return dr.current.useId()};Ne.useImperativeHandle=function(r,e,t){return dr.current.useImperativeHandle(r,e,t)};Ne.useInsertionEffect=function(r,e){return dr.current.useInsertionEffect(r,e)};Ne.useLayoutEffect=function(r,e){return dr.current.useLayoutEffect(r,e)};Ne.useMemo=function(r,e){return dr.current.useMemo(r,e)};Ne.useReducer=function(r,e,t){return dr.current.useReducer(r,e,t)};Ne.useRef=function(r){return dr.current.useRef(r)};Ne.useState=function(r){return dr.current.useState(r)};Ne.useSyncExternalStore=function(r,e,t){return dr.current.useSyncExternalStore(r,e,t)};Ne.useTransition=function(){return dr.current.useTransition()};Ne.version="18.2.0"});var Du=xe((I$,$_)=>{"use strict";h();$_.exports=H_()});h();h();h();h();var ys,ms,gs,xs,yi,mi,Of=class{constructor({address:e,publicKey:t,label:n,icon:o,chains:s,features:i}){De(this,ys,void 0);De(this,ms,void 0);De(this,gs,void 0);De(this,xs,void 0);De(this,yi,void 0);De(this,mi,void 0);new.target===Of&&Object.freeze(this),Ht(this,ys,e),Ht(this,ms,t),Ht(this,gs,s),Ht(this,xs,i),Ht(this,yi,n),Ht(this,mi,o)}get address(){return re(this,ys)}get publicKey(){return re(this,ms).slice()}get chains(){return re(this,gs).slice()}get features(){return re(this,xs).slice()}get label(){return re(this,yi)}get icon(){return re(this,mi)}equals(e){return re(this,ys)===e.address&&jE(re(this,ms),e.publicKey)&&uy(re(this,gs),e.chains)&&uy(re(this,xs),e.features)}},di=Of;ys=new WeakMap,ms=new WeakMap,gs=new WeakMap,xs=new WeakMap,yi=new WeakMap,mi=new WeakMap;function jE(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function uy(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}h();var Uf="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA4IiBoZWlnaHQ9IjEwOCIgdmlld0JveD0iMCAwIDEwOCAxMDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPgo=";h();function qf(r){let e=({register:t})=>t(r);try{window.dispatchEvent(new Df(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}var gi,Df=class extends Event{constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1});De(this,gi,void 0);Ht(this,gi,t)}get detail(){return re(this,gi)}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}};gi=new WeakMap;h();var fy="solana:mainnet",ly="solana:devnet",py="solana:testnet",hy="solana:localnet",xi=[fy,ly,py,hy];function Ff(r){return xi.includes(r)}h();h();function jf(r,e){return dy(r,e)}function dy(r,e){if(r===e)return!0;let t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}h();h();h();var ll={};Y(ll,{error:()=>Pm,method:()=>Rm,params:()=>Bm,request:()=>tk,response:()=>rk,result:()=>Tm});h();h();var Ke;(function(r){r.assertEqual=o=>o;function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{let s={};for(let i of o)s[i]=i;return s},r.getValidEnumValues=o=>{let s=r.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),i={};for(let u of s)i[u]=o[u];return r.objectValues(i)},r.objectValues=o=>r.objectKeys(o).map(function(s){return o[s]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let s=[];for(let i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s},r.find=(o,s)=>{for(let i of o)if(s(i))return i},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,s=" | "){return o.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}r.joinValues=n,r.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(Ke||(Ke={}));var $f;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})($f||($f={}));var ae=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qn=r=>{switch(typeof r){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(r)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(r)?ae.array:r===null?ae.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?ae.promise:typeof Map<"u"&&r instanceof Map?ae.map:typeof Set<"u"&&r instanceof Set?ae.set:typeof Date<"u"&&r instanceof Date?ae.date:ae.object;default:return ae.unknown}},Q=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),HE=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),ur=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(s){return s.message},n={_errors:[]},o=s=>{for(let i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(o);else if(i.code==="invalid_return_type")o(i.returnTypeError);else if(i.code==="invalid_arguments")o(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let u=n,f=0;for(;f<i.path.length;){let d=i.path[f];f===i.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(t(i))):u[d]=u[d]||{_errors:[]},u=u[d],f++}}};return o(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};ur.create=r=>new ur(r);var bi=(r,e)=>{let t;switch(r.code){case Q.invalid_type:r.received===ae.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Q.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Ke.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ke.joinValues(r.keys,", ")}`;break;case Q.invalid_union:t="Invalid input";break;case Q.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ke.joinValues(r.options)}`;break;case Q.invalid_enum_value:t=`Invalid enum value. Expected ${Ke.joinValues(r.options)}, received '${r.received}'`;break;case Q.invalid_arguments:t="Invalid function arguments";break;case Q.invalid_return_type:t="Invalid function return type";break;case Q.invalid_date:t="Invalid date";break;case Q.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Ke.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Q.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Q.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Q.custom:t="Invalid input";break;case Q.invalid_intersection_types:t="Intersection results could not be merged";break;case Q.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Q.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ke.assertNever(r)}return{message:t}},gy=bi;function $E(r){gy=r}function Ta(){return gy}var Pa=r=>{let{data:e,path:t,errorMaps:n,issueData:o}=r,s=[...t,...o.path||[]],i={...o,path:s},u="",f=n.filter(d=>!!d).slice().reverse();for(let d of f)u=d(i,{data:e,defaultError:u}).message;return{...o,path:s,message:o.message||u}},WE=[];function ue(r,e){let t=Pa({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ta(),bi].filter(n=>!!n)});r.common.issues.push(t)}var Gt=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let o of t){if(o.status==="aborted")return Be;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let o of t)n.push({key:await o.key,value:await o.value});return Gt.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let o of t){let{key:s,value:i}=o;if(s.status==="aborted"||i.status==="aborted")return Be;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||o.alwaysSet)&&(n[s.value]=i.value)}return{status:e.value,value:n}}},Be=Object.freeze({status:"aborted"}),xy=r=>({status:"dirty",value:r}),fr=r=>({status:"valid",value:r}),Wf=r=>r.status==="aborted",Kf=r=>r.status==="dirty",wi=r=>r.status==="valid",za=r=>typeof Promise<"u"&&r instanceof Promise,Se;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(Se||(Se={}));var zr=class{constructor(e,t,n,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},yy=(r,e)=>{if(wi(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ur(r.common.issues);return this._error=t,this._error}}};function Pe(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:o}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(i,u)=>i.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:n??u.defaultError}:{message:t??u.defaultError},description:o}}var ze=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return qn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:qn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:qn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(za(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let o={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qn(e)},s=this._parseSync({data:e,path:o.path,parent:o});return yy(o,s)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:qn(e)},o=this._parse({data:e,path:n.path,parent:n}),s=await(za(o)?o:Promise.resolve(o));return yy(n,s)}refine(e,t){let n=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,s)=>{let i=e(o),u=()=>s.addIssue({code:Q.custom,...n(o)});return typeof Promise<"u"&&i instanceof Promise?i.then(f=>f?!0:(u(),!1)):i?!0:(u(),!1)})}refinement(e,t){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof t=="function"?t(n,o):t),!1))}_refinement(e){return new Er({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ur.create(this,this._def)}nullable(){return Sn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _r.create(this,this._def)}promise(){return Hn.create(this,this._def)}or(e){return Uo.create([this,e],this._def)}and(e){return Do.create(this,e,this._def)}transform(e){return new Er({...Pe(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new $o({...Pe(this._def),innerType:this,defaultValue:t,typeName:Ee.ZodDefault})}brand(){return new Ma({typeName:Ee.ZodBranded,type:this,...Pe(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Es({...Pe(this._def),innerType:this,catchValue:t,typeName:Ee.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Wo.create(this,e)}readonly(){return Is.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},KE=/^c[^\s-]{8,}$/i,VE=/^[a-z][a-z0-9]*$/,GE=/^[0-9A-HJKMNP-TV-Z]{26}$/,ZE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,YE=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Hf,QE=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,XE=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,e2=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function t2(r,e){return!!((e==="v4"||!e)&&QE.test(r)||(e==="v6"||!e)&&XE.test(r))}var Sr=class extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ae.string,received:s.parsedType}),Be}let n=new Gt,o;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let i=e.data.length>s.value,u=e.data.length<s.value;(i||u)&&(o=this._getOrReturnCtx(e,o),i?ue(o,{code:Q.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&ue(o,{code:Q.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")YE.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"email",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Hf||(Hf=new RegExp(JE,"u")),Hf.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"emoji",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ZE.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"uuid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")KE.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")VE.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"cuid2",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")GE.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ulid",code:Q.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ue(o,{validation:"url",code:Q.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"regex",code:Q.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?e2(s).test(e.data)||(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?t2(e.data,s.version)||(o=this._getOrReturnCtx(e,o),ue(o,{validation:"ip",code:Q.invalid_string,message:s.message}),n.dirty()):Ke.assertNever(s);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(o=>e.test(o),{validation:t,code:Q.invalid_string,...Se.errToObj(n)})}_addCheck(e){return new Sr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,...Se.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Se.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Se.errToObj(t)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Sr.create=r=>{var e;return new Sr({checks:[],typeName:Ee.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Pe(r)})};function r2(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=t>n?t:n,s=parseInt(r.toFixed(o).replace(".","")),i=parseInt(e.toFixed(o).replace(".",""));return s%i/Math.pow(10,o)}var Xr=class extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ae.number,received:s.parsedType}),Be}let n,o=new Gt;for(let s of this._def.checks)s.kind==="int"?Ke.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?r2(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_finite,message:s.message}),o.dirty()):Ke.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new Xr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new Xr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};Xr.create=r=>new Xr({checks:[],typeName:Ee.ZodNumber,coerce:r?.coerce||!1,...Pe(r)});var en=class extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ae.bigint){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ae.bigint,received:s.parsedType}),Be}let n,o=new Gt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:Q.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):Ke.assertNever(s);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,n,o){return new en({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Se.toString(o)}]})}_addCheck(e){return new en({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};en.create=r=>{var e;return new en({checks:[],typeName:Ee.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Pe(r)})};var Co=class extends ze{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ae.boolean){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.boolean,received:n.parsedType}),Be}return fr(e.data)}};Co.create=r=>new Co({typeName:Ee.ZodBoolean,coerce:r?.coerce||!1,...Pe(r)});var wn=class extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_type,expected:ae.date,received:s.parsedType}),Be}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return ue(s,{code:Q.invalid_date}),Be}let n=new Gt,o;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),ue(o,{code:Q.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ke.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wn({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};wn.create=r=>new wn({checks:[],coerce:r?.coerce||!1,typeName:Ee.ZodDate,...Pe(r)});var ws=class extends ze{_parse(e){if(this._getType(e)!==ae.symbol){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.symbol,received:n.parsedType}),Be}return fr(e.data)}};ws.create=r=>new ws({typeName:Ee.ZodSymbol,...Pe(r)});var No=class extends ze{_parse(e){if(this._getType(e)!==ae.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.undefined,received:n.parsedType}),Be}return fr(e.data)}};No.create=r=>new No({typeName:Ee.ZodUndefined,...Pe(r)});var Oo=class extends ze{_parse(e){if(this._getType(e)!==ae.null){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.null,received:n.parsedType}),Be}return fr(e.data)}};Oo.create=r=>new Oo({typeName:Ee.ZodNull,...Pe(r)});var jn=class extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return fr(e.data)}};jn.create=r=>new jn({typeName:Ee.ZodAny,...Pe(r)});var bn=class extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fr(e.data)}};bn.create=r=>new bn({typeName:Ee.ZodUnknown,...Pe(r)});var Dr=class extends ze{_parse(e){let t=this._getOrReturnCtx(e);return ue(t,{code:Q.invalid_type,expected:ae.never,received:t.parsedType}),Be}};Dr.create=r=>new Dr({typeName:Ee.ZodNever,...Pe(r)});var vs=class extends ze{_parse(e){if(this._getType(e)!==ae.undefined){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.void,received:n.parsedType}),Be}return fr(e.data)}};vs.create=r=>new vs({typeName:Ee.ZodVoid,...Pe(r)});var _r=class extends ze{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==ae.array)return ue(t,{code:Q.invalid_type,expected:ae.array,received:t.parsedType}),Be;if(o.exactLength!==null){let i=t.data.length>o.exactLength.value,u=t.data.length<o.exactLength.value;(i||u)&&(ue(t,{code:i?Q.too_big:Q.too_small,minimum:u?o.exactLength.value:void 0,maximum:i?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ue(t,{code:Q.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ue(t,{code:Q.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((i,u)=>o.type._parseAsync(new zr(t,i,t.path,u)))).then(i=>Gt.mergeArray(n,i));let s=[...t.data].map((i,u)=>o.type._parseSync(new zr(t,i,t.path,u)));return Gt.mergeArray(n,s)}get element(){return this._def.type}min(e,t){return new _r({...this._def,minLength:{value:e,message:Se.toString(t)}})}max(e,t){return new _r({...this._def,maxLength:{value:e,message:Se.toString(t)}})}length(e,t){return new _r({...this._def,exactLength:{value:e,message:Se.toString(t)}})}nonempty(e){return this.min(1,e)}};_r.create=(r,e)=>new _r({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Pe(e)});function bs(r){if(r instanceof Ct){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Ur.create(bs(n))}return new Ct({...r._def,shape:()=>e})}else return r instanceof _r?new _r({...r._def,type:bs(r.element)}):r instanceof Ur?Ur.create(bs(r.unwrap())):r instanceof Sn?Sn.create(bs(r.unwrap())):r instanceof Mr?Mr.create(r.items.map(e=>bs(e))):r}var Ct=class extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Ke.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ae.object){let d=this._getOrReturnCtx(e);return ue(d,{code:Q.invalid_type,expected:ae.object,received:d.parsedType}),Be}let{status:n,ctx:o}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),u=[];if(!(this._def.catchall instanceof Dr&&this._def.unknownKeys==="strip"))for(let d in o.data)i.includes(d)||u.push(d);let f=[];for(let d of i){let b=s[d],w=o.data[d];f.push({key:{status:"valid",value:d},value:b._parse(new zr(o,w,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Dr){let d=this._def.unknownKeys;if(d==="passthrough")for(let b of u)f.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(d==="strict")u.length>0&&(ue(o,{code:Q.unrecognized_keys,keys:u}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let b of u){let w=o.data[b];f.push({key:{status:"valid",value:b},value:d._parse(new zr(o,w,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let d=[];for(let b of f){let w=await b.key;d.push({key:w,value:await b.value,alwaysSet:b.alwaysSet})}return d}).then(d=>Gt.mergeObjectSync(n,d)):Gt.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new Ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var o,s,i,u;let f=(i=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,t,n).message)!==null&&i!==void 0?i:n.defaultError;return t.code==="unrecognized_keys"?{message:(u=Se.errToObj(e).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ct({...this._def,catchall:e})}pick(e){let t={};return Ke.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new Ct({...this._def,shape:()=>t})}omit(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new Ct({...this._def,shape:()=>t})}deepPartial(){return bs(this)}partial(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?t[n]=o:t[n]=o.optional()}),new Ct({...this._def,shape:()=>t})}required(e){let t={};return Ke.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Ur;)s=s._def.innerType;t[n]=s}}),new Ct({...this._def,shape:()=>t})}keyof(){return by(Ke.objectKeys(this.shape))}};Ct.create=(r,e)=>new Ct({shape:()=>r,unknownKeys:"strip",catchall:Dr.create(),typeName:Ee.ZodObject,...Pe(e)});Ct.strictCreate=(r,e)=>new Ct({shape:()=>r,unknownKeys:"strict",catchall:Dr.create(),typeName:Ee.ZodObject,...Pe(e)});Ct.lazycreate=(r,e)=>new Ct({shape:r,unknownKeys:"strip",catchall:Dr.create(),typeName:Ee.ZodObject,...Pe(e)});var Uo=class extends ze{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function o(s){for(let u of s)if(u.result.status==="valid")return u.result;for(let u of s)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;let i=s.map(u=>new ur(u.ctx.common.issues));return ue(t,{code:Q.invalid_union,unionErrors:i}),Be}if(t.common.async)return Promise.all(n.map(async s=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(o);{let s,i=[];for(let f of n){let d={...t,common:{...t.common,issues:[]},parent:null},b=f._parseSync({data:t.data,path:t.path,parent:d});if(b.status==="valid")return b;b.status==="dirty"&&!s&&(s={result:b,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;let u=i.map(f=>new ur(f));return ue(t,{code:Q.invalid_union,unionErrors:u}),Be}}get options(){return this._def.options}};Uo.create=(r,e)=>new Uo({options:r,typeName:Ee.ZodUnion,...Pe(e)});var Ba=r=>r instanceof Fo?Ba(r.schema):r instanceof Er?Ba(r.innerType()):r instanceof jo?[r.value]:r instanceof tn?r.options:r instanceof Ho?Object.keys(r.enum):r instanceof $o?Ba(r._def.innerType):r instanceof No?[void 0]:r instanceof Oo?[null]:null,Ss=class extends ze{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ae.object)return ue(t,{code:Q.invalid_type,expected:ae.object,received:t.parsedType}),Be;let n=this.discriminator,o=t.data[n],s=this.optionsMap.get(o);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ue(t,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let o=new Map;for(let s of t){let i=Ba(s.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let u of i){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,s)}}return new Ss({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...Pe(n)})}};function Vf(r,e){let t=qn(r),n=qn(e);if(r===e)return{valid:!0,data:r};if(t===ae.object&&n===ae.object){let o=Ke.objectKeys(e),s=Ke.objectKeys(r).filter(u=>o.indexOf(u)!==-1),i={...r,...e};for(let u of s){let f=Vf(r[u],e[u]);if(!f.valid)return{valid:!1};i[u]=f.data}return{valid:!0,data:i}}else if(t===ae.array&&n===ae.array){if(r.length!==e.length)return{valid:!1};let o=[];for(let s=0;s<r.length;s++){let i=r[s],u=e[s],f=Vf(i,u);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return t===ae.date&&n===ae.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var Do=class extends ze{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=(s,i)=>{if(Wf(s)||Wf(i))return Be;let u=Vf(s.value,i.value);return u.valid?((Kf(s)||Kf(i))&&t.dirty(),{status:t.value,value:u.data}):(ue(n,{code:Q.invalid_intersection_types}),Be)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,i])=>o(s,i)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Do.create=(r,e,t)=>new Do({left:r,right:e,typeName:Ee.ZodIntersection,...Pe(t)});var Mr=class extends ze{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.array)return ue(n,{code:Q.invalid_type,expected:ae.array,received:n.parsedType}),Be;if(n.data.length<this._def.items.length)return ue(n,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&n.data.length>this._def.items.length&&(ue(n,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let s=[...n.data].map((i,u)=>{let f=this._def.items[u]||this._def.rest;return f?f._parse(new zr(n,i,n.path,u)):null}).filter(i=>!!i);return n.common.async?Promise.all(s).then(i=>Gt.mergeArray(t,i)):Gt.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Mr({...this._def,rest:e})}};Mr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mr({items:r,typeName:Ee.ZodTuple,rest:null,...Pe(e)})};var qo=class extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return ue(n,{code:Q.invalid_type,expected:ae.object,received:n.parsedType}),Be;let o=[],s=this._def.keyType,i=this._def.valueType;for(let u in n.data)o.push({key:s._parse(new zr(n,u,n.path,u)),value:i._parse(new zr(n,n.data[u],n.path,u))});return n.common.async?Gt.mergeObjectAsync(t,o):Gt.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof ze?new qo({keyType:e,valueType:t,typeName:Ee.ZodRecord,...Pe(n)}):new qo({keyType:Sr.create(),valueType:e,typeName:Ee.ZodRecord,...Pe(t)})}},_s=class extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.map)return ue(n,{code:Q.invalid_type,expected:ae.map,received:n.parsedType}),Be;let o=this._def.keyType,s=this._def.valueType,i=[...n.data.entries()].map(([u,f],d)=>({key:o._parse(new zr(n,u,n.path,[d,"key"])),value:s._parse(new zr(n,f,n.path,[d,"value"]))}));if(n.common.async){let u=new Map;return Promise.resolve().then(async()=>{for(let f of i){let d=await f.key,b=await f.value;if(d.status==="aborted"||b.status==="aborted")return Be;(d.status==="dirty"||b.status==="dirty")&&t.dirty(),u.set(d.value,b.value)}return{status:t.value,value:u}})}else{let u=new Map;for(let f of i){let d=f.key,b=f.value;if(d.status==="aborted"||b.status==="aborted")return Be;(d.status==="dirty"||b.status==="dirty")&&t.dirty(),u.set(d.value,b.value)}return{status:t.value,value:u}}}};_s.create=(r,e,t)=>new _s({valueType:e,keyType:r,typeName:Ee.ZodMap,...Pe(t)});var vn=class extends ze{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.set)return ue(n,{code:Q.invalid_type,expected:ae.set,received:n.parsedType}),Be;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(ue(n,{code:Q.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(ue(n,{code:Q.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let s=this._def.valueType;function i(f){let d=new Set;for(let b of f){if(b.status==="aborted")return Be;b.status==="dirty"&&t.dirty(),d.add(b.value)}return{status:t.value,value:d}}let u=[...n.data.values()].map((f,d)=>s._parse(new zr(n,f,n.path,d)));return n.common.async?Promise.all(u).then(f=>i(f)):i(u)}min(e,t){return new vn({...this._def,minSize:{value:e,message:Se.toString(t)}})}max(e,t){return new vn({...this._def,maxSize:{value:e,message:Se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};vn.create=(r,e)=>new vn({valueType:r,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Pe(e)});var Fn=class extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ae.function)return ue(t,{code:Q.invalid_type,expected:ae.function,received:t.parsedType}),Be;function n(u,f){return Pa({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ta(),bi].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:f}})}function o(u,f){return Pa({data:u,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ta(),bi].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:f}})}let s={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof Hn){let u=this;return fr(async function(...f){let d=new ur([]),b=await u._def.args.parseAsync(f,s).catch(A=>{throw d.addIssue(n(f,A)),d}),w=await Reflect.apply(i,this,b);return await u._def.returns._def.type.parseAsync(w,s).catch(A=>{throw d.addIssue(o(w,A)),d})})}else{let u=this;return fr(function(...f){let d=u._def.args.safeParse(f,s);if(!d.success)throw new ur([n(f,d.error)]);let b=Reflect.apply(i,this,d.data),w=u._def.returns.safeParse(b,s);if(!w.success)throw new ur([o(b,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fn({...this._def,args:Mr.create(e).rest(bn.create())})}returns(e){return new Fn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new Fn({args:e||Mr.create([]).rest(bn.create()),returns:t||bn.create(),typeName:Ee.ZodFunction,...Pe(n)})}},Fo=class extends ze{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Fo.create=(r,e)=>new Fo({getter:r,typeName:Ee.ZodLazy,...Pe(e)});var jo=class extends ze{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ue(t,{received:t.data,code:Q.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}};jo.create=(r,e)=>new jo({value:r,typeName:Ee.ZodLiteral,...Pe(e)});function by(r,e){return new tn({values:r,typeName:Ee.ZodEnum,...Pe(e)})}var tn=class extends ze{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return ue(t,{expected:Ke.joinValues(n),received:t.parsedType,code:Q.invalid_type}),Be}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return ue(t,{received:t.data,code:Q.invalid_enum_value,options:n}),Be}return fr(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return tn.create(e)}exclude(e){return tn.create(this.options.filter(t=>!e.includes(t)))}};tn.create=by;var Ho=class extends ze{_parse(e){let t=Ke.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ae.string&&n.parsedType!==ae.number){let o=Ke.objectValues(t);return ue(n,{expected:Ke.joinValues(o),received:n.parsedType,code:Q.invalid_type}),Be}if(t.indexOf(e.data)===-1){let o=Ke.objectValues(t);return ue(n,{received:n.data,code:Q.invalid_enum_value,options:o}),Be}return fr(e.data)}get enum(){return this._def.values}};Ho.create=(r,e)=>new Ho({values:r,typeName:Ee.ZodNativeEnum,...Pe(e)});var Hn=class extends ze{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ae.promise&&t.common.async===!1)return ue(t,{code:Q.invalid_type,expected:ae.promise,received:t.parsedType}),Be;let n=t.parsedType===ae.promise?t.data:Promise.resolve(t.data);return fr(n.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Hn.create=(r,e)=>new Hn({type:r,typeName:Ee.ZodPromise,...Pe(e)});var Er=class extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:i=>{ue(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){let i=o.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(i).then(u=>this._def.schema._parseAsync({data:u,path:n.path,parent:n})):this._def.schema._parseSync({data:i,path:n.path,parent:n})}if(o.type==="refinement"){let i=u=>{let f=o.refinement(u,s);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){let u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Be:(u.status==="dirty"&&t.dirty(),i(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Be:(u.status==="dirty"&&t.dirty(),i(u.value).then(()=>({status:t.value,value:u.value}))))}if(o.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wi(i))return i;let u=o.transform(i.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>wi(i)?Promise.resolve(o.transform(i.value,s)).then(u=>({status:t.value,value:u})):i);Ke.assertNever(o)}};Er.create=(r,e,t)=>new Er({schema:r,typeName:Ee.ZodEffects,effect:e,...Pe(t)});Er.createWithPreprocess=(r,e,t)=>new Er({schema:e,effect:{type:"preprocess",transform:r},typeName:Ee.ZodEffects,...Pe(t)});var Ur=class extends ze{_parse(e){return this._getType(e)===ae.undefined?fr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ur.create=(r,e)=>new Ur({innerType:r,typeName:Ee.ZodOptional,...Pe(e)});var Sn=class extends ze{_parse(e){return this._getType(e)===ae.null?fr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Sn.create=(r,e)=>new Sn({innerType:r,typeName:Ee.ZodNullable,...Pe(e)});var $o=class extends ze{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};$o.create=(r,e)=>new $o({innerType:r,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});var Es=class extends ze{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return za(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ur(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Es.create=(r,e)=>new Es({innerType:r,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});var ks=class extends ze{_parse(e){if(this._getType(e)!==ae.nan){let n=this._getOrReturnCtx(e);return ue(n,{code:Q.invalid_type,expected:ae.nan,received:n.parsedType}),Be}return{status:"valid",value:e.data}}};ks.create=r=>new ks({typeName:Ee.ZodNaN,...Pe(r)});var n2=Symbol("zod_brand"),Ma=class extends ze{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Wo=class extends ze{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Be:s.status==="dirty"?(t.dirty(),xy(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Be:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,t){return new Wo({in:e,out:t,typeName:Ee.ZodPipeline})}},Is=class extends ze{_parse(e){let t=this._def.innerType._parse(e);return wi(t)&&(t.value=Object.freeze(t.value)),t}};Is.create=(r,e)=>new Is({innerType:r,typeName:Ee.ZodReadonly,...Pe(e)});var wy=(r,e={},t)=>r?jn.create().superRefine((n,o)=>{var s,i;if(!r(n)){let u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,f=(i=(s=u.fatal)!==null&&s!==void 0?s:t)!==null&&i!==void 0?i:!0,d=typeof u=="string"?{message:u}:u;o.addIssue({code:"custom",...d,fatal:f})}}):jn.create(),o2={object:Ct.lazycreate},Ee;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));var s2=(r,e={message:`Input not instance of ${r.name}`})=>wy(t=>t instanceof r,e),vy=Sr.create,Sy=Xr.create,i2=ks.create,a2=en.create,_y=Co.create,c2=wn.create,u2=ws.create,f2=No.create,l2=Oo.create,p2=jn.create,h2=bn.create,d2=Dr.create,y2=vs.create,m2=_r.create,g2=Ct.create,x2=Ct.strictCreate,b2=Uo.create,w2=Ss.create,v2=Do.create,S2=Mr.create,_2=qo.create,E2=_s.create,k2=vn.create,I2=Fn.create,A2=Fo.create,R2=jo.create,B2=tn.create,T2=Ho.create,P2=Hn.create,my=Er.create,z2=Ur.create,M2=Sn.create,L2=Er.createWithPreprocess,C2=Wo.create,N2=()=>vy().optional(),O2=()=>Sy().optional(),U2=()=>_y().optional(),D2={string:r=>Sr.create({...r,coerce:!0}),number:r=>Xr.create({...r,coerce:!0}),boolean:r=>Co.create({...r,coerce:!0}),bigint:r=>en.create({...r,coerce:!0}),date:r=>wn.create({...r,coerce:!0})},q2=Be,c=Object.freeze({__proto__:null,defaultErrorMap:bi,setErrorMap:$E,getErrorMap:Ta,makeIssue:Pa,EMPTY_PATH:WE,addIssueToContext:ue,ParseStatus:Gt,INVALID:Be,DIRTY:xy,OK:fr,isAborted:Wf,isDirty:Kf,isValid:wi,isAsync:za,get util(){return Ke},get objectUtil(){return $f},ZodParsedType:ae,getParsedType:qn,ZodType:ze,ZodString:Sr,ZodNumber:Xr,ZodBigInt:en,ZodBoolean:Co,ZodDate:wn,ZodSymbol:ws,ZodUndefined:No,ZodNull:Oo,ZodAny:jn,ZodUnknown:bn,ZodNever:Dr,ZodVoid:vs,ZodArray:_r,ZodObject:Ct,ZodUnion:Uo,ZodDiscriminatedUnion:Ss,ZodIntersection:Do,ZodTuple:Mr,ZodRecord:qo,ZodMap:_s,ZodSet:vn,ZodFunction:Fn,ZodLazy:Fo,ZodLiteral:jo,ZodEnum:tn,ZodNativeEnum:Ho,ZodPromise:Hn,ZodEffects:Er,ZodTransformer:Er,ZodOptional:Ur,ZodNullable:Sn,ZodDefault:$o,ZodCatch:Es,ZodNaN:ks,BRAND:n2,ZodBranded:Ma,ZodPipeline:Wo,ZodReadonly:Is,custom:wy,Schema:ze,ZodSchema:ze,late:o2,get ZodFirstPartyTypeKind(){return Ee},coerce:D2,any:p2,array:m2,bigint:a2,boolean:_y,date:c2,discriminatedUnion:w2,effect:my,enum:B2,function:I2,instanceof:s2,intersection:v2,lazy:A2,literal:R2,map:E2,nan:i2,nativeEnum:T2,never:d2,null:l2,nullable:M2,number:Sy,object:g2,oboolean:U2,onumber:O2,optional:z2,ostring:N2,pipeline:C2,preprocess:L2,promise:P2,record:_2,set:k2,strictObject:x2,string:vy,symbol:u2,transformer:my,tuple:S2,undefined:f2,union:b2,unknown:h2,void:y2,NEVER:q2,ZodIssueCode:Q,quotelessJson:HE,ZodError:ur});h();var Zy=Re(hs());h();h();h();h();var Ey="logger/5.7.0";var ky=!1,Iy=!1,La={debug:1,default:2,info:2,warning:3,error:4,off:5},Ay=La.default,Gf=null;function F2(){try{let r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(r){return r.message}return null}var Ry=F2(),Zf;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(Zf||(Zf={}));var qr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(qr||(qr={}));var By="0123456789abcdef",Qe=class{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let n=e.toLowerCase();La[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Ay>La[n])&&console.log.apply(console,t)}debug(...e){this._log(Qe.levels.DEBUG,e)}info(...e){this._log(Qe.levels.INFO,e)}warn(...e){this._log(Qe.levels.WARNING,e)}makeError(e,t,n){if(Iy)return this.makeError("censored error",t,{});t||(t=Qe.errors.UNKNOWN_ERROR),n||(n={});let o=[];Object.keys(n).forEach(f=>{let d=n[f];try{if(d instanceof Uint8Array){let b="";for(let w=0;w<d.length;w++)b+=By[d[w]>>4],b+=By[d[w]&15];o.push(f+"=Uint8Array(0x"+b+")")}else o.push(f+"="+JSON.stringify(d))}catch{o.push(f+"="+JSON.stringify(n[f].toString()))}}),o.push(`code=${t}`),o.push(`version=${this.version}`);let s=e,i="";switch(t){case qr.NUMERIC_FAULT:{i="NUMERIC_FAULT";let f=e;switch(f){case"overflow":case"underflow":case"division-by-zero":i+="-"+f;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result";break}break}case qr.CALL_EXCEPTION:case qr.INSUFFICIENT_FUNDS:case qr.MISSING_NEW:case qr.NONCE_EXPIRED:case qr.REPLACEMENT_UNDERPRICED:case qr.TRANSACTION_REPLACED:case qr.UNPREDICTABLE_GAS_LIMIT:i=t;break}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),o.length&&(e+=" ("+o.join(", ")+")");let u=new Error(e);return u.reason=s,u.code=t,Object.keys(n).forEach(function(f){u[f]=n[f]}),u}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Qe.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,o){e||this.throwError(t,n,o)}assertArgument(e,t,n,o){e||this.throwArgumentError(t,n,o)}checkNormalize(e){e==null&&(e="platform missing String.prototype.normalize"),Ry&&this.throwError("platform missing String.prototype.normalize",Qe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ry})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,Qe.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Qe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",Qe.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Qe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Qe.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Gf||(Gf=new Qe(Ey)),Gf}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ky){if(!e)return;this.globalLogger().throwError("error censorship permanent",Qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Iy=!!e,ky=!!t}static setLogLevel(e){let t=La[e.toLowerCase()];if(t==null){Qe.globalLogger().warn("invalid log level - "+e);return}Ay=t}static from(e){return new Qe(e)}};Qe.errors=qr;Qe.levels=Zf;h();var Ty="bytes/5.7.0";var Yf=new Qe(Ty);function j2(r){return!!r.toHexString}function Ca(r){return r.slice||(r.slice=function(){let e=Array.prototype.slice.call(arguments);return Ca(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Py(r){return typeof r=="number"&&r==r&&r%1===0}function H2(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Py(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){let t=r[e];if(!Py(t)||t<0||t>=256)return!1}return!0}function Na(r,e){if(e||(e={}),typeof r=="number"){Yf.checkSafeUint53(r,"invalid arrayify value");let t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Ca(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),j2(r)&&(r=r.toHexString()),Jf(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Yf.throwArgumentError("hex data is odd-length","value",r));let n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(t.substring(o,o+2),16));return Ca(new Uint8Array(n))}return H2(r)?Ca(new Uint8Array(r)):Yf.throwArgumentError("invalid arrayify value","value",r)}function Jf(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}h();h();var Cy=Re(Oa());h();var Ly="bignumber/5.7.0";var $2=Cy.default.BN,w6=new Qe(Ly);function Xf(r){return new $2(r,36).toString(16)}h();var Oy=Re(Ny());function Uy(r){return"0x"+Oy.default.keccak_256(Na(r))}h();var Dy="address/5.7.0";var vi=new Qe(Dy);function qy(r){Jf(r,20)||vi.throwArgumentError("invalid address","address",r),r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let o=0;o<40;o++)t[o]=e[o].charCodeAt(0);let n=Na(Uy(t));for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(n[o>>1]&15)>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}var K2=9007199254740991;function V2(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var el={};for(let r=0;r<10;r++)el[String(r)]=String(r);for(let r=0;r<26;r++)el[String.fromCharCode(65+r)]=String(10+r);var Fy=Math.floor(V2(K2));function G2(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>el[n]).join("");for(;e.length>=Fy;){let n=e.substring(0,Fy);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Z2(r){let e=null;if(typeof r!="string"&&vi.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=qy(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&vi.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==G2(r)&&vi.throwArgumentError("bad icap checksum","address",r),e=Xf(r.substring(4));e.length<40;)e="0"+e;e=qy("0x"+e)}else vi.throwArgumentError("invalid address","address",r);return e}function jy(r){try{return Z2(r),!0}catch{}return!1}var Fa=Re($n());var Ye=c.string().min(2,{message:"Must be 2 or more characters long"}).regex(/^0x[0-9A-Fa-f]*$/,{message:"String must be '0x'-prefixed and followed by valid hex characters"}),$=c.number().transform(r=>`0x${r.toString(16)}`).or(Ye.min(3,{message:"Must be 3 or more characters long (should always have at least one digit - zero is '0x0')."})).refine(r=>r==="0x0"?!0:r[2]!=="0",{message:"Invalid hex quantity: leading zero digits are not allowed."}),Le=Ye.refine(r=>r.length%2===0,{message:"Invalid hex-encoded data: must be even number of digits"}),As=c.string().transform(r=>{let e=Le.safeParse(r);return e.success?e.data:`0x${Zy.Buffer.from(r).toString("hex")}`}),rl=c.union([c.string(),c.number()]).transform((r,e)=>{if(typeof r=="number")return r;let t=r.startsWith("0x")?16:10,n=parseInt(r,t);return Number.isNaN(n)&&e.addIssue({code:c.ZodIssueCode.custom,message:"Could not parse as LenientInteger"}),n}),nl=r=>Le.refine(e=>e.length===r*2+2,{message:`Invalid byte length. (Expected ${r} bytes)`}),le=Ye.refine(jy,{message:"Invalid Ethereum address."}),be=nl(32),ol=nl(256),nn=c.object({blockHash:be,address:le,logIndex:$,data:Le,removed:c.boolean().optional(),topics:c.array(be),blockNumber:$.nullable(),transactionIndex:$,transactionHash:be}),Si=c.object({transactionHash:be,transactionIndex:$,blockHash:be,blockNumber:$,from:le,to:le.nullable().optional(),root:be.optional(),status:c.literal("0x1").or(c.literal("0x0")).optional(),cumulativeGasUsed:$,gasUsed:$,contractAddress:le.nullable(),logs:c.array(nn),logsBloom:ol,effectiveGasPrice:$.optional(),type:$.optional()}),_i=c.object({from:le.optional(),chainId:$.optional(),to:le.optional(),gas:$.optional(),gasPrice:$.optional(),value:$.optional(),data:Le.optional(),nonce:$.optional()}),_n=c.object({name:c.string(),type:c.string()}),ja=c.array(_n),Yy=c.object({chainId:rl.optional(),name:c.string(),verifyingContract:le,version:c.string().optional()}),sl=c.object({type:c.string(),name:c.string(),value:c.string()}).array(),Ha=c.object({domain:Yy,message:c.record(c.any()),primaryType:c.string(),types:c.object({EIP712Domain:ja}).and(c.record(_n.array()))}),il=c.object({chainId:rl.optional(),name:c.string().optional(),verifyingContract:le.optional(),version:c.string().optional(),salt:c.string().optional()}),$a=c.object({domain:il,message:c.record(c.any()),primaryType:c.string(),types:c.object({EIP712Domain:ja}).and(c.record(_n.array()))}),Jy=c.object({name:c.literal("owner"),type:c.literal("address")}),Qy=c.object({name:c.literal("spender"),type:c.literal("address")}),Xy=c.object({name:c.literal("value"),type:c.literal("uint256")}),em=c.object({name:c.literal("value"),type:c.literal("uint256")}),tm=c.object({name:c.literal("deadline"),type:c.literal("uint256")}),rm=c.tuple([_n,_n,_n,_n,_n]).refine(r=>{let e=[Jy,Qy,Xy,em,tm],t=new Set(["owner","spender","value","nonce","deadline"]);for(let n of r)for(let o of e){let s=o.safeParse(n);s.success&&t.delete(s.data.name)}return t.size===0}).transform(()=>[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]),nm=c.literal("Permit"),om=c.object({EIP712Domain:ja,Permit:rm}),sm=c.object({owner:le,spender:le,value:$,nonce:$,deadline:$}),X2=c.object({domain:il,primaryType:nm,types:om,message:sm}),al=(n=>(n.legacy="0x0",n.eip2930="0x1",n.eip1559="0x2",n))(al||{}),im=c.tuple([le,c.array(be)]),Vo=c.object({chainId:$.optional(),data:Le.optional(),from:le,gas:$.optional(),gasPrice:$.optional(),nonce:$.optional(),to:le.optional(),value:$.optional(),type:c.nativeEnum(al).optional(),accessList:c.array(im).optional(),maxPriorityFeePerGas:$.optional(),maxFeePerGas:$.optional(),gasLimit:$.optional()}).transform(r=>(r.gas==null&&r.gasLimit!=null&&(r.gas=r.gasLimit,delete r.gasLimit),r)).brand("EthUnsignedTransactionObject"),on=c.object({blockHash:be.nullish(),blockNumber:$.nullish(),from:le,gas:$,gasPrice:$.nullish(),hash:be,input:Le,nonce:$,to:le.nullable(),transactionIndex:$.nullish(),value:$,v:$,r:$,s:$}),cl=c.object({address:le.optional(),balance:$,codeHash:be,nonce:$,storageHash:be,accountProof:c.array(Ye),storageProof:c.array(c.object({key:$,value:$,proof:c.array(Ye)}))}),tt=c.literal("latest").or(c.literal("earliest")).or(c.literal("pending")).or(c.literal("finalized")),En=c.object({number:$.nullable(),hash:be.nullable(),parentHash:be,nonce:nl(8).nullable(),sha3Uncles:be,logsBloom:ol.nullable(),transactionsRoot:be,stateRoot:be,receiptsRoot:be,miner:le.nullable(),mixHash:be.optional(),difficulty:$,totalDifficulty:$.nullable(),extraData:Le,size:$,gasLimit:$,gasUsed:$,timestamp:$,transactions:c.array(on).or(c.array(be)),uncles:c.array(be),baseFeePerGas:$.optional()}),Ei=c.enum(["CONTINUE_WITH_PHANTOM","CONTINUE_WITH_METAMASK","ALWAYS_USE_PHANTOM","ALWAYS_USE_METAMASK"]),ki=c.string().refine(r=>{try{return Fa.default.decode(r).byteLength===32}catch(e){return!1}},{message:"String must be a valid solana public key of 32 bytes"}),am=c.union([c.literal("bip122_p2tr"),c.literal("bip122_p2wpkh"),c.literal("bip122_p2sh"),c.literal("bip122_p2pkh")]),cm=c.object({address:c.string(),publicKey:c.string(),addressType:am}),Go=cm.and(c.object({purpose:c.union([c.literal("payment"),c.literal("ordinals")])})),ek=c.string().refine(r=>{try{return Fa.default.decode(r).byteLength===64}catch(e){return!1}},{message:"String must be a valid solana address of 64 bytes"}),He=c.string().refine(r=>{try{return Fa.default.decode(r),!0}catch(e){return!1}},{message:"String must be a base 58 encoded"}),Me=c.object({url:c.string().url(),title:c.string(),icon:c.string().nullable(),tabId:c.number().optional()}),um=c.array(c.any()),Wa=c.unknown().transform((r,e)=>typeof r=="object"&&r!==null?r:(e.addIssue({code:c.ZodIssueCode.custom,message:"Not an object"}),c.NEVER)),Rs=c.union([c.null(),c.string(),c.number(),c.boolean(),um,Wa]),Ii=c.literal("2.0"),Bs=c.union([c.string(),c.number(),c.null()]),Ka=c.object({jsonrpc:c.literal("2.0"),id:Bs,method:c.string(),params:Rs.optional()}),ul=c.array(Ka),Ai=c.object({jsonrpc:c.literal("2.0"),method:c.string(),params:Rs}),Va=(A=>(A[A.ParseError=-32700]="ParseError",A[A.InternalError=-32603]="InternalError",A[A.InvalidParams=-32602]="InvalidParams",A[A.MethodNotFound=-32601]="MethodNotFound",A[A.InvalidRequest=-32600]="InvalidRequest",A[A.TransactionRejected=-32003]="TransactionRejected",A[A.ResourceUnavailable=-32002]="ResourceUnavailable",A[A.InvalidInput=-32e3]="InvalidInput",A[A.UserRejectedRequest=4001]="UserRejectedRequest",A[A.Unauthorized=4100]="Unauthorized",A[A.Disconnected=4900]="Disconnected",A[A.ChainDisconnected=4901]="ChainDisconnected",A[A.ExecutionReverted=3]="ExecutionReverted",A))(Va||{});var P=c.object({code:c.nativeEnum(Va).or(c.number()),message:c.string()}),fm=c.object({error:P}).or(c.object({result:Rs})),Ga=c.object({jsonrpc:c.literal("2.0"),id:Bs}).and(fm),fl=c.array(Ga),Ri=c.object({domain:c.string().optional(),address:c.string().optional(),statement:c.string().optional(),uri:c.string().optional(),version:c.string().optional(),chainId:c.string().optional(),nonce:c.string().optional(),issuedAt:c.string().optional(),expirationTime:c.string().optional(),notBefore:c.string().optional(),requestId:c.string().optional(),resources:c.array(c.string()).optional()}),lm=c.literal("mainnet"),pm=c.literal("testnet"),hm=c.literal("devnet"),dm=c.literal("localnet"),ym=c.enum([lm.value,pm.value,hm.value,dm.value]),mm=c.literal("1"),gm=c.literal("5"),xm=c.literal("11155111"),bm=c.enum([mm.value,gm.value,xm.value]),wm=c.literal("0x1"),vm=c.literal("0x5"),Sm=c.literal("0xaa36a7"),Za=c.enum([wm.value,vm.value,Sm.value]),_m=c.literal("137"),Em=c.literal("80001"),km=c.enum([_m.value,Em.value]),Im=c.literal("0x89"),Am=c.literal("0x13881"),Ya=c.enum([Im.value,Am.value]);h();function z(r,e){return c.object({jsonrpc:Ii,id:Bs,method:r,params:e})}function M(r,e){return c.object({jsonrpc:Ii,id:Bs}).and(c.object({result:r}).or(c.object({error:e})))}function kr(r,e){return c.object({jsonrpc:Ii,method:r,params:e})}var Rm=c.literal("btc_requestAccounts"),Bm=c.tuple([]),Tm=c.array(Go),Pm=P,tk=z(Rm,Bm),rk=M(Tm,Pm);var pl={};Y(pl,{error:()=>Cm,method:()=>zm,params:()=>Mm,request:()=>nk,response:()=>ok,result:()=>Lm});h();var zm=c.literal("btc_signPSBT"),Mm=c.tuple([c.instanceof(Uint8Array),c.object({inputsToSign:c.array(c.object({address:c.string(),signingIndexes:c.array(c.number()),sigHash:c.number().optional()})),finalize:c.boolean()})]),Lm=c.instanceof(Uint8Array),Cm=P,nk=z(zm,Mm),ok=M(Lm,Cm);var hl={};Y(hl,{error:()=>Dm,method:()=>Nm,params:()=>Om,request:()=>sk,response:()=>ik,result:()=>Um});h();var Nm=c.literal("btc_signMessage"),Om=c.object({address:c.string(),message:c.instanceof(Uint8Array)}),Um=c.object({signature:c.instanceof(Uint8Array),signedMessage:c.instanceof(Uint8Array)}),Dm=P,sk=z(Nm,Om),ik=M(Um,Dm);h();var dl={};Y(dl,{error:()=>Hm,method:()=>qm,params:()=>Fm,request:()=>ck,response:()=>uk,result:()=>jm});h();var qm=c.literal("eth_accounts"),Fm=c.tuple([]),jm=c.array(le),Hm=P,ck=z(qm,Fm),uk=M(jm,Hm);var yl={};Y(yl,{error:()=>Vm,method:()=>$m,params:()=>Wm,request:()=>fk,response:()=>lk,result:()=>Km});h();var $m=c.literal("eth_blockNumber"),Wm=c.tuple([]),Km=$,Vm=P,fk=z($m,Wm),lk=M(Km,Vm);var ml={};Y(ml,{error:()=>Jm,method:()=>Gm,params:()=>Zm,request:()=>pk,response:()=>hk,result:()=>Ym});h();var Gm=c.literal("eth_call"),Zm=c.tuple([_i,$.or(tt)]),Ym=Le,Jm=P,pk=z(Gm,Zm),hk=M(Ym,Jm);var gl={};Y(gl,{error:()=>t0,method:()=>Qm,params:()=>Xm,request:()=>dk,response:()=>yk,result:()=>e0});h();var Qm=c.literal("eth_cancelPrivateTransaction"),Xm=c.tuple([c.object({txHash:be})]),e0=c.boolean(),t0=P,dk=z(Qm,Xm),yk=M(e0,t0);var xl={};Y(xl,{error:()=>s0,method:()=>r0,params:()=>n0,request:()=>mk,response:()=>gk,result:()=>o0});h();var r0=c.literal("eth_chainId"),n0=c.tuple([]),o0=Ye,s0=P,mk=z(r0,n0),gk=M(o0,s0);var bl={};Y(bl,{error:()=>u0,method:()=>i0,params:()=>a0,request:()=>xk,response:()=>bk,result:()=>c0});h();var i0=c.literal("eth_estimateGas"),a0=c.tuple([_i]),c0=$,u0=P,xk=z(i0,a0),bk=M(c0,u0);var wl={};Y(wl,{error:()=>h0,method:()=>f0,params:()=>l0,request:()=>wk,response:()=>vk,result:()=>p0});h();var f0=c.literal("eth_feeHistory"),l0=c.tuple([c.number(),$.or(tt),c.array(c.number()).optional()]),p0=c.object({oldestBlock:c.number(),reward:c.array(c.tuple([$,$])).optional(),baseFeePerGas:c.array($),gasUsedRatio:c.array(c.number())}),h0=P,wk=z(f0,l0),vk=M(p0,h0);var vl={};Y(vl,{error:()=>g0,method:()=>d0,params:()=>y0,request:()=>Sk,response:()=>_k,result:()=>m0});h();var d0=c.literal("eth_gasPrice"),y0=c.tuple([]),m0=$,g0=P,Sk=z(d0,y0),_k=M(m0,g0);var Sl={};Y(Sl,{error:()=>v0,method:()=>x0,params:()=>b0,request:()=>Ek,response:()=>kk,result:()=>w0});h();var x0=c.literal("eth_getBalance"),b0=c.tuple([le,$.or(tt)]),w0=$,v0=P,Ek=z(x0,b0),kk=M(w0,v0);var _l={};Y(_l,{error:()=>k0,method:()=>S0,params:()=>_0,request:()=>Ik,response:()=>Ak,result:()=>E0});h();var S0=c.literal("eth_getBlockByHash"),_0=c.tuple([be,c.boolean()]),E0=En,k0=P,Ik=z(S0,_0),Ak=M(E0,k0);var El={};Y(El,{error:()=>B0,method:()=>I0,params:()=>A0,request:()=>Rk,response:()=>Bk,result:()=>R0});h();var I0=c.literal("eth_getBlockByNumber"),A0=c.tuple([$.or(tt),c.boolean()]),R0=En,B0=P,Rk=z(I0,A0),Bk=M(R0,B0);var kl={};Y(kl,{error:()=>M0,method:()=>T0,params:()=>P0,request:()=>Tk,response:()=>Pk,result:()=>z0});h();var T0=c.literal("eth_getBlockReceipts"),P0=c.tuple([be.or($).or(tt)]),z0=c.array(Si),M0=P,Tk=z(T0,P0),Pk=M(z0,M0);var Il={};Y(Il,{error:()=>O0,method:()=>L0,params:()=>C0,request:()=>zk,response:()=>Mk,result:()=>N0});h();var L0=c.literal("eth_getBlockTransactionCountByHash"),C0=c.tuple([be]),N0=$,O0=P,zk=z(L0,C0),Mk=M(N0,O0);var Al={};Y(Al,{error:()=>F0,method:()=>U0,params:()=>D0,request:()=>Lk,response:()=>Ck,result:()=>q0});h();var U0=c.literal("eth_getBlockTransactionCountByNumber"),D0=c.tuple([$]),q0=$,F0=P,Lk=z(U0,D0),Ck=M(q0,F0);var Rl={};Y(Rl,{error:()=>W0,method:()=>j0,params:()=>H0,request:()=>Nk,response:()=>Ok,result:()=>$0});h();var j0=c.literal("eth_getCode"),H0=c.tuple([le,c.union([$,tt])]),$0=Le,W0=P,Nk=z(j0,H0),Ok=M($0,W0);var Bl={};Y(Bl,{error:()=>Z0,method:()=>K0,params:()=>V0,request:()=>Uk,response:()=>Dk,result:()=>G0});h();var K0=c.literal("eth_getFilterChanges"),V0=c.tuple([$]),G0=c.array(nn),Z0=P,Uk=z(K0,V0),Dk=M(G0,Z0);var Tl={};Y(Tl,{error:()=>X0,method:()=>Y0,params:()=>J0,request:()=>qk,response:()=>Fk,result:()=>Q0});h();var Y0=c.literal("eth_getFilterLogs"),J0=c.tuple([$]),Q0=c.array(nn),X0=P,qk=z(Y0,J0),Fk=M(Q0,X0);var Pl={};Y(Pl,{error:()=>ng,method:()=>eg,params:()=>tg,request:()=>jk,response:()=>Hk,result:()=>rg});h();var eg=c.literal("eth_getLogs"),tg=c.tuple([c.object({fromBlock:$.or(tt).optional(),toBlock:c.string().optional(),address:le.optional(),topics:c.array(be).optional(),blockHash:be.optional()})]),rg=c.array(nn),ng=P,jk=z(eg,tg),Hk=M(rg,ng);var zl={};Y(zl,{error:()=>ag,method:()=>og,params:()=>sg,request:()=>$k,response:()=>Wk,result:()=>ig});h();var og=c.literal("eth_getProof"),sg=c.tuple([le,c.array(be),$.or(tt)]),ig=cl,ag=P,$k=z(og,sg),Wk=M(ig,ag);var Ml={};Y(Ml,{error:()=>lg,method:()=>cg,params:()=>ug,request:()=>Kk,response:()=>Vk,result:()=>fg});h();var cg=c.literal("eth_getStorageAt"),ug=c.tuple([le,$,$.or(tt)]),fg=Le,lg=P,Kk=z(cg,ug),Vk=M(fg,lg);var Ll={};Y(Ll,{error:()=>yg,method:()=>pg,params:()=>hg,request:()=>Gk,response:()=>Zk,result:()=>dg});h();var pg=c.literal("eth_getTransactionByBlockHashAndIndex"),hg=c.tuple([be,$]),dg=on.nullable(),yg=P,Gk=z(pg,hg),Zk=M(dg,yg);var Cl={};Y(Cl,{error:()=>bg,method:()=>mg,params:()=>gg,request:()=>Yk,response:()=>Jk,result:()=>xg});h();var mg=c.literal("eth_getTransactionByBlockNumberAndIndex"),gg=c.tuple([c.string(),$]),xg=on,bg=P,Yk=z(mg,gg),Jk=M(xg,bg);var Nl={};Y(Nl,{error:()=>_g,method:()=>wg,params:()=>vg,request:()=>Qk,response:()=>Xk,result:()=>Sg});h();var wg=c.literal("eth_getTransactionByHash"),vg=c.tuple([be]),Sg=on.nullable(),_g=P,Qk=z(wg,vg),Xk=M(Sg,_g);var Ol={};Y(Ol,{error:()=>Ag,method:()=>Eg,params:()=>kg,request:()=>eI,response:()=>tI,result:()=>Ig});h();var Eg=c.literal("eth_getTransactionCount"),kg=c.tuple([le,$.or(tt)]),Ig=$,Ag=P,eI=z(Eg,kg),tI=M(Ig,Ag);var Ul={};Y(Ul,{error:()=>Pg,method:()=>Rg,params:()=>Bg,request:()=>rI,response:()=>nI,result:()=>Tg});h();var Rg=c.literal("eth_getTransactionReceipt"),Bg=c.tuple([be]),Tg=Si.nullable(),Pg=P,rI=z(Rg,Bg),nI=M(Tg,Pg);var Dl={};Y(Dl,{error:()=>Cg,method:()=>zg,params:()=>Mg,request:()=>oI,response:()=>sI,result:()=>Lg});h();var zg=c.literal("eth_getUncleByBlockHashAndIndex"),Mg=c.tuple([$.or(tt),$]),Lg=En,Cg=P,oI=z(zg,Mg),sI=M(Lg,Cg);var ql={};Y(ql,{error:()=>Dg,method:()=>Ng,params:()=>Og,request:()=>iI,response:()=>aI,result:()=>Ug});h();var Ng=c.literal("eth_getUncleByBlockNumberAndIndex"),Og=c.tuple([$.or(tt),$]),Ug=En,Dg=P,iI=z(Ng,Og),aI=M(Ug,Dg);var Fl={};Y(Fl,{error:()=>Hg,method:()=>qg,params:()=>Fg,request:()=>cI,response:()=>uI,result:()=>jg});h();var qg=c.literal("eth_getUncleCountByBlockHash"),Fg=c.tuple([be]),jg=$,Hg=P,cI=z(qg,Fg),uI=M(jg,Hg);var jl={};Y(jl,{error:()=>Vg,method:()=>$g,params:()=>Wg,request:()=>fI,response:()=>lI,result:()=>Kg});h();var $g=c.literal("eth_getUncleCountByBlockNumber"),Wg=c.tuple([$.or(tt)]),Kg=$,Vg=P,fI=z($g,Wg),lI=M(Kg,Vg);var Hl={};Y(Hl,{error:()=>Jg,method:()=>Gg,params:()=>Zg,request:()=>pI,response:()=>hI,result:()=>Yg});h();var Gg=c.literal("eth_maxPriorityFeePerGas"),Zg=c.tuple([]),Yg=$,Jg=P,pI=z(Gg,Zg),hI=M(Yg,Jg);var $l={};Y($l,{error:()=>tx,method:()=>Qg,params:()=>Xg,request:()=>dI,response:()=>yI,result:()=>ex});h();var Qg=c.literal("eth_newBlockFilter"),Xg=c.tuple([]),ex=$,tx=P,dI=z(Qg,Xg),yI=M(ex,tx);var Wl={};Y(Wl,{error:()=>sx,method:()=>rx,params:()=>nx,request:()=>mI,response:()=>gI,result:()=>ox});h();var rx=c.literal("eth_newFilter"),nx=c.tuple([c.object({fromBlock:$.optional(),toBlock:$.optional(),address:le.or(c.array(le)).optional(),topics:c.array(Le.nullable().or(c.array(Le.nullable()))).optional()})]),ox=$,sx=P,mI=z(rx,nx),gI=M(ox,sx);var Kl={};Y(Kl,{error:()=>ux,method:()=>ix,params:()=>ax,request:()=>xI,response:()=>bI,result:()=>cx});h();var ix=c.literal("eth_newPendingTransactionFilter"),ax=c.tuple([]),cx=$,ux=P,xI=z(ix,ax),bI=M(cx,ux);var Vl={};Y(Vl,{error:()=>hx,method:()=>fx,params:()=>lx,request:()=>wI,response:()=>vI,result:()=>px});h();var fx=c.literal("personal_sign"),lx=c.union([c.tuple([As,le]),c.tuple([As,le,c.unknown()])]),px=Le,hx=P,wI=z(fx,lx),vI=M(px,hx);var Gl={};Y(Gl,{error:()=>gx,method:()=>dx,params:()=>yx,request:()=>SI,response:()=>_I,result:()=>mx});h();var dx=c.literal("eth_protocolVersion"),yx=c.tuple([]),mx=c.string(),gx=P,SI=z(dx,yx),_I=M(mx,gx);var Zl={};Y(Zl,{error:()=>vx,method:()=>xx,params:()=>bx,request:()=>EI,response:()=>kI,result:()=>wx});h();var xx=c.literal("eth_requestAccounts"),bx=c.tuple([]),wx=c.array(le),vx=P,EI=z(xx,bx),kI=M(wx,vx);var Yl={};Y(Yl,{error:()=>kx,method:()=>Sx,params:()=>_x,request:()=>II,response:()=>AI,result:()=>Ex});h();var Sx=c.literal("eth_sendPrivateTransaction"),_x=c.tuple([c.object({tx:be,maxBlockNumber:$.optional(),preferences:c.object({fast:c.boolean()}).optional()})]),Ex=be,kx=P,II=z(Sx,_x),AI=M(Ex,kx);var Jl={};Y(Jl,{error:()=>Bx,method:()=>Ix,params:()=>Ax,request:()=>RI,response:()=>BI,result:()=>Rx});h();var Ix=c.literal("eth_sendRawTransaction"),Ax=c.tuple([Le]),Rx=be,Bx=P,RI=z(Ix,Ax),BI=M(Rx,Bx);var Ql={};Y(Ql,{error:()=>Mx,method:()=>Tx,params:()=>Px,request:()=>TI,response:()=>PI,result:()=>zx});h();var Tx=c.literal("eth_sendTransaction"),Px=c.tuple([Vo]),zx=be,Mx=P,TI=z(Tx,Px),PI=M(zx,Mx);var Xl={};Y(Xl,{error:()=>Ox,method:()=>Lx,params:()=>Cx,request:()=>zI,response:()=>MI,result:()=>Nx});h();var Lx=c.literal("eth_sign"),Cx=c.tuple([le,As]),Nx=Le,Ox=P,zI=z(Lx,Cx),MI=M(Nx,Ox);var ep={};Y(ep,{error:()=>Fx,method:()=>Ux,params:()=>Dx,request:()=>LI,response:()=>CI,result:()=>qx});h();var Ux=c.literal("eth_signTransaction"),Dx=c.tuple([Vo]),qx=Le,Fx=P,LI=z(Ux,Dx),CI=M(qx,Fx);var tp={};Y(tp,{error:()=>Wx,method:()=>jx,params:()=>Hx,request:()=>NI,response:()=>OI,result:()=>$x});h();var jx=c.literal("eth_signTypedData"),Hx=c.tuple([sl,le]),$x=Le,Wx=P,NI=z(jx,Hx),OI=M($x,Wx);var rp={};Y(rp,{error:()=>Zx,method:()=>Kx,params:()=>Vx,request:()=>UI,response:()=>DI,result:()=>Gx});h();var Kx=c.literal("eth_signTypedData_v3"),Vx=c.tuple([le,c.string().transform((r,e)=>{try{let t=JSON.parse(r);return Ha.parse(t)}catch(t){return e.addIssue({code:c.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),c.NEVER}}).or(Ha)]),Gx=Le,Zx=P,UI=z(Kx,Vx),DI=M(Gx,Zx);var np={};Y(np,{error:()=>Xx,method:()=>Yx,params:()=>Jx,request:()=>qI,response:()=>FI,result:()=>Qx});h();var Yx=c.literal("eth_signTypedData_v4"),Jx=c.tuple([le,c.string().transform((r,e)=>{try{let t=JSON.parse(r);return $a.parse(t)}catch(t){return e.addIssue({code:c.ZodIssueCode.custom,message:"Invalid typed data:"+t.message,fatal:!0}),c.NEVER}}).or($a)]),Qx=Le,Xx=P,qI=z(Yx,Jx),FI=M(Qx,Xx);var op={};Y(op,{error:()=>nb,method:()=>eb,params:()=>tb,request:()=>jI,response:()=>HI,result:()=>rb});h();var eb=c.literal("eth_subscribe"),tb=c.union([c.tuple([c.union([c.literal("alchemy_pendingTransactions"),c.literal("newPendingTransactions"),c.literal("newHeads"),c.literal("logs")])]),c.tuple([c.union([c.literal("alchemy_pendingTransactions"),c.literal("newPendingTransactions"),c.literal("newHeads"),c.literal("logs")]),c.union([c.object({fromAddress:c.union([le,c.array(le)]).optional(),toAddress:c.union([le,c.array(le)]).optional(),hashesOnly:c.boolean().optional()}),c.object({address:c.union([le,c.array(le)]).optional(),topics:c.array(c.union([c.null(),le,c.array(le)]))})])])]),rb=c.union([Ye,c.object({result:on,subscription:Ye}),c.object({result:be,subscription:Ye}),c.object({result:c.object({difficulty:Ye,extraData:Ye,gasLimit:Ye,gasUsed:Ye,logsBloom:Ye,miner:le,nonce:Ye,number:Ye,parentHash:be,receiptRoot:be,sha3Uncles:be,stateRoot:be,timestamp:Ye,transactionsRoot:be}),subscription:Ye}),c.object({result:nn,subscription:Ye})]),nb=P,jI=z(eb,tb),HI=M(rb,nb);var sp={};Y(sp,{error:()=>ab,method:()=>ob,params:()=>sb,request:()=>$I,response:()=>WI,result:()=>ib});h();var ob=c.literal("eth_uninstallFilter"),sb=c.tuple([$]),ib=c.boolean(),ab=P,$I=z(ob,sb),WI=M(ib,ab);var ip={};Y(ip,{error:()=>lb,method:()=>cb,params:()=>ub,request:()=>KI,response:()=>VI,result:()=>fb});h();var cb=c.literal("eth_unsubscribe"),ub=c.tuple([$]),fb=c.boolean(),lb=P,KI=z(cb,ub),VI=M(fb,lb);var ap={};Y(ap,{error:()=>yb,method:()=>pb,params:()=>hb,request:()=>GI,response:()=>ZI,result:()=>db});h();var pb=c.literal("net_listening"),hb=c.tuple([]),db=c.boolean(),yb=P,GI=z(pb,hb),ZI=M(db,yb);var cp={};Y(cp,{error:()=>bb,method:()=>mb,params:()=>gb,request:()=>YI,response:()=>JI,result:()=>xb});h();var mb=c.literal("net_version"),gb=c.tuple([]),xb=c.string(),bb=P,YI=z(mb,gb),JI=M(xb,bb);var up={};Y(up,{error:()=>_b,method:()=>wb,params:()=>vb,request:()=>QI,response:()=>XI,result:()=>Sb});h();var wb=c.literal("wallet_addEthereumChain"),vb=c.tuple([c.object({chainId:Ye,chainName:c.string(),nativeCurrency:c.object({name:c.string(),symbol:c.string().refine(r=>{let{length:e}=r;return e>=2&&e<=6},{message:"Value is not a valid symbol."}),decimals:c.number()}),rpcUrls:c.array(c.string()),blockExplorerUrls:c.union([c.tuple([c.string()]),c.null()]).optional(),iconUrls:c.array(c.string()).optional()})]),Sb=c.null(),_b=P,QI=z(wb,vb),XI=M(Sb,_b);var fp={};Y(fp,{error:()=>Ab,method:()=>Eb,params:()=>kb,request:()=>eA,response:()=>tA,result:()=>Ib});h();var Eb=c.literal("wallet_selectEthereumProvider"),kb=c.tuple([]),Ib=Ei,Ab=P,eA=z(Eb,kb),tA=M(Ib,Ab);var lp={};Y(lp,{error:()=>Pb,method:()=>Rb,params:()=>Bb,request:()=>rA,response:()=>nA,result:()=>Tb});h();var Rb=c.literal("wallet_switchEthereumChain"),Bb=c.tuple([c.object({chainId:Ye})]),Tb=c.null(),Pb=P,rA=z(Rb,Bb),nA=M(Tb,Pb);var pp={};Y(pp,{error:()=>Cb,method:()=>zb,params:()=>Mb,request:()=>oA,response:()=>sA,result:()=>Lb});h();var zb=c.literal("wallet_watchAsset"),Mb=c.object({type:c.literal("ERC20"),options:c.object({address:le,symbol:c.string(),decimals:c.number(),image:c.string()})}),Lb=c.boolean(),Cb=P,oA=z(zb,Mb),sA=M(Lb,Cb);var hp={};Y(hp,{error:()=>Db,method:()=>Nb,params:()=>Ob,request:()=>iA,response:()=>aA,result:()=>Ub});h();var Nb=c.literal("web3_clientVersion"),Ob=c.tuple([]),Ub=c.string(),Db=P,iA=z(Nb,Ob),aA=M(Ub,Db);var dp={};Y(dp,{error:()=>Hb,method:()=>qb,params:()=>Fb,request:()=>cA,response:()=>uA,result:()=>jb});h();var qb=c.literal("web3_sha3"),Fb=c.tuple([Le]),jb=Le,Hb=P,cA=z(qb,Fb),uA=M(jb,Hb);var Ts={};Y(Ts,{phantom_accountChanged:()=>Ja,phantom_chainChanged:()=>Xa,phantom_dappIcon:()=>ec,phantom_dappMeta:()=>tc,phantom_metaMaskOverrideSettingsChanged:()=>Qa,phantom_trustRevoked:()=>rc});h();var Ja={};Y(Ja,{method:()=>$b,notification:()=>lA,params:()=>Wb});h();var $b=c.literal("phantom_accountChanged"),Wb=c.object({evm:c.optional(le),sol:c.optional(ki),btc:c.array(Go)}).nullable(),lA=kr($b,Wb);var Qa={};Y(Qa,{method:()=>Kb,notification:()=>pA,params:()=>Vb});h();var Kb=c.literal("phantom_metaMaskOverrideSettingsChanged"),Vb=c.null(),pA=kr(Kb,Vb);var Xa={};Y(Xa,{method:()=>Gb,notification:()=>hA,params:()=>Zb});h();var Gb=c.literal("phantom_chainChanged"),Zb=c.object({evm:c.optional(Za.or(Ya))}).nullable(),hA=kr(Gb,Zb);var ec={};Y(ec,{method:()=>Yb,notification:()=>dA,params:()=>Jb});h();var Yb=c.literal("phantom_dappIcon"),Jb=c.string().nullable(),dA=kr(Yb,Jb);var tc={};Y(tc,{method:()=>Qb,notification:()=>yA,params:()=>Xb});h();var Qb=c.literal("phantom_dappMeta"),Xb=c.object({title:c.string(),url:c.string(),icons:c.object({href:c.string(),size:c.object({width:c.number(),height:c.number()})}).array()}),yA=kr(Qb,Xb);var rc={};Y(rc,{method:()=>ew,notification:()=>mA,params:()=>tw});h();var ew=c.literal("phantom_trustRevoked"),tw=c.object({evm:c.optional(le),sol:c.optional(ki),btc:c.array(Go)}).nullable(),mA=kr(ew,tw);var Lr={};Y(Lr,{common:()=>ic,sol_connect:()=>nc,sol_disconnect:()=>oc,sol_signAllTransactions:()=>sc,sol_signAndSendAllTransactions:()=>cc,sol_signAndSendTransaction:()=>ac,sol_signIn:()=>fc,sol_signMessage:()=>uc,sol_signTransaction:()=>lc});h();var nc={};Y(nc,{error:()=>sw,method:()=>rw,params:()=>nw,request:()=>gA,response:()=>xA,result:()=>ow});h();var rw=c.literal("sol_connect"),nw=c.object({onlyIfTrusted:c.optional(c.boolean())}),ow=c.object({publicKey:c.string()}),sw=P,gA=z(rw,nw),xA=M(ow,sw);var oc={};Y(oc,{error:()=>uw,method:()=>iw,params:()=>aw,request:()=>bA,response:()=>wA,result:()=>cw});h();var iw=c.literal("sol_disconnect"),aw=Rs.optional(),cw=c.null(),uw=P,bA=z(iw,aw),wA=M(cw,uw);var sc={};Y(sc,{error:()=>hw,method:()=>fw,params:()=>lw,request:()=>vA,response:()=>SA,result:()=>pw});h();var fw=c.literal("sol_signAllTransactions"),lw=c.object({transactions:c.array(He)}),pw=c.array(c.object({signature:c.string(),transaction:He,version:c.union([c.literal("legacy"),c.number()])})),hw=P,vA=z(fw,lw),SA=M(pw,hw);var ac={};Y(ac,{error:()=>gw,method:()=>dw,params:()=>yw,request:()=>_A,response:()=>EA,result:()=>mw});h();var ic={};Y(ic,{SolanaProviderEvent:()=>yp,SolanaSendOptions:()=>Bi});h();var Bi=c.optional(c.object({skipPreflight:c.optional(c.boolean()),preflightCommitment:c.optional(c.union([c.literal("processed"),c.literal("confirmed"),c.literal("finalized"),c.literal("recent"),c.literal("single"),c.literal("singleGossip"),c.literal("root"),c.literal("max")])),maxRetries:c.optional(c.number()),minContextSlot:c.optional(c.number())})),yp=(n=>(n.Connect="connect",n.Disconnect="disconnect",n.AccountChanged="accountChanged",n))(yp||{}),nU=c.nativeEnum(yp);var dw=c.literal("sol_signAndSendTransaction"),yw=c.object({transaction:He,options:Bi}),mw=c.object({signature:c.string(),publicKey:c.string()}),gw=P,_A=z(dw,yw),EA=M(mw,gw);var cc={};Y(cc,{error:()=>vw,method:()=>xw,params:()=>bw,request:()=>kA,response:()=>IA,result:()=>ww});h();var xw=c.literal("sol_signAndSendAllTransactions"),bw=c.object({transactions:c.array(He),options:Bi}),ww=c.object({signatures:c.array(c.union([c.string(),c.null()])),publicKey:c.string()}),vw=P,kA=z(xw,bw),IA=M(ww,vw);var uc={};Y(uc,{error:()=>kw,method:()=>Sw,params:()=>_w,request:()=>AA,response:()=>RA,result:()=>Ew});h();var Sw=c.literal("sol_signMessage"),_w=c.object({message:He,display:c.union([c.literal("utf8"),c.literal("hex")])}),Ew=c.object({signature:c.string(),publicKey:c.string()}),kw=P,AA=z(Sw,_w),RA=M(Ew,kw);var fc={};Y(fc,{error:()=>Bw,method:()=>Iw,params:()=>Aw,request:()=>BA,response:()=>TA,result:()=>Rw});h();var Iw=c.literal("sol_signIn"),Aw=c.object({signInData:Ri}),Rw=c.object({address:c.string(),signedMessage:c.string(),signature:c.string()}),Bw=P,BA=z(Iw,Aw),TA=M(Rw,Bw);var lc={};Y(lc,{error:()=>Mw,method:()=>Tw,params:()=>Pw,request:()=>PA,response:()=>zA,result:()=>zw});h();var Tw=c.literal("sol_signTransaction"),Pw=c.object({transaction:He}),zw=c.object({signature:c.string(),transaction:He,version:c.union([c.literal("legacy"),c.number()])}),Mw=P,PA=z(Tw,Pw),zA=M(zw,Mw);h();var mp={};Y(mp,{error:()=>Ow,method:()=>Lw,params:()=>Cw,request:()=>MA,response:()=>LA,result:()=>Nw});h();var Lw=c.literal("user_approveBtcRequestAccounts"),Cw=c.tuple([Me]),Nw=c.null(),Ow=P,MA=z(Lw,Cw),LA=M(Nw,Ow);var gp={};Y(gp,{error:()=>Fw,method:()=>Uw,params:()=>Dw,request:()=>CA,response:()=>NA,result:()=>qw});h();var Uw=c.literal("user_approveBtcSignPSBT"),Dw=c.tuple([Me,c.object({psbt:c.instanceof(Uint8Array),sequenceId:c.string()})]),qw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:c.string()})]),Fw=P,CA=z(Uw,Dw),NA=M(qw,Fw);var xp={};Y(xp,{error:()=>Ww,method:()=>jw,params:()=>Hw,request:()=>OA,response:()=>UA,result:()=>$w});h();var jw=c.literal("user_approveBtcSignMessage"),Hw=c.tuple([Me,c.object({message:c.instanceof(Uint8Array),sequenceId:c.string()})]),$w=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:c.string()})]),Ww=P,OA=z(jw,Hw),UA=M($w,Ww);var bp={};Y(bp,{error:()=>Zw,method:()=>Kw,params:()=>Vw,request:()=>DA,response:()=>qA,result:()=>Gw});h();var Kw=c.literal("user_approveEthRequestAccounts"),Vw=c.tuple([Me]),Gw=c.null(),Zw=P,DA=z(Kw,Vw),qA=M(Gw,Zw);var wp={};Y(wp,{error:()=>Xw,method:()=>Yw,params:()=>Jw,request:()=>FA,response:()=>jA,result:()=>Qw});h();h();var er=(A=>(A.OK="OK",A.FeatureKilled="FEATURE_KILLED",A.WalletLocked="WALLET_LOCKED",A.TabNotFocused="TAB_NOT_FOCUSED",A.Disabled="DISABLED",A.SessionExpired="SESSION_EXPIRED",A.RateLimitExceeded="RATE_LIMIT_EXCEEDED",A.SimulationFailed="SIMULATION_FAILED",A.UnsupportedDapp="UNSUPPORTED_DAPP",A.UnsupportedNetworkId="UNSUPPORTED_NETWORK_ID",A.UnsupportedMethod="UNSUPPORTED_METHOD",A.Unimplemented="UNIMPLEMENTED",A.Unknown="UNKNOWN",A))(er||{});var Yw=c.literal("user_approveEthSendTransaction"),Jw=c.tuple([Me,c.object({transaction:Vo,autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),Qw=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend"),maxFeePerGas:$,maxPriorityFeePerGas:$}),c.object({type:c.literal("send"),signature:Ye,maxFeePerGas:$,maxPriorityFeePerGas:$})]),Xw=P,FA=z(Yw,Jw),jA=M(Qw,Xw);var vp={};Y(vp,{error:()=>n1,method:()=>e1,params:()=>t1,request:()=>HA,response:()=>$A,result:()=>r1});h();var e1=c.literal("user_approveEthSignMessage"),t1=c.tuple([Me,c.object({signer:le,message:Le,originalMethod:c.enum(["eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"]),chainId:c.string(),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),r1=c.discriminatedUnion("approvalType",[c.object({approvalType:c.literal("user")}),c.object({approvalType:c.literal("hardware"),signature:Ye})]),n1=P,HA=z(e1,t1),$A=M(r1,n1);var Sp={};Y(Sp,{error:()=>a1,method:()=>o1,params:()=>s1,request:()=>WA,response:()=>KA,result:()=>i1});h();var o1=c.literal("user_approveSolConnect"),s1=c.tuple([Me]),i1=c.null(),a1=P,WA=z(o1,s1),KA=M(i1,a1);var _p={};Y(_p,{error:()=>l1,method:()=>c1,params:()=>u1,request:()=>VA,response:()=>GA,result:()=>f1});h();var c1=c.literal("user_approveSolSignAllTransactions"),u1=c.tuple([Me,c.object({transactions:c.array(He),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),f1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),result:c.array(c.object({signedTransaction:He,signature:He,version:c.union([c.literal("legacy"),c.number()])}))})]),l1=P,VA=z(c1,u1),GA=M(f1,l1);var Ep={};Y(Ep,{error:()=>y1,method:()=>p1,params:()=>h1,request:()=>ZA,response:()=>YA,result:()=>d1});h();var p1=c.literal("user_approveSolSignAndSendTransaction"),h1=c.tuple([Me,c.object({transaction:c.string(),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),d1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signedTransaction:He,signature:He,version:c.union([c.literal("legacy"),c.number()])})]),y1=P,ZA=z(p1,h1),YA=M(d1,y1);var kp={};Y(kp,{error:()=>b1,method:()=>m1,params:()=>g1,request:()=>JA,response:()=>QA,result:()=>x1});h();var m1=c.literal("user_approveSolSignAndSendAllTransactions"),g1=c.tuple([Me,c.object({transactions:c.array(He),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),x1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),result:c.array(c.object({signedTransaction:He,signature:He,version:c.union([c.literal("legacy"),c.number()])}))})]),b1=P,JA=z(m1,g1),QA=M(x1,b1);var Ip={};Y(Ip,{error:()=>_1,method:()=>w1,params:()=>v1,request:()=>XA,response:()=>eR,result:()=>S1});h();var w1=c.literal("user_approveSolSignIn"),v1=c.tuple([Me,c.object({connect:c.boolean(),signInData:Ri,message:He,errorDetails:c.array(c.object({label:c.string(),message:c.string()})).optional(),sequenceId:c.string()})]),S1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:He})]),_1=P,XA=z(w1,v1),eR=M(S1,_1);var Ap={};Y(Ap,{error:()=>A1,method:()=>E1,params:()=>k1,request:()=>tR,response:()=>rR,result:()=>I1});h();var E1=c.literal("user_approveSolSignMessage"),k1=c.tuple([Me,c.object({message:He,display:c.union([c.literal("utf8"),c.literal("hex")]),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),I1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signature:He})]),A1=P,tR=z(E1,k1),rR=M(I1,A1);var Rp={};Y(Rp,{error:()=>P1,method:()=>R1,params:()=>B1,request:()=>nR,response:()=>oR,result:()=>T1});h();var R1=c.literal("user_approveSolSignTransaction"),B1=c.tuple([Me,c.object({transaction:c.string(),autoConfirmStatusCode:c.nativeEnum(er),sequenceId:c.string()})]),T1=c.discriminatedUnion("type",[c.object({type:c.literal("signAndSend")}),c.object({type:c.literal("send"),signedTransaction:He,signature:He,version:c.union([c.literal("legacy"),c.number()])})]),P1=P,nR=z(R1,B1),oR=M(T1,P1);var Bp={};Y(Bp,{error:()=>C1,method:()=>z1,params:()=>M1,request:()=>sR,response:()=>iR,result:()=>L1});h();var z1=c.literal("user_confirmEIP712IncorrectChainId"),M1=c.tuple([Me,c.object({connectedChainId:c.string(),messageChainId:c.string()})]),L1=c.null(),C1=P,sR=z(z1,M1),iR=M(L1,C1);var Tp={};Y(Tp,{error:()=>D1,method:()=>N1,params:()=>O1,request:()=>aR,response:()=>cR,result:()=>U1});h();var N1=c.literal("user_confirmIncorrectMode"),O1=c.tuple([Me,c.enum(["mainnet","testnet"])]),U1=c.null(),D1=P,aR=z(N1,O1),cR=M(U1,D1);var Pp={};Y(Pp,{error:()=>H1,method:()=>q1,params:()=>F1,request:()=>uR,response:()=>fR,result:()=>j1});h();var q1=c.literal("user_confirmUnsupportedAccount"),F1=c.tuple([Me,c.literal("ethereum").or(c.literal("solana"))]),j1=c.null(),H1=P,uR=z(q1,F1),fR=M(j1,H1);var zp={};Y(zp,{error:()=>V1,method:()=>$1,params:()=>W1,request:()=>lR,response:()=>pR,result:()=>K1});h();var $1=c.literal("user_confirmUnsupportedNetwork"),W1=c.tuple([Me,c.string()]),K1=c.null(),V1=P,lR=z($1,W1),pR=M(K1,V1);var Mp={};Y(Mp,{error:()=>J1,method:()=>G1,params:()=>Z1,request:()=>hR,response:()=>dR,result:()=>Y1});h();var G1=c.literal("user_selectEthWallet"),Z1=c.tuple([Me]),Y1=Ei,J1=P,hR=z(G1,Z1),dR=M(Y1,J1);h();var AW=Re(Ls());h();var ke=Re(Ni());h();h();h();function Wp(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function jR(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function dv(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function HR(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wp(r.outputLen),Wp(r.blockLen)}function $R(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function WR(r,e){dv(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var KR={number:Wp,bool:jR,bytes:dv,hash:HR,exists:$R,output:WR},rr=KR;h();h();var VR={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var yv=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Mc=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Fr=(r,e)=>r<<32-e|r>>>e,GR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GR)throw new Error("Non little-endian hardware is not supported");var LD=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function ZR(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Gn(r){if(typeof r=="string"&&(r=ZR(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}var Vn=class{clone(){return this._cloneInto()}};function an(r){let e=n=>r().update(Gn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function mv(r){let e=(n,o)=>r(o).update(Gn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function YR(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let o=BigInt(32),s=BigInt(4294967295),i=Number(t>>o&s),u=Number(t&s),f=n?4:0,d=n?0:4;r.setUint32(e+f,i,n),r.setUint32(e+d,u,n)}var Ds=class extends Vn{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mc(this.buffer)}update(e){rr.exists(this);let{view:t,buffer:n,blockLen:o}=this;e=Gn(e);let s=e.length;for(let i=0;i<s;){let u=Math.min(o-this.pos,s-i);if(u===o){let f=Mc(e);for(;o<=s-i;i+=o)this.process(f,i);continue}n.set(e.subarray(i,i+u),this.pos),this.pos+=u,i+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rr.exists(this),rr.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:o,isLE:s}=this,{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(n,0),i=0);for(let w=i;w<o;w++)t[w]=0;YR(n,o-8,BigInt(this.length*8),s),this.process(n,0);let u=Mc(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=f/4,b=this.get();if(d>b.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<d;w++)u.setUint32(4*w,b[w],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:o,finished:s,destroyed:i,pos:u}=this;return e.length=o,e.pos=u,e.finished=s,e.destroyed=i,o%t&&e.buffer.set(n),e}};h();var Lc=BigInt(4294967295),Kp=BigInt(32);function gv(r,e=!1){return e?{h:Number(r&Lc),l:Number(r>>Kp&Lc)}:{h:Number(r>>Kp&Lc)|0,l:Number(r&Lc)|0}}function JR(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:s,l:i}=gv(r[o],e);[t[o],n[o]]=[s,i]}return[t,n]}var QR=(r,e)=>BigInt(r>>>0)<<Kp|BigInt(e>>>0),XR=(r,e,t)=>r>>>t,eB=(r,e,t)=>r<<32-t|e>>>t,tB=(r,e,t)=>r>>>t|e<<32-t,rB=(r,e,t)=>r<<32-t|e>>>t,nB=(r,e,t)=>r<<64-t|e>>>t-32,oB=(r,e,t)=>r>>>t-32|e<<64-t,sB=(r,e)=>e,iB=(r,e)=>r,aB=(r,e,t)=>r<<t|e>>>32-t,cB=(r,e,t)=>e<<t|r>>>32-t,uB=(r,e,t)=>e<<t-32|r>>>64-t,fB=(r,e,t)=>r<<t-32|e>>>64-t;function lB(r,e,t,n){let o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}var pB=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),hB=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,dB=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),yB=(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,mB=(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0),gB=(r,e,t,n,o,s)=>e+t+n+o+s+(r/2**32|0)|0,xB={fromBig:gv,split:JR,toBig:QR,shrSH:XR,shrSL:eB,rotrSH:tB,rotrSL:rB,rotrBH:nB,rotrBL:oB,rotr32H:sB,rotr32L:iB,rotlSH:aB,rotlSL:cB,rotlBH:uB,rotlBL:fB,add:lB,add3L:pB,add3H:hB,add4L:dB,add4H:yB,add5H:gB,add5L:mB},Ae=xB;var[bB,wB]=Ae.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Zn=new Uint32Array(80),Yn=new Uint32Array(80),qs=class extends Ds{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:o,Ch:s,Cl:i,Dh:u,Dl:f,Eh:d,El:b,Fh:w,Fl:T,Gh:A,Gl:D,Hh:H,Hl:Z}=this;return[e,t,n,o,s,i,u,f,d,b,w,T,A,D,H,Z]}set(e,t,n,o,s,i,u,f,d,b,w,T,A,D,H,Z){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=i|0,this.Dh=u|0,this.Dl=f|0,this.Eh=d|0,this.El=b|0,this.Fh=w|0,this.Fl=T|0,this.Gh=A|0,this.Gl=D|0,this.Hh=H|0,this.Hl=Z|0}process(e,t){for(let se=0;se<16;se++,t+=4)Zn[se]=e.getUint32(t),Yn[se]=e.getUint32(t+=4);for(let se=16;se<80;se++){let X=Zn[se-15]|0,J=Yn[se-15]|0,W=Ae.rotrSH(X,J,1)^Ae.rotrSH(X,J,8)^Ae.shrSH(X,J,7),we=Ae.rotrSL(X,J,1)^Ae.rotrSL(X,J,8)^Ae.shrSL(X,J,7),ge=Zn[se-2]|0,ce=Yn[se-2]|0,Ue=Ae.rotrSH(ge,ce,19)^Ae.rotrBH(ge,ce,61)^Ae.shrSH(ge,ce,6),Ie=Ae.rotrSL(ge,ce,19)^Ae.rotrBL(ge,ce,61)^Ae.shrSL(ge,ce,6),U=Ae.add4L(we,Ie,Yn[se-7],Yn[se-16]),g=Ae.add4H(U,W,Ue,Zn[se-7],Zn[se-16]);Zn[se]=g|0,Yn[se]=U|0}let{Ah:n,Al:o,Bh:s,Bl:i,Ch:u,Cl:f,Dh:d,Dl:b,Eh:w,El:T,Fh:A,Fl:D,Gh:H,Gl:Z,Hh:ee,Hl:he}=this;for(let se=0;se<80;se++){let X=Ae.rotrSH(w,T,14)^Ae.rotrSH(w,T,18)^Ae.rotrBH(w,T,41),J=Ae.rotrSL(w,T,14)^Ae.rotrSL(w,T,18)^Ae.rotrBL(w,T,41),W=w&A^~w&H,we=T&D^~T&Z,ge=Ae.add5L(he,J,we,wB[se],Yn[se]),ce=Ae.add5H(ge,ee,X,W,bB[se],Zn[se]),Ue=ge|0,Ie=Ae.rotrSH(n,o,28)^Ae.rotrBH(n,o,34)^Ae.rotrBH(n,o,39),U=Ae.rotrSL(n,o,28)^Ae.rotrBL(n,o,34)^Ae.rotrBL(n,o,39),g=n&s^n&u^s&u,a=o&i^o&f^i&f;ee=H|0,he=Z|0,H=A|0,Z=D|0,A=w|0,D=T|0,{h:w,l:T}=Ae.add(d|0,b|0,ce|0,Ue|0),d=u|0,b=f|0,u=s|0,f=i|0,s=n|0,i=o|0;let l=Ae.add3L(Ue,U,a);n=Ae.add3H(l,ce,Ie,g),o=l|0}({h:n,l:o}=Ae.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:i}=Ae.add(this.Bh|0,this.Bl|0,s|0,i|0),{h:u,l:f}=Ae.add(this.Ch|0,this.Cl|0,u|0,f|0),{h:d,l:b}=Ae.add(this.Dh|0,this.Dl|0,d|0,b|0),{h:w,l:T}=Ae.add(this.Eh|0,this.El|0,w|0,T|0),{h:A,l:D}=Ae.add(this.Fh|0,this.Fl|0,A|0,D|0),{h:H,l:Z}=Ae.add(this.Gh|0,this.Gl|0,H|0,Z|0),{h:ee,l:he}=Ae.add(this.Hh|0,this.Hl|0,ee|0,he|0),this.set(n,o,s,i,u,f,d,b,w,T,A,D,H,Z,ee,he)}roundClean(){Zn.fill(0),Yn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vp=class extends qs{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Gp=class extends qs{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Zp=class extends qs{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},xv=an(()=>new qs),KD=an(()=>new Vp),VD=an(()=>new Gp),GD=an(()=>new Zp);h();var vB=Re(Yp(),1);var Yt=BigInt(0),qe=BigInt(1),Xn=BigInt(2),SB=BigInt(8),bv=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Nt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:bv,n:bv,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Ev=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Oi=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eq=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),_B=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),EB=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),kB=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),IB=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),Oe=class{constructor(e,t,n,o){this.x=e,this.y=t,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof rt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(rt.ZERO)?Oe.ZERO:new Oe(e.x,e.y,qe,K(e.x*e.y))}static toAffineBatch(e){let t=BB(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){vv(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e,f=K(t*u),d=K(s*o),b=K(n*u),w=K(i*o);return f===d&&b===w}negate(){return new Oe(K(-this.x),this.y,this.z,K(-this.t))}double(){let{x:e,y:t,z:n}=this,{a:o}=Nt,s=K(e*e),i=K(t*t),u=K(Xn*K(n*n)),f=K(o*s),d=e+t,b=K(K(d*d)-s-i),w=f+i,T=w-u,A=f-i,D=K(b*T),H=K(w*A),Z=K(b*A),ee=K(T*w);return new Oe(D,H,ee,Z)}add(e){vv(e);let{x:t,y:n,z:o,t:s}=this,{x:i,y:u,z:f,t:d}=e,b=K((n-t)*(u+i)),w=K((n+t)*(u-i)),T=K(w-b);if(T===Yt)return this.double();let A=K(o*Xn*d),D=K(s*Xn*f),H=D+A,Z=w+b,ee=D-A,he=K(H*T),se=K(Z*ee),X=K(H*ee),J=K(T*Z);return new Oe(he,se,J,X)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,n=[],o=this,s=o;for(let i=0;i<t;i++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals(Oe.BASE)&&(t=rt.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&eh.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=Oe.normalizeZ(o),eh.set(t,o)));let s=Oe.ZERO,i=Oe.BASE,u=1+256/n,f=2**(n-1),d=BigInt(2**n-1),b=2**n,w=BigInt(n);for(let T=0;T<u;T++){let A=T*f,D=Number(e&d);e>>=w,D>f&&(D-=b,e+=qe);let H=A,Z=A+Math.abs(D)-1,ee=T%2!==0,he=D<0;D===0?i=i.add(wv(ee,o[H])):s=s.add(wv(he,o[Z]))}return Oe.normalizeZ([s,i])[0]}multiply(e,t){return this.wNAF(Nc(e,Nt.l),t)}multiplyUnsafe(e){let t=Nc(e,Nt.l,!1),n=Oe.BASE,o=Oe.ZERO;if(t===Yt)return o;if(this.equals(o)||t===qe)return this;if(this.equals(n))return this.wNAF(t);let s=o,i=this;for(;t>Yt;)t&qe&&(s=s.add(i)),i=i.double(),t>>=qe;return s}isSmallOrder(){return this.multiplyUnsafe(Nt.h).equals(Oe.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Nt.l/Xn).double();return Nt.l%Xn&&(e=e.add(this)),e.equals(Oe.ZERO)}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals(Oe.ZERO);e==null&&(e=s?SB:Uc(o));let i=K(t*e),u=K(n*e),f=K(o*e);if(s)return rt.ZERO;if(f!==qe)throw new Error("invZ was invalid");return new rt(i,u)}fromRistrettoBytes(){Qp()}toRistrettoBytes(){Qp()}fromRistrettoHash(){Qp()}};Oe.BASE=new Oe(Nt.Gx,Nt.Gy,qe,K(Nt.Gx*Nt.Gy));Oe.ZERO=new Oe(Yt,qe,qe,Yt);function wv(r,e){let t=e.negate();return r?t:e}function vv(r){if(!(r instanceof Oe))throw new TypeError("ExtendedPoint expected")}function Jp(r){if(!(r instanceof wr))throw new TypeError("RistrettoPoint expected")}function Qp(){throw new Error("Legacy method: switch to RistrettoPoint")}var wr=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=Nt,n=K(Oi*e*e),o=K((n+qe)*kB),s=BigInt(-1),i=K((s-t*n)*K(n+t)),{isValid:u,value:f}=rh(o,i),d=K(f*e);Qn(d)||(d=K(-d)),u||(f=d),u||(s=n);let b=K(s*(n-qe)*IB-i),w=f*f,T=K((f+f)*i),A=K(b*_B),D=K(qe-w),H=K(qe+w);return new Oe(K(T*H),K(D*A),K(A*H),K(T*D))}static hashToCurve(e){e=eo(e,64);let t=Xp(e.slice(0,32)),n=this.calcElligatorRistrettoMap(t),o=Xp(e.slice(32,64)),s=this.calcElligatorRistrettoMap(o);return new wr(n.add(s))}static fromHex(e){e=eo(e,32);let{a:t,d:n}=Nt,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=Xp(e);if(!PB(Di(s),e)||Qn(s))throw new Error(o);let i=K(s*s),u=K(qe+t*i),f=K(qe-t*i),d=K(u*u),b=K(f*f),w=K(t*n*d-b),{isValid:T,value:A}=_v(K(w*b)),D=K(A*f),H=K(A*D*w),Z=K((s+s)*D);Qn(Z)&&(Z=K(-Z));let ee=K(u*H),he=K(Z*ee);if(!T||Qn(he)||ee===Yt)throw new Error(o);return new wr(new Oe(Z,ee,qe,he))}toRawBytes(){let{x:e,y:t,z:n,t:o}=this.ep,s=K(K(n+t)*K(n-t)),i=K(e*t),u=K(i*i),{value:f}=_v(K(s*u)),d=K(f*s),b=K(f*i),w=K(d*b*o),T;if(Qn(o*w)){let D=K(t*Oi),H=K(e*Oi);e=D,t=H,T=K(d*EB)}else T=b;Qn(e*w)&&(t=K(-t));let A=K((n-t)*T);return Qn(A)&&(A=K(-A)),Di(A)}toHex(){return qi(this.toRawBytes())}toString(){return this.toHex()}equals(e){Jp(e);let t=this.ep,n=e.ep,o=K(t.x*n.y)===K(t.y*n.x),s=K(t.y*n.y)===K(t.x*n.x);return o||s}add(e){return Jp(e),new wr(this.ep.add(e.ep))}subtract(e){return Jp(e),new wr(this.ep.subtract(e.ep))}multiply(e){return new wr(this.ep.multiply(e))}multiplyUnsafe(e){return new wr(this.ep.multiplyUnsafe(e))}};wr.BASE=new wr(Oe.BASE);wr.ZERO=new wr(Oe.ZERO);var eh=new WeakMap,rt=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,eh.delete(this)}static fromHex(e,t=!0){let{d:n,P:o}=Nt;e=eo(e,32);let s=e.slice();s[31]=e[31]&-129;let i=Fi(s);if(t&&i>=o)throw new Error("Expected 0 < hex < P");if(!t&&i>=Ev)throw new Error("Expected 0 < hex < 2**256");let u=K(i*i),f=K(u-qe),d=K(n*u+qe),{isValid:b,value:w}=rh(f,d);if(!b)throw new Error("Point.fromHex: invalid y coordinate");let T=(w&qe)===qe;return(e[31]&128)!==0!==T&&(w=K(-w)),new rt(w,i)}static async fromPrivateKey(e){return(await Rv(e)).point}toRawBytes(){let e=Di(this.y);return e[31]|=this.x&qe?128:0,e}toHex(){return qi(this.toRawBytes())}toX25519(){let{y:e}=this,t=K((qe+e)*Uc(qe-e));return Di(t)}isTorsionFree(){return Oe.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new rt(K(-this.x),this.y)}add(e){return Oe.fromAffine(this).add(Oe.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Oe.fromAffine(this).multiply(e,this).toAffine()}};rt.BASE=new rt(Nt.Gx,Nt.Gy);rt.ZERO=new rt(Yt,qe);var Yo=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=eo(e,64),n=rt.fromHex(t.slice(0,32),!1),o=Fi(t.slice(32,64));return new Yo(n,o)}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof rt))throw new Error("Expected Point instance");return Nc(t,Nt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Di(this.s),32),e}toHex(){return qi(this.toRawBytes())}};function Sv(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var AB=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function qi(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=AB[r[t]];return e}function th(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function kv(r){let t=r.toString(16).padStart(64,"0");return th(t)}function Di(r){return kv(r).reverse()}function Qn(r){return(K(r)&qe)===qe}function Fi(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+qi(Uint8Array.from(r).reverse()))}var RB=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xp(r){return K(Fi(r)&RB)}function K(r,e=Nt.P){let t=r%e;return t>=Yt?t:e+t}function Uc(r,e=Nt.P){if(r===Yt||e<=Yt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=K(r,e),n=e,o=Yt,s=qe,i=qe,u=Yt;for(;t!==Yt;){let d=n/t,b=n%t,w=o-i*d,T=s-u*d;n=t,t=b,o=i,s=u,i=w,u=T}if(n!==qe)throw new Error("invert: does not exist");return K(o,e)}function BB(r,e=Nt.P){let t=new Array(r.length),n=r.reduce((s,i,u)=>i===Yt?s:(t[u]=s,K(s*i,e)),qe),o=Uc(n,e);return r.reduceRight((s,i,u)=>i===Yt?s:(t[u]=K(s*t[u],e),K(s*i,e)),o),t}function cn(r,e){let{P:t}=Nt,n=r;for(;e-- >Yt;)n*=n,n%=t;return n}function TB(r){let{P:e}=Nt,t=BigInt(5),n=BigInt(10),o=BigInt(20),s=BigInt(40),i=BigInt(80),f=r*r%e*r%e,d=cn(f,Xn)*f%e,b=cn(d,qe)*r%e,w=cn(b,t)*b%e,T=cn(w,n)*w%e,A=cn(T,o)*T%e,D=cn(A,s)*A%e,H=cn(D,i)*D%e,Z=cn(H,i)*D%e,ee=cn(Z,n)*w%e;return{pow_p_5_8:cn(ee,Xn)*r%e,b2:f}}function rh(r,e){let t=K(e*e*e),n=K(t*t*e),o=TB(r*n).pow_p_5_8,s=K(r*t*o),i=K(e*s*s),u=s,f=K(s*Oi),d=i===r,b=i===K(-r),w=i===K(-r*Oi);return d&&(s=u),(b||w)&&(s=f),Qn(s)&&(s=K(-s)),{isValid:d||b,value:s}}function _v(r){return rh(qe,r)}function Cc(r){return K(Fi(r),Nt.l)}function PB(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function eo(r,e){let t=r instanceof Uint8Array?Uint8Array.from(r):th(r);if(typeof e=="number"&&t.length!==e)throw new Error(`Expected ${e} bytes`);return t}function Nc(r,e,t=!0){if(!e)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<e){if(t){if(Yt<r)return r}else if(Yt<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function zB(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Iv(r){if(r=typeof r=="bigint"||typeof r=="number"?kv(Nc(r,Ev)):eo(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function Av(r){let e=zB(r.slice(0,32)),t=r.slice(32,64),n=Cc(e),o=rt.BASE.multiply(n),s=o.toRawBytes();return{head:e,prefix:t,scalar:n,point:o,pointBytes:s}}var Ui;function Oc(...r){if(typeof Ui!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Ui(...r)}async function Rv(r){return Av(await to.sha512(Iv(r)))}function nh(r){return Av(Oc(Iv(r)))}function MB(r){return nh(r).pointBytes}function LB(r,e){r=eo(r);let{prefix:t,scalar:n,pointBytes:o}=nh(e),s=Cc(Oc(t,r)),i=rt.BASE.multiply(s),u=Cc(Oc(i.toRawBytes(),o,r)),f=K(s+u*n,Nt.l);return new Yo(i,f).toRawBytes()}function CB(r,e,t){e=eo(e),t instanceof rt||(t=rt.fromHex(t,!1));let{r:n,s:o}=r instanceof Yo?r.assertValidity():Yo.fromHex(r),s=Oe.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:s,pub:t,msg:e}}function NB(r,e,t,n){let o=Cc(n),s=Oe.fromAffine(r).multiplyUnsafe(o);return Oe.fromAffine(e).add(s).subtract(t).multiplyUnsafe(Nt.h).equals(Oe.ZERO)}function OB(r,e,t){let{r:n,SB:o,msg:s,pub:i}=CB(r,e,t),u=Oc(n.toRawBytes(),i.toRawBytes(),s);return NB(i,n,o,u)}var Dc={getExtendedPublicKey:nh,getPublicKey:MB,sign:LB,verify:OB};rt.BASE._setWindowSize(8);var Jn={node:vB,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},to={bytesToHex:qi,hexToBytes:th,concatBytes:Sv,getExtendedPublicKey:Rv,mod:K,invert:Uc,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=eo(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return K(Fi(r),Nt.l-qe)+qe},randomBytes:(r=32)=>{if(Jn.web)return Jn.web.getRandomValues(new Uint8Array(r));if(Jn.node){let{randomBytes:e}=Jn.node;return new Uint8Array(e(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>to.randomBytes(32),sha512:async(...r)=>{let e=Sv(...r);if(Jn.web){let t=await Jn.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}else{if(Jn.node)return Uint8Array.from(Jn.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,e=rt.BASE){let t=e.equals(rt.BASE)?e:new rt(e.x,e.y);return t._setWindowSize(r),t.multiply(Xn),t},sha512Sync:void 0};Object.defineProperties(to,{sha512Sync:{configurable:!1,get(){return Ui},set(r){Ui||(Ui=r)}}});var Wh=Re(Oa()),cr=Re($n());h();var DB=(r,e,t)=>r&e^~r&t,qB=(r,e,t)=>r&e^r&t^e&t,FB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ro=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),no=new Uint32Array(64),qc=class extends Ds{constructor(){super(64,32,8,!1),this.A=ro[0]|0,this.B=ro[1]|0,this.C=ro[2]|0,this.D=ro[3]|0,this.E=ro[4]|0,this.F=ro[5]|0,this.G=ro[6]|0,this.H=ro[7]|0}get(){let{A:e,B:t,C:n,D:o,E:s,F:i,G:u,H:f}=this;return[e,t,n,o,s,i,u,f]}set(e,t,n,o,s,i,u,f){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=i|0,this.G=u|0,this.H=f|0}process(e,t){for(let w=0;w<16;w++,t+=4)no[w]=e.getUint32(t,!1);for(let w=16;w<64;w++){let T=no[w-15],A=no[w-2],D=Fr(T,7)^Fr(T,18)^T>>>3,H=Fr(A,17)^Fr(A,19)^A>>>10;no[w]=H+no[w-7]+D+no[w-16]|0}let{A:n,B:o,C:s,D:i,E:u,F:f,G:d,H:b}=this;for(let w=0;w<64;w++){let T=Fr(u,6)^Fr(u,11)^Fr(u,25),A=b+T+DB(u,f,d)+FB[w]+no[w]|0,H=(Fr(n,2)^Fr(n,13)^Fr(n,22))+qB(n,o,s)|0;b=d,d=f,f=u,u=i+A|0,i=s,s=o,o=n,n=A+H|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,i=i+this.D|0,u=u+this.E|0,f=f+this.F|0,d=d+this.G|0,b=b+this.H|0,this.set(n,o,s,i,u,f,d,b)}roundClean(){no.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},oh=class extends qc{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Fc=an(()=>new qc),oq=an(()=>new oh);var oi=Re(Lv()),R=Re(Ls()),n_=Re(Ls()),ma=Re(fh());h();var lh=class extends TypeError{constructor(e,t){let n,{message:o,...s}=e,{path:i}=e,u=i.length===0?o:"At path: "+i.join(".")+" -- "+o;super(u),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[e,...t()]}}};function aT(r){return so(r)&&typeof r[Symbol.iterator]=="function"}function so(r){return typeof r=="object"&&r!=null}function jr(r){return typeof r=="string"?JSON.stringify(r):""+r}function cT(r){let{done:e,value:t}=r.next();return e?void 0:t}function uT(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});let{path:o,branch:s}=e,{type:i}=t,{refinement:u,message:f="Expected a value of type `"+i+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+jr(n)+"`"}=r;return{value:n,type:i,refinement:u,key:o[o.length-1],path:o,branch:s,...r,message:f}}function*Cv(r,e,t,n){aT(r)||(r=[r]);for(let o of r){let s=uT(o,e,t,n);s&&(yield s)}}function*ph(r,e,t={}){let{path:n=[],branch:o=[r],coerce:s=!1,mask:i=!1}=t,u={path:n,branch:o};if(s&&(r=e.coercer(r,u),i&&e.type!=="type"&&so(e.schema)&&so(r)&&!Array.isArray(r)))for(let d in r)e.schema[d]===void 0&&delete r[d];let f=!0;for(let d of e.validator(r,u))f=!1,yield[d,void 0];for(let[d,b,w]of e.entries(r,u)){let T=ph(b,w,{path:d===void 0?n:[...n,d],branch:d===void 0?o:[...o,b],coerce:s,mask:i});for(let A of T)A[0]?(f=!1,yield[A[0],void 0]):s&&(b=A[1],d===void 0?r=b:r instanceof Map?r.set(d,b):r instanceof Set?r.add(b):so(r)&&(r[d]=b))}if(f)for(let d of e.refiner(r,u))f=!1,yield[d,void 0];f&&(yield[void 0,r])}var Cr=class{constructor(e){let{type:t,schema:n,validator:o,refiner:s,coercer:i=f=>f,entries:u=function*(){}}=e;this.type=t,this.schema=n,this.entries=u,this.coercer=i,o?this.validator=(f,d)=>{let b=o(f,d);return Cv(b,d,this,f)}:this.validator=()=>[],s?this.refiner=(f,d)=>{let b=s(f,d);return Cv(b,d,this,f)}:this.refiner=()=>[]}assert(e){return Nv(e,this)}create(e){return Hs(e,this)}is(e){return Ov(e,this)}mask(e){return fT(e,this)}validate(e,t={}){return ji(e,this,t)}};function Nv(r,e){let t=ji(r,e);if(t[0])throw t[0]}function Hs(r,e){let t=ji(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function fT(r,e){let t=ji(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function Ov(r,e){return!ji(r,e)[0]}function ji(r,e,t={}){let n=ph(r,e,t),o=cT(n);if(o[0])return[new lh(o[0],function*(){for(let i of n)i[0]&&(yield i[0])}),void 0];{let s=o[1];return[void 0,s]}}function Xo(r,e){return new Cr({type:r,schema:null,validator:e})}function Uv(){return Xo("any",()=>!0)}function me(r){return new Cr({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(let[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+jr(e)}})}function ln(){return Xo("boolean",r=>typeof r=="boolean")}function Zc(r){return Xo("instance",e=>e instanceof r||"Expected a `"+r.name+"` instance, but received: "+jr(e))}function Ft(r){let e=jr(r),t=typeof r;return new Cr({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+e+"`, but received: "+jr(n)}})}function lT(){return Xo("never",()=>!1)}function fe(r){return new Cr({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function N(){return Xo("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+jr(r))}function _e(r){return new Cr({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function hh(r,e){return new Cr({type:"record",schema:null,*entries(t){if(so(t))for(let n in t){let o=t[n];yield[n,n,r],yield[n,o,e]}},validator(t){return so(t)||"Expected an object, but received: "+jr(t)}})}function te(){return Xo("string",r=>typeof r=="string"||"Expected a string, but received: "+jr(r))}function Yc(r){let e=lT();return new Cr({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){let n=Math.max(r.length,t.length);for(let o=0;o<n;o++)yield[o,t[o],r[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+jr(t)}})}function V(r){let e=Object.keys(r);return new Cr({type:"type",schema:r,*entries(t){if(so(t))for(let n of e)yield[n,t[n],r[n]]},validator(t){return so(t)||"Expected an object, but received: "+jr(t)}})}function pr(r){let e=r.map(t=>t.type).join(" | ");return new Cr({type:"union",schema:null,validator(t,n){let o=[];for(let s of r){let[...i]=ph(t,s,n),[u]=i;if(u[0])for(let[f]of i)f&&o.push(f);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+jr(t),...o]}})}function $s(){return Xo("unknown",()=>!0)}function Ws(r,e,t){return new Cr({...r,coercer:(n,o)=>Ov(n,e)?r.coercer(t(n,o),o):r.coercer(n,o)})}var BP=Re(aS()),TP=Re(SS()),PP=Re(ES());h();var[AS,RS,BS]=[[],[],[]],aP=BigInt(0),oa=BigInt(1),cP=BigInt(2),uP=BigInt(7),fP=BigInt(256),lP=BigInt(113);for(let r=0,e=oa,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],AS.push(2*(5*n+t)),RS.push((r+1)*(r+2)/2%64);let o=aP;for(let s=0;s<7;s++)e=(e<<oa^(e>>uP)*lP)%fP,e&cP&&(o^=oa<<(oa<<BigInt(s))-oa);BS.push(o)}var[pP,hP]=Ae.split(BS,!0),kS=(r,e,t)=>t>32?Ae.rotlBH(r,e,t):Ae.rotlSH(r,e,t),IS=(r,e,t)=>t>32?Ae.rotlBL(r,e,t):Ae.rotlSL(r,e,t);function dP(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let i=0;i<10;i++)t[i]=r[i]^r[i+10]^r[i+20]^r[i+30]^r[i+40];for(let i=0;i<10;i+=2){let u=(i+8)%10,f=(i+2)%10,d=t[f],b=t[f+1],w=kS(d,b,1)^t[u],T=IS(d,b,1)^t[u+1];for(let A=0;A<50;A+=10)r[i+A]^=w,r[i+A+1]^=T}let o=r[2],s=r[3];for(let i=0;i<24;i++){let u=RS[i],f=kS(o,s,u),d=IS(o,s,u),b=AS[i];o=r[b],s=r[b+1],r[b]=f,r[b+1]=d}for(let i=0;i<50;i+=10){for(let u=0;u<10;u++)t[u]=r[i+u];for(let u=0;u<10;u++)r[i+u]^=~t[(u+2)%10]&t[(u+4)%10]}r[0]^=pP[n],r[1]^=hP[n]}t.fill(0)}var Vs=class extends Vn{constructor(e,t,n,o=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,rr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yv(this.state)}keccak(){dP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){rr.exists(this);let{blockLen:t,state:n}=this;e=Gn(e);let o=e.length;for(let s=0;s<o;){let i=Math.min(t-this.pos,o-s);for(let u=0;u<i;u++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,(t&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){rr.exists(this,!1),rr.bytes(e),this.finish();let t=this.state,{blockLen:n}=this;for(let o=0,s=e.length;o<s;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,s-o);e.set(t.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return rr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return e||(e=new Vs(t,n,o,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=o,e.enableXOF=i,e.destroyed=this.destroyed,e}},uo=(r,e,t)=>an(()=>new Vs(e,r,t)),LF=uo(6,144,224/8),CF=uo(6,136,256/8),NF=uo(6,104,384/8),OF=uo(6,72,512/8),UF=uo(1,144,224/8),Lh=uo(1,136,256/8),DF=uo(1,104,384/8),qF=uo(1,72,512/8),TS=(r,e,t)=>mv((n={})=>new Vs(e,r,n.dkLen===void 0?t:n.dkLen,!0)),FF=TS(31,168,128/8),jF=TS(31,136,256/8);h();var mu=class extends Vn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,rr.hash(e);let n=Gn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?e.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),s.fill(0)}update(e){return rr.exists(this),this.iHash.update(e),this}digestInto(e){rr.exists(this),rr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:o,destroyed:s,blockLen:i,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=i,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ch=(r,e,t)=>new mu(r,e).update(t).digest();Ch.create=(r,e)=>new mu(r,e);h();var yP=Re(Yp(),1);var Fe=BigInt(0),Ot=BigInt(1),lo=BigInt(2),ia=BigInt(3),PS=BigInt(8),Wt=Object.freeze({a:Fe,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Ot,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),zS=(r,e)=>(r+e/lo)/e,gu={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){let{n:e}=Wt,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ot*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,i=BigInt("0x100000000000000000000000000000000"),u=zS(s*r,e),f=zS(-n*r,e),d=pe(r-u*t-f*o,e),b=pe(-u*n-f*s,e),w=d>i,T=b>i;if(w&&(d=e-d),T&&(b=e-b),d>i||b>i)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:w,k1:d,k2neg:T,k2:b}}},$r=32,Ys=32,mP=32,MS=$r+1,LS=2*$r+1;function CS(r){let{a:e,b:t}=Wt,n=pe(r*r),o=pe(n*r);return pe(o+e*r+t)}var xu=Wt.a===Fe,vu=class extends Error{constructor(e){super(e)}};function NS(r){if(!(r instanceof $e))throw new TypeError("JacobianPoint expected")}var $e=class{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof Ut))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Ut.ZERO)?$e.ZERO:new $e(e.x,e.y,Ot)}static toAffineBatch(e){let t=vP(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(t[o]))}static normalizeZ(e){return $e.toAffineBatch(e).map($e.fromAffine)}equals(e){NS(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e,f=pe(o*o),d=pe(u*u),b=pe(t*d),w=pe(s*f),T=pe(pe(n*u)*d),A=pe(pe(i*o)*f);return b===w&&T===A}negate(){return new $e(this.x,pe(-this.y),this.z)}double(){let{x:e,y:t,z:n}=this,o=pe(e*e),s=pe(t*t),i=pe(s*s),u=e+s,f=pe(lo*(pe(u*u)-o-i)),d=pe(ia*o),b=pe(d*d),w=pe(b-lo*f),T=pe(d*(f-w)-PS*i),A=pe(lo*t*n);return new $e(w,T,A)}add(e){NS(e);let{x:t,y:n,z:o}=this,{x:s,y:i,z:u}=e;if(s===Fe||i===Fe)return this;if(t===Fe||n===Fe)return e;let f=pe(o*o),d=pe(u*u),b=pe(t*d),w=pe(s*f),T=pe(pe(n*u)*d),A=pe(pe(i*o)*f),D=pe(w-b),H=pe(A-T);if(D===Fe)return H===Fe?this.double():$e.ZERO;let Z=pe(D*D),ee=pe(D*Z),he=pe(b*Z),se=pe(H*H-ee-lo*he),X=pe(H*(he-se)-T*ee),J=pe(o*u*D);return new $e(se,X,J)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=$e.ZERO;if(typeof e=="bigint"&&e===Fe)return t;let n=DS(e);if(n===Ot)return this;if(!xu){let w=t,T=this;for(;n>Fe;)n&Ot&&(w=w.add(T)),T=T.double(),n>>=Ot;return w}let{k1neg:o,k1:s,k2neg:i,k2:u}=gu.splitScalar(n),f=t,d=t,b=this;for(;s>Fe||u>Fe;)s&Ot&&(f=f.add(b)),u&Ot&&(d=d.add(b)),b=b.double(),s>>=Ot,u>>=Ot;return o&&(f=f.negate()),i&&(d=d.negate()),d=new $e(pe(d.x*gu.beta),d.y,d.z),f.add(d)}precomputeWindow(e){let t=xu?128/e+1:256/e+1,n=[],o=this,s=o;for(let i=0;i<t;i++){s=o,n.push(s);for(let u=1;u<2**(e-1);u++)s=s.add(o),n.push(s);o=s.double()}return n}wNAF(e,t){!t&&this.equals($e.BASE)&&(t=Ut.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=t&&Oh.get(t);o||(o=this.precomputeWindow(n),t&&n!==1&&(o=$e.normalizeZ(o),Oh.set(t,o)));let s=$e.ZERO,i=$e.BASE,u=1+(xu?128/n:256/n),f=2**(n-1),d=BigInt(2**n-1),b=2**n,w=BigInt(n);for(let T=0;T<u;T++){let A=T*f,D=Number(e&d);e>>=w,D>f&&(D-=b,e+=Ot);let H=A,Z=A+Math.abs(D)-1,ee=T%2!==0,he=D<0;D===0?i=i.add(bu(ee,o[H])):s=s.add(bu(he,o[Z]))}return{p:s,f:i}}multiply(e,t){let n=DS(e),o,s;if(xu){let{k1neg:i,k1:u,k2neg:f,k2:d}=gu.splitScalar(n),{p:b,f:w}=this.wNAF(u,t),{p:T,f:A}=this.wNAF(d,t);b=bu(i,b),T=bu(f,T),T=new $e(pe(T.x*gu.beta),T.y,T.z),o=b.add(T),s=w.add(A)}else{let{p:i,f:u}=this.wNAF(n,t);o=i,s=u}return $e.normalizeZ([o,s])[0]}toAffine(e){let{x:t,y:n,z:o}=this,s=this.equals($e.ZERO);e==null&&(e=s?PS:fa(o));let i=e,u=pe(i*i),f=pe(u*i),d=pe(t*u),b=pe(n*f),w=pe(o*i);if(s)return Ut.ZERO;if(w!==Ot)throw new Error("invZ was invalid");return new Ut(d,b)}};$e.BASE=new $e(Wt.Gx,Wt.Gy,Ot);$e.ZERO=new $e(Fe,Ot,Fe);function bu(r,e){let t=e.negate();return r?t:e}var Oh=new WeakMap,Ut=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Oh.delete(this)}hasEvenY(){return this.y%lo===Fe}static fromCompressedHex(e){let t=e.length===32,n=po(t?e:e.subarray(1));if(!Nh(n))throw new Error("Point is not on curve");let o=CS(n),s=wP(o),i=(s&Ot)===Ot;t?i&&(s=pe(-s)):(e[0]&1)===1!==i&&(s=pe(-s));let u=new Ut(n,s);return u.assertValidity(),u}static fromUncompressedHex(e){let t=po(e.subarray(1,$r+1)),n=po(e.subarray($r+1,$r*2+1)),o=new Ut(t,n);return o.assertValidity(),o}static fromHex(e){let t=ca(e),n=t.length,o=t[0];if(n===$r)return this.fromCompressedHex(t);if(n===MS&&(o===2||o===3))return this.fromCompressedHex(t);if(n===LS&&o===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${MS} compressed bytes or ${LS} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Ut.BASE.multiply(_u(e))}static fromSignature(e,t,n){let{r:o,s}=EP(t);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let i=qS(ca(e)),{n:u}=Wt,f=n===2||n===3?o+u:o,d=fa(f,u),b=pe(-i*d,u),w=pe(s*d,u),T=n&1?"03":"02",A=Ut.fromHex(T+Gs(f)),D=Ut.BASE.multiplyAndAddUnsafe(A,b,w);if(!D)throw new Error("Cannot recover signature: point at infinify");return D.assertValidity(),D}toRawBytes(e=!1){return ts(this.toHex(e))}toHex(e=!1){let t=Gs(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Gs(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:n}=this;if(!Nh(t)||!Nh(n))throw new Error(e);let o=pe(n*n),s=CS(t);if(pe(o-s)!==Fe)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ut(this.x,pe(-this.y))}double(){return $e.fromAffine(this).double().toAffine()}add(e){return $e.fromAffine(this).add($e.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return $e.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){let o=$e.fromAffine(this),s=t===Fe||t===Ot||this!==Ut.BASE?o.multiplyUnsafe(t):o.multiply(t),i=$e.fromAffine(e).multiplyUnsafe(n),u=s.add(i);return u.equals($e.ZERO)?void 0:u.toAffine()}};Ut.BASE=new Ut(Wt.Gx,Wt.Gy);Ut.ZERO=new Ut(Fe,Fe);function OS(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function US(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${Js(r)}`);let e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:po(t),left:r.subarray(e+2)}}function gP(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${Js(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:t}=US(r.subarray(2)),{data:n,left:o}=US(t);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${Js(o)}`);return{r:e,s:n}}var hn=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=t?Js(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new hn(Su(o.slice(0,64)),Su(o.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=gP(t?e:ts(e));return new hn(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!ua(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ua(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Wt.n>>Ot;return this.s>e}normalizeS(){return this.hasHighS()?new hn(this.r,pe(-this.s,Wt.n)):this}toDERRawBytes(){return ts(this.toDERHex())}toDERHex(){let e=OS(sa(this.s)),t=OS(sa(this.r)),n=e.length/2,o=t.length/2,s=sa(n),i=sa(o);return`30${sa(o+n+4)}02${i}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return ts(this.toCompactHex())}toCompactHex(){return Gs(this.r)+Gs(this.s)}};function fo(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,o)=>n+o.length,0),t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let s=r[n];t.set(s,o),o+=s.length}return t}var xP=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Js(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=xP[r[t]];return e}var bP=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Gs(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Fe<=r&&r<bP))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Uh(r){let e=ts(Gs(r));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function sa(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function Su(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function ts(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,o=r.slice(n,n+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[t]=s}return e}function po(r){return Su(Js(r))}function ca(r){return r instanceof Uint8Array?Uint8Array.from(r):ts(r)}function DS(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&ua(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function pe(r,e=Wt.P){let t=r%e;return t>=Fe?t:e+t}function Nr(r,e){let{P:t}=Wt,n=r;for(;e-- >Fe;)n*=n,n%=t;return n}function wP(r){let{P:e}=Wt,t=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),i=BigInt(44),u=BigInt(88),f=r*r*r%e,d=f*f*r%e,b=Nr(d,ia)*d%e,w=Nr(b,ia)*d%e,T=Nr(w,lo)*f%e,A=Nr(T,n)*T%e,D=Nr(A,o)*A%e,H=Nr(D,i)*D%e,Z=Nr(H,u)*H%e,ee=Nr(Z,i)*D%e,he=Nr(ee,ia)*d%e,se=Nr(he,s)*A%e,X=Nr(se,t)*f%e,J=Nr(X,lo);if(J*J%e!==r)throw new Error("Cannot find square root");return J}function fa(r,e=Wt.P){if(r===Fe||e<=Fe)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=pe(r,e),n=e,o=Fe,s=Ot,i=Ot,u=Fe;for(;t!==Fe;){let d=n/t,b=n%t,w=o-i*d,T=s-u*d;n=t,t=b,o=i,s=u,i=w,u=T}if(n!==Ot)throw new Error("invert: does not exist");return pe(o,e)}function vP(r,e=Wt.P){let t=new Array(r.length),n=r.reduce((s,i,u)=>i===Fe?s:(t[u]=s,pe(s*i,e)),Ot),o=fa(n,e);return r.reduceRight((s,i,u)=>i===Fe?s:(t[u]=pe(s*t[u],e),pe(s*i,e)),o),t}function SP(r){let e=r.length*8-Ys*8,t=po(r);return e>0?t>>BigInt(e):t}function qS(r,e=!1){let t=SP(r);if(e)return t;let{n}=Wt;return t>=n?t-n:t}var Zs,aa,Dh=class{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return pn.hmacSha256(this.k,...e)}hmacSync(...e){return aa(this.k,...e)}checkSync(){if(typeof aa!="function")throw new vu("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return fo(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();t.push(n),e+=this.v.length}return fo(...t)}};function ua(r){return Fe<r&&r<Wt.n}function Nh(r){return Fe<r&&r<Wt.P}function _P(r,e,t,n=!0){let{n:o}=Wt,s=qS(r,!0);if(!ua(s))return;let i=fa(s,o),u=Ut.BASE.multiply(s),f=pe(u.x,o);if(f===Fe)return;let d=pe(i*pe(e+t*f,o),o);if(d===Fe)return;let b=new hn(f,d),w=(u.x===b.r?0:2)|Number(u.y&Ot);return n&&b.hasHighS()&&(b=b.normalizeS(),w^=1),{sig:b,recovery:w}}function _u(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Ys)throw new Error("Expected 32 bytes of private key");e=Su(r)}else if(r instanceof Uint8Array){if(r.length!==Ys)throw new Error("Expected 32 bytes of private key");e=po(r)}else throw new TypeError("Expected valid private key");if(!ua(e))throw new Error("Expected private key: 0 < key < n");return e}function EP(r){if(r instanceof hn)return r.assertValidity(),r;try{return hn.fromDER(r)}catch{return hn.fromCompact(r)}}function FS(r,e=!1){return Ut.fromPrivateKey(r).toRawBytes(e)}function jS(r){let e=r.length>$r?r.slice(0,$r):r;return po(e)}function kP(r){let e=jS(r),t=pe(e,Wt.n);return HS(t<Fe?e:t)}function HS(r){return Uh(r)}function IP(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=ca(r),o=_u(e),s=[HS(o),kP(n)];if(t!=null){t===!0&&(t=pn.randomBytes($r));let f=ca(t);if(f.length!==$r)throw new Error(`sign: Expected ${$r} bytes of extra data`);s.push(f)}let i=fo(...s),u=jS(n);return{seed:i,m:u,d:o}}function AP(r,e){let{sig:t,recovery:n}=r,{der:o,recovered:s}=Object.assign({canonical:!0,der:!0},e),i=o?t.toDERRawBytes():t.toCompactRawBytes();return s?[i,n]:i}function $S(r,e,t={}){let{seed:n,m:o,d:s}=IP(r,e,t.extraEntropy),i=new Dh(mP,Ys);i.reseedSync(n);let u;for(;!(u=_P(i.generateSync(),o,s,t.canonical));)i.reseedSync();return AP(u,t)}Ut.BASE._setWindowSize(8);var Ar={node:yP,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var wu={},pn={bytesToHex:Js,hexToBytes:ts,concatBytes:fo,mod:pe,invert:fa,isValidPrivateKey(r){try{return _u(r),!0}catch{return!1}},_bigintTo32Bytes:Uh,_normalizePrivateKey:_u,hashToPrivateKey:r=>{r=ca(r);let e=Ys+8;if(r.length<e||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let t=pe(po(r),Wt.n-Ot)+Ot;return Uh(t)},randomBytes:(r=32)=>{if(Ar.web)return Ar.web.getRandomValues(new Uint8Array(r));if(Ar.node){let{randomBytes:e}=Ar.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>pn.hashToPrivateKey(pn.randomBytes(Ys+8)),precompute(r=8,e=Ut.BASE){let t=e===Ut.BASE?e:new Ut(e.x,e.y);return t._setWindowSize(r),t.multiply(ia),t},sha256:async(...r)=>{if(Ar.web){let e=await Ar.web.subtle.digest("SHA-256",fo(...r));return new Uint8Array(e)}else if(Ar.node){let{createHash:e}=Ar.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(Ar.web){let t=await Ar.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=fo(...e),o=await Ar.web.subtle.sign("HMAC",t,n);return new Uint8Array(o)}else if(Ar.node){let{createHmac:t}=Ar.node,n=t("sha256",r);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=wu[r];if(t===void 0){let n=await pn.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));t=fo(n,n),wu[r]=t}return pn.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof Zs!="function")throw new vu("sha256Sync is undefined, you need to set it");let t=wu[r];if(t===void 0){let n=Zs(Uint8Array.from(r,o=>o.charCodeAt(0)));t=fo(n,n),wu[r]=t}return Zs(t,...e)},_JacobianPoint:$e};Object.defineProperties(pn,{sha256Sync:{configurable:!1,get(){return Zs},set(r){Zs||(Zs=r)}},hmacSha256Sync:{configurable:!1,get(){return aa},set(r){aa||(aa=r)}}});to.sha512Sync=(...r)=>xv(to.concatBytes(...r));var t7=to.randomPrivateKey,WS=()=>{let r=to.randomPrivateKey(),e=Kh(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},Kh=Dc.getPublicKey;function KS(r){try{return rt.fromHex(r,!0),!0}catch{return!1}}var ed=(r,e)=>Dc.sign(r,e.slice(0,32)),zP=Dc.verify,Ge=r=>ke.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ke.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ke.Buffer.from(r),Vh=class{constructor(e){Object.assign(this,e)}encode(){return ke.Buffer.from((0,oi.serialize)(Iu,this))}static decode(e){return(0,oi.deserialize)(Iu,this,e)}static decodeUnchecked(e){return(0,oi.deserializeUnchecked)(Iu,this,e)}};var Iu=new Map,o_,MP=32,dn=32;function LP(r){return r._bn!==void 0}var VS=1;o_=Symbol.toStringTag;var ve=class extends Vh{constructor(e){if(super({}),this._bn=void 0,LP(e))this._bn=e._bn;else{if(typeof e=="string"){let t=cr.default.decode(e);if(t.length!=dn)throw new Error("Invalid public key input");this._bn=new Wh.default(t)}else this._bn=new Wh.default(e);if(this._bn.byteLength()>dn)throw new Error("Invalid public key input")}}static unique(){let e=new ve(VS);return VS+=1,new ve(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return cr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(ke.Buffer);if(e.length===dn)return e;let t=ke.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[o_](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let o=ke.Buffer.concat([e.toBuffer(),ke.Buffer.from(t),n.toBuffer()]),s=Fc(o);return new ve(s)}static createProgramAddressSync(e,t){let n=ke.Buffer.alloc(0);e.forEach(function(s){if(s.length>MP)throw new TypeError("Max seed length exceeded");n=ke.Buffer.concat([n,Ge(s)])}),n=ke.Buffer.concat([n,t.toBuffer(),ke.Buffer.from("ProgramDerivedAddress")]);let o=Fc(n);if(KS(o))throw new Error("Invalid seeds, address must fall off the curve");return new ve(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,o;for(;n!=0;){try{let s=e.concat(ke.Buffer.from([n]));o=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new ve(e);return KS(t.toBytes())}};ve.default=new ve("11111111111111111111111111111111");Iu.set(ve,{kind:"struct",fields:[["_bn","u256"]]});var r7=new ve("BPFLoader1111111111111111111111111111111111"),rs=1280-40-8,td=127,pa=64,Gh=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Gh.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Zh=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Zh.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Yh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Yh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Xs=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,i)=>{n.set(s.toBase58(),i)});let o=s=>{let i=n.get(s.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return e.map(s=>({programIdIndex:o(s.programId),accountKeyIndexes:s.keys.map(i=>o(i.pubkey)),data:s.data}))}},Ce=(r="publicKey")=>R.blob(32,r),CP=(r="signature")=>R.blob(64,r),Qs=(r="string")=>{let e=R.struct([R.u32("length"),R.u32("lengthPadding"),R.blob(R.offset(R.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(s,i)=>t(s,i).chars.toString(),o.encode=(s,i,u)=>{let f={chars:ke.Buffer.from(s,"utf8")};return n(f,i,u)},o.alloc=s=>R.u32().span+R.u32().span+ke.Buffer.from(s,"utf8").length,o},NP=(r="authorized")=>R.struct([Ce("staker"),Ce("withdrawer")],r),OP=(r="lockup")=>R.struct([R.ns64("unixTimestamp"),R.ns64("epoch"),Ce("custodian")],r),UP=(r="voteInit")=>R.struct([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),R.u8("commission")],r),DP=(r="voteAuthorizeWithSeedArgs")=>R.struct([R.u32("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Qs("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],r);function s_(r,e){let t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let s=e[o.property];if(Array.isArray(s))return s.length*t(o.elementLayout)}else if("fields"in o)return s_({layout:o},e[o.property]);return 0},n=0;return r.layout.fields.forEach(o=>{n+=t(o)}),n}function Rr(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}function Br(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Dt(r,e){if(!r)throw new Error(e||"Assertion failed")}var ei=class{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,o=i=>{let u=i.toBase58(),f=n.get(u);return f===void 0&&(f={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,f)),f},s=o(t);s.isSigner=!0,s.isWritable=!0;for(let i of e){o(i.programId).isInvoked=!0;for(let u of i.keys){let f=o(u.pubkey);f.isSigner||(f.isSigner=u.isSigner),f.isWritable||(f.isWritable=u.isWritable)}}return new ei(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];Dt(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,f])=>f.isSigner&&f.isWritable),n=e.filter(([,f])=>f.isSigner&&!f.isWritable),o=e.filter(([,f])=>!f.isSigner&&f.isWritable),s=e.filter(([,f])=>!f.isSigner&&!f.isWritable),i={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Dt(t.length>0,"Expected at least one writable signer key");let[f]=t[0];Dt(f===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let u=[...t.map(([f])=>new ve(f)),...n.map(([f])=>new ve(f)),...o.map(([f])=>new ve(f)),...s.map(([f])=>new ve(f))];return[i,u]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&i.isWritable),[o,s]=this.drainKeysFoundInLookupTable(e.state.addresses,i=>!i.isSigner&&!i.isInvoked&&!i.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,o=new Array;for(let[s,i]of this.keyMetaMap.entries())if(t(i)){let u=new ve(s),f=e.findIndex(d=>d.equals(u));f>=0&&(Dt(f<256,"Max lookup table index exceeded"),n.push(f),o.push(u),this.keyMetaMap.delete(s))}return[n,o]}},yn=class{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ve(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:cr.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Xs(this.staticAccountKeys)}static compile(e){let t=ei.compile(e.instructions,e.payerKey),[n,o]=t.getMessageComponents(),i=new Xs(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:cr.default.encode(u.data)}));return new yn({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Br(t,e);let n=this.instructions.map(w=>{let{accounts:T,programIdIndex:A}=w,D=Array.from(cr.default.decode(w.data)),H=[];Br(H,T.length);let Z=[];return Br(Z,D.length),{programIdIndex:A,keyIndicesCount:ke.Buffer.from(H),keyIndices:T,dataLength:ke.Buffer.from(Z),data:D}}),o=[];Br(o,n.length);let s=ke.Buffer.alloc(rs);ke.Buffer.from(o).copy(s);let i=o.length;n.forEach(w=>{i+=R.struct([R.u8("programIdIndex"),R.blob(w.keyIndicesCount.length,"keyIndicesCount"),R.seq(R.u8("keyIndex"),w.keyIndices.length,"keyIndices"),R.blob(w.dataLength.length,"dataLength"),R.seq(R.u8("userdatum"),w.data.length,"data")]).encode(w,s,i)}),s=s.slice(0,i);let u=R.struct([R.blob(1,"numRequiredSignatures"),R.blob(1,"numReadonlySignedAccounts"),R.blob(1,"numReadonlyUnsignedAccounts"),R.blob(t.length,"keyCount"),R.seq(Ce("key"),e,"keys"),Ce("recentBlockhash")]),f={numRequiredSignatures:ke.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ke.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ke.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ke.Buffer.from(t),keys:this.accountKeys.map(w=>Ge(w.toBytes())),recentBlockhash:cr.default.decode(this.recentBlockhash)},d=ke.Buffer.alloc(2048),b=u.encode(f,d);return s.copy(d,b),d.slice(0,b+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&td))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=t.shift(),s=t.shift(),i=Rr(t),u=[];for(let T=0;T<i;T++){let A=t.slice(0,dn);t=t.slice(dn),u.push(new ve(ke.Buffer.from(A)))}let f=t.slice(0,dn);t=t.slice(dn);let d=Rr(t),b=[];for(let T=0;T<d;T++){let A=t.shift(),D=Rr(t),H=t.slice(0,D);t=t.slice(D);let Z=Rr(t),ee=t.slice(0,Z),he=cr.default.encode(ke.Buffer.from(ee));t=t.slice(Z),b.push({programIdIndex:A,accounts:H,data:he})}let w={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:s},recentBlockhash:cr.default.encode(ke.Buffer.from(f)),accountKeys:u,instructions:b};return new yn(w)}},ss=class{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Xs(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let o=e-n,s=this.addressTableLookups.reduce((i,u)=>i+u.writableIndexes.length,0);return o<s}else if(e>=this.header.numRequiredSignatures){let o=e-t,i=n-t-this.header.numReadonlyUnsignedAccounts;return o<i}else{let o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=e.find(s=>s.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<o.state.addresses.length)t.writable.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<o.state.addresses.length)t.readonly.push(o.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=ei.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let b of s){let w=t.extractTableLookup(b);if(w!==void 0){let[T,{writable:A,readonly:D}]=w;n.push(T),o.writable.push(...A),o.readonly.push(...D)}}let[i,u]=t.getMessageComponents(),d=new Xs(u,o).compileInstructions(e.instructions);return new ss({header:i,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){let e=Array();Br(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();Br(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),s=Array();Br(s,this.addressTableLookups.length);let i=R.struct([R.u8("prefix"),R.struct([R.u8("numRequiredSignatures"),R.u8("numReadonlySignedAccounts"),R.u8("numReadonlyUnsignedAccounts")],"header"),R.blob(e.length,"staticAccountKeysLength"),R.seq(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),R.blob(n.length,"instructionsLength"),R.blob(t.length,"serializedInstructions"),R.blob(s.length,"addressTableLookupsLength"),R.blob(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(rs),f=1<<7,d=i.encode({prefix:f,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(b=>b.toBytes()),recentBlockhash:cr.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:o},u);return u.slice(0,d)}serializeInstructions(){let e=0,t=new Uint8Array(rs);for(let n of this.compiledInstructions){let o=Array();Br(o,n.accountKeyIndexes.length);let s=Array();Br(s,n.data.length),e+=R.struct([R.u8("programIdIndex"),R.blob(o.length,"encodedAccountKeyIndexesLength"),R.seq(R.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),R.blob(s.length,"encodedDataLength"),R.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(rs);for(let n of this.addressTableLookups){let o=Array();Br(o,n.writableIndexes.length);let s=Array();Br(s,n.readonlyIndexes.length),e+=R.struct([Ce("accountKey"),R.blob(o.length,"encodedWritableIndexesLength"),R.seq(R.u8(),n.writableIndexes.length,"writableIndexes"),R.blob(s.length,"encodedReadonlyIndexesLength"),R.seq(R.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),o=n&td;Dt(n!==o,"Expected versioned message but received legacy message");let s=o;Dt(s===0,`Expected versioned message with version 0 but found version ${s}`);let i={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],f=Rr(t);for(let D=0;D<f;D++)u.push(new ve(t.splice(0,dn)));let d=cr.default.encode(t.splice(0,dn)),b=Rr(t),w=[];for(let D=0;D<b;D++){let H=t.shift(),Z=Rr(t),ee=t.splice(0,Z),he=Rr(t),se=new Uint8Array(t.splice(0,he));w.push({programIdIndex:H,accountKeyIndexes:ee,data:se})}let T=Rr(t),A=[];for(let D=0;D<T;D++){let H=new ve(t.splice(0,dn)),Z=Rr(t),ee=t.splice(0,Z),he=Rr(t),se=t.splice(0,he);A.push({accountKey:H,writableIndexes:ee,readonlyIndexes:se})}return new ss({header:i,staticAccountKeys:u,recentBlockhash:d,compiledInstructions:w,addressTableLookups:A})}},Bu={deserializeMessageVersion(r){let e=r[0],t=e&td;return t===e?"legacy":t},deserialize:r=>{let e=Bu.deserializeMessageVersion(r);if(e==="legacy")return yn.from(r);if(e===0)return ss.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},GS;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(GS||(GS={}));var qP=ke.Buffer.alloc(pa).fill(0),et=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ke.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},Je=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new et(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let H=0;H<t.length;H++)if(t[H].programId===void 0)throw new Error(`Transaction instruction index ${H} has undefined program id`);let o=[],s=[];t.forEach(H=>{H.keys.forEach(ee=>{s.push({...ee})});let Z=H.programId.toString();o.includes(Z)||o.push(Z)}),o.forEach(H=>{s.push({pubkey:new ve(H),isSigner:!1,isWritable:!1})});let i=[];s.forEach(H=>{let Z=H.pubkey.toString(),ee=i.findIndex(he=>he.pubkey.toString()===Z);ee>-1?(i[ee].isWritable=i[ee].isWritable||H.isWritable,i[ee].isSigner=i[ee].isSigner||H.isSigner):i.push(H)}),i.sort(function(H,Z){return H.isSigner!==Z.isSigner?H.isSigner?-1:1:H.isWritable!==Z.isWritable?H.isWritable?-1:1:H.pubkey.toBase58().localeCompare(Z.pubkey.toBase58())});let u=i.findIndex(H=>H.pubkey.equals(n));if(u>-1){let[H]=i.splice(u,1);H.isSigner=!0,H.isWritable=!0,i.unshift(H)}else i.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let H of this.signatures){let Z=i.findIndex(ee=>ee.pubkey.equals(H.publicKey));if(Z>-1)i[Z].isSigner||(i[Z].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${H.publicKey.toString()}`)}let f=0,d=0,b=0,w=[],T=[];i.forEach(({pubkey:H,isSigner:Z,isWritable:ee})=>{Z?(w.push(H.toString()),f+=1,ee||(d+=1)):(T.push(H.toString()),ee||(b+=1))});let A=w.concat(T),D=t.map(H=>{let{data:Z,programId:ee}=H;return{programIdIndex:A.indexOf(ee.toString()),accounts:H.keys.map(he=>A.indexOf(he.pubkey.toString())),data:cr.default.encode(Z)}});return D.forEach(H=>{Dt(H.programIdIndex>=0),H.accounts.forEach(Z=>Dt(Z>=0))}),new yn({header:{numRequiredSignatures:f,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:b},accountKeys:A,recentBlockhash:e,instructions:D})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,s)=>t[s].equals(o.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let o=n.toString();return t.has(o)?!1:(t.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let i=s.publicKey.toString();t.has(i)||(t.add(i),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let i=s.publicKey.toString();t.has(i)||(t.add(i),n.push(s))}let o=this._compile();this._partialSign(o,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(o=>{let s=ed(n,o.secretKey);this._addSignature(o.publicKey,Ge(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Dt(t.length===64);let n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ke.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:o}of this.signatures)if(n===null){if(t)return!1}else if(!zP(n,e,o.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){let{signatures:t}=this,n=[];Br(n,t.length);let o=n.length+t.length*64+e.length,s=ke.Buffer.alloc(o);return Dt(t.length<256),ke.Buffer.from(n).copy(s,0),t.forEach(({signature:i},u)=>{i!==null&&(Dt(i.length===64,"signature has invalid length"),ke.Buffer.from(i).copy(s,n.length+u*64))}),e.copy(s,n.length+t.length*64),Dt(s.length<=rs,`Transaction too large: ${s.length} > ${rs}`),s}get keys(){return Dt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Dt(this.instructions.length===1),this.instructions[0].programId}get data(){return Dt(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=Rr(t),o=[];for(let s=0;s<n;s++){let i=t.slice(0,pa);t=t.slice(pa),o.push(cr.default.encode(ke.Buffer.from(i)))}return Je.populate(yn.from(t),o)}static populate(e,t=[]){let n=new Je;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((o,s)=>{let i={signature:o==cr.default.encode(qP)?null:cr.default.decode(o),publicKey:e.accountKeys[s]};n.signatures.push(i)}),e.instructions.forEach(o=>{let s=o.accounts.map(i=>{let u=e.accountKeys[i];return{pubkey:u,isSigner:n.signatures.some(f=>f.publicKey.toString()===u.toString())||e.isAccountSigner(i),isWritable:e.isAccountWritable(i)}});n.instructions.push(new et({keys:s,programId:e.accountKeys[o.programIdIndex],data:cr.default.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}};var Tr=class{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Dt(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(pa));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Br(t,this.signatures.length);let n=R.struct([R.blob(t.length,"encodedSignaturesLength"),R.seq(CP(),this.signatures.length,"signatures"),R.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,s)}static deserialize(e){let t=[...e],n=[],o=Rr(t);for(let i=0;i<o;i++)n.push(new Uint8Array(t.splice(0,pa)));let s=Bu.deserialize(new Uint8Array(t));return new Tr(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let s=n.findIndex(i=>i.equals(o.publicKey));Dt(s>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[s]=ed(t,o.secretKey)}}addSignature(e,t){Dt(t.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Dt(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}},Mn=new ve("SysvarC1ock11111111111111111111111111111111"),n7=new ve("SysvarEpochSchedu1e111111111111111111111111"),o7=new ve("Sysvar1nstructions1111111111111111111111111"),qh=new ve("SysvarRecentB1ockHashes11111111111111111111"),ha=new ve("SysvarRent111111111111111111111111111111111"),s7=new ve("SysvarRewards111111111111111111111111111111"),i7=new ve("SysvarS1otHashes111111111111111111111111111"),a7=new ve("SysvarS1otHistory11111111111111111111111111"),Fh=new ve("SysvarStakeHistory1111111111111111111111111");async function jh(r,e,t,n){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await r.sendTransaction(e,t,o),i;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)i=(await r.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:u}=e.nonceInfo,f=u.keys[0].pubkey;i=(await r.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:f,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await r.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(i)})`);return s}function FP(r){return new Promise(e=>setTimeout(e,r))}function We(r,e){let t=r.layout.span>=0?r.layout.span:s_(r,e),n=ke.Buffer.alloc(t),o=Object.assign({instruction:r.index},e);return r.layout.encode(o,n),n}var jP=R.nu64("lamportsPerSignature"),HP=R.struct([R.u32("version"),R.u32("state"),Ce("authorizedPubkey"),Ce("nonce"),R.struct([jP],"feeCalculator")]),ZS=HP.span;var $P=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},WP=r=>e=>{let t=(0,n_.blob)(r,e),{encode:n,decode:o}=$P(t),s=t;return s.decode=(i,u)=>{let f=o(i,u);return(0,ma.toBigIntLE)(ke.Buffer.from(f))},s.encode=(i,u,f)=>{let d=(0,ma.toBufferLE)(i,r);return n(d,u,f)},s},ti=WP(8);var Or=Object.freeze({Create:{index:0,layout:R.struct([R.u32("instruction"),R.ns64("lamports"),R.ns64("space"),Ce("programId")])},Assign:{index:1,layout:R.struct([R.u32("instruction"),Ce("programId")])},Transfer:{index:2,layout:R.struct([R.u32("instruction"),ti("lamports")])},CreateWithSeed:{index:3,layout:R.struct([R.u32("instruction"),Ce("base"),Qs("seed"),R.ns64("lamports"),R.ns64("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:R.struct([R.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:R.struct([R.u32("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:R.struct([R.u32("instruction"),Ce("authorized")])},Allocate:{index:8,layout:R.struct([R.u32("instruction"),R.ns64("space")])},AllocateWithSeed:{index:9,layout:R.struct([R.u32("instruction"),Ce("base"),Qs("seed"),R.ns64("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:R.struct([R.u32("instruction"),Ce("base"),Qs("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:R.struct([R.u32("instruction"),ti("lamports"),Qs("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:R.struct([R.u32("instruction")])}}),Xt=class{constructor(){}static createAccount(e){let t=Or.Create,n=We(t,{lamports:e.lamports,space:e.space,programId:Ge(e.programId.toBuffer())});return new et({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let o=Or.TransferWithSeed;t=We(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ge(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=Or.Transfer;t=We(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new et({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let o=Or.AssignWithSeed;t=We(o,{base:Ge(e.basePubkey.toBuffer()),seed:e.seed,programId:Ge(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Or.Assign;t=We(o,{programId:Ge(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=Or.CreateWithSeed,n=We(t,{base:Ge(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ge(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new et({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){let t=new Je;"basePubkey"in e&&"seed"in e?t.add(Xt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ZS,programId:this.programId})):t.add(Xt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ZS,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=Or.InitializeNonceAccount,n=We(t,{authorized:Ge(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:qh,isSigner:!1,isWritable:!1},{pubkey:ha,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new et(o)}static nonceAdvance(e){let t=Or.AdvanceNonceAccount,n=We(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:qh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new et(o)}static nonceWithdraw(e){let t=Or.WithdrawNonceAccount,n=We(t,{lamports:e.lamports});return new et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:qh,isSigner:!1,isWritable:!1},{pubkey:ha,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=Or.AuthorizeNonceAccount,n=We(t,{authorized:Ge(e.newAuthorizedPubkey.toBuffer())});return new et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let o=Or.AllocateWithSeed;t=We(o,{base:Ge(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ge(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Or.Allocate;t=We(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et({keys:n,programId:this.programId,data:t})}};Xt.programId=new ve("11111111111111111111111111111111");var KP=rs-300,ri=class{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/ri.chunkSize)+1+1)}static async load(e,t,n,o,s){{let w=await e.getMinimumBalanceForRentExemption(s.length),T=await e.getAccountInfo(n.publicKey,"confirmed"),A=null;if(T!==null){if(T.executable)return console.error("Program load failed, account is already executable"),!1;T.data.length!==s.length&&(A=A||new Je,A.add(Xt.allocate({accountPubkey:n.publicKey,space:s.length}))),T.owner.equals(o)||(A=A||new Je,A.add(Xt.assign({accountPubkey:n.publicKey,programId:o}))),T.lamports<w&&(A=A||new Je,A.add(Xt.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:w-T.lamports})))}else A=new Je().add(Xt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:w>0?w:1,space:s.length,programId:o}));A!==null&&await jh(e,A,[t,n],{commitment:"confirmed"})}let i=R.struct([R.u32("instruction"),R.u32("offset"),R.u32("bytesLength"),R.u32("bytesLengthPadding"),R.seq(R.u8("byte"),R.offset(R.u32(),-8),"bytes")]),u=ri.chunkSize,f=0,d=s,b=[];for(;d.length>0;){let w=d.slice(0,u),T=ke.Buffer.alloc(u+16);i.encode({instruction:0,offset:f,bytes:w,bytesLength:0,bytesLengthPadding:0},T);let A=new Je().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:T});b.push(jh(e,A,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await FP(1e3/4),f+=u,d=d.slice(u)}await Promise.all(b);{let w=R.struct([R.u32("instruction")]),T=ke.Buffer.alloc(w.span);w.encode({instruction:1},T);let A=new Je().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ha,isSigner:!1,isWritable:!1}],programId:o,data:T});await jh(e,A,[t,n],{commitment:"confirmed"})}return!0}};ri.chunkSize=KP;var c7=new ve("BPFLoader2111111111111111111111111111111111");var u7=globalThis.fetch;var VP=160,GP=64,ZP=VP/GP,f7=1e3/ZP;var l7={index:1,layout:R.struct([R.u32("typeIndex"),ti("deactivationSlot"),R.nu64("lastExtendedSlot"),R.u8("lastExtendedStartIndex"),R.u8(),R.seq(Ce(),R.offset(R.u8(),-1),"authority")])};var Kt=Ws(Zc(ve),te(),r=>new ve(r)),i_=Yc([te(),Ft("base64")]),rd=Ws(Zc(ke.Buffer),i_,r=>ke.Buffer.from(r[0],"base64")),p7=30*1e3;function a_(r){return pr([V({jsonrpc:Ft("2.0"),id:te(),result:r}),V({jsonrpc:Ft("2.0"),id:te(),error:V({code:$s(),message:te(),data:_e(Uv())})})])}var YP=a_($s());function qt(r){return Ws(a_(r),YP,e=>"error"in e?e:{...e,result:Hs(e.result,r)})}function Wr(r){return qt(V({context:V({slot:N()}),value:r}))}function Tu(r){return V({context:V({slot:N()}),value:r})}var JP=V({foundation:N(),foundationTerm:N(),initial:N(),taper:N(),terminal:N()}),h7=qt(me(fe(V({epoch:N(),effectiveSlot:N(),amount:N(),postBalance:N(),commission:_e(fe(N()))})))),QP=V({total:N(),validator:N(),foundation:N(),epoch:N()}),XP=V({epoch:N(),slotIndex:N(),slotsInEpoch:N(),absoluteSlot:N(),blockHeight:_e(N()),transactionCount:_e(N())}),e8=V({slotsPerEpoch:N(),leaderScheduleSlotOffset:N(),warmup:ln(),firstNormalEpoch:N(),firstNormalSlot:N()}),t8=hh(te(),me(N())),is=fe(pr([V({}),te()])),r8=V({err:is}),n8=Ft("receivedSignature"),d7=V({"solana-core":te(),"feature-set":_e(N())}),y7=Wr(V({err:fe(pr([V({}),te()])),logs:fe(me(te())),accounts:_e(fe(me(fe(V({executable:ln(),owner:te(),lamports:N(),data:me(te()),rentEpoch:_e(N())}))))),unitsConsumed:_e(N()),returnData:_e(fe(V({programId:te(),data:Yc([te(),Ft("base64")])})))})),m7=Wr(V({byIdentity:hh(te(),me(N())),range:V({firstSlot:N(),lastSlot:N()})}));var g7=qt(JP),x7=qt(QP),b7=qt(XP),w7=qt(e8),v7=qt(t8),S7=qt(N()),_7=Wr(V({total:N(),circulating:N(),nonCirculating:N(),nonCirculatingAccounts:me(Kt)})),o8=V({amount:te(),uiAmount:fe(N()),decimals:N(),uiAmountString:_e(te())}),E7=Wr(me(V({address:Kt,amount:te(),uiAmount:fe(N()),decimals:N(),uiAmountString:_e(te())}))),k7=Wr(me(V({pubkey:Kt,account:V({executable:ln(),owner:Kt,lamports:N(),data:rd,rentEpoch:N()})}))),Jh=V({program:te(),parsed:$s(),space:N()}),I7=Wr(me(V({pubkey:Kt,account:V({executable:ln(),owner:Kt,lamports:N(),data:Jh,rentEpoch:N()})}))),A7=Wr(me(V({lamports:N(),address:Kt}))),nd=V({executable:ln(),owner:Kt,lamports:N(),data:rd,rentEpoch:N()}),R7=V({pubkey:Kt,account:nd}),s8=Ws(pr([Zc(ke.Buffer),Jh]),pr([i_,Jh]),r=>Array.isArray(r)?Hs(r,rd):r),i8=V({executable:ln(),owner:Kt,lamports:N(),data:s8,rentEpoch:N()}),B7=V({pubkey:Kt,account:i8}),T7=V({state:pr([Ft("active"),Ft("inactive"),Ft("activating"),Ft("deactivating")]),active:N(),inactive:N()}),P7=qt(me(V({signature:te(),slot:N(),err:is,memo:fe(te()),blockTime:_e(fe(N()))}))),z7=qt(me(V({signature:te(),slot:N(),err:is,memo:fe(te()),blockTime:_e(fe(N()))}))),M7=V({subscription:N(),result:Tu(nd)}),a8=V({pubkey:Kt,account:nd}),L7=V({subscription:N(),result:Tu(a8)}),c8=V({parent:N(),slot:N(),root:N()}),C7=V({subscription:N(),result:c8}),u8=pr([V({type:pr([Ft("firstShredReceived"),Ft("completed"),Ft("optimisticConfirmation"),Ft("root")]),slot:N(),timestamp:N()}),V({type:Ft("createdBank"),parent:N(),slot:N(),timestamp:N()}),V({type:Ft("frozen"),slot:N(),timestamp:N(),stats:V({numTransactionEntries:N(),numSuccessfulTransactions:N(),numFailedTransactions:N(),maxTransactionsPerEntry:N()})}),V({type:Ft("dead"),slot:N(),timestamp:N(),err:te()})]),N7=V({subscription:N(),result:u8}),O7=V({subscription:N(),result:Tu(pr([r8,n8]))}),U7=V({subscription:N(),result:N()}),D7=V({pubkey:te(),gossip:fe(te()),tpu:fe(te()),rpc:fe(te()),version:fe(te())}),YS=V({votePubkey:te(),nodePubkey:te(),activatedStake:N(),epochVoteAccount:ln(),epochCredits:me(Yc([N(),N(),N()])),commission:N(),lastVote:N(),rootSlot:fe(N())}),q7=qt(V({current:me(YS),delinquent:me(YS)})),f8=pr([Ft("processed"),Ft("confirmed"),Ft("finalized")]),l8=V({slot:N(),confirmations:fe(N()),err:is,confirmationStatus:_e(f8)}),F7=Wr(me(fe(l8))),j7=qt(N()),c_=V({accountKey:Kt,writableIndexes:me(N()),readonlyIndexes:me(N())}),od=V({signatures:me(te()),message:V({accountKeys:me(te()),header:V({numRequiredSignatures:N(),numReadonlySignedAccounts:N(),numReadonlyUnsignedAccounts:N()}),instructions:me(V({accounts:me(N()),data:te(),programIdIndex:N()})),recentBlockhash:te(),addressTableLookups:_e(me(c_))})}),u_=V({pubkey:Kt,signer:ln(),writable:ln(),source:_e(pr([Ft("transaction"),Ft("lookupTable")]))}),f_=V({accountKeys:me(u_),signatures:me(te())}),l_=V({parsed:$s(),program:te(),programId:Kt}),p_=V({accounts:me(Kt),data:te(),programId:Kt}),p8=pr([p_,l_]),h8=pr([V({parsed:$s(),program:te(),programId:te()}),V({accounts:me(te()),data:te(),programId:te()})]),h_=Ws(p8,h8,r=>"accounts"in r?Hs(r,p_):Hs(r,l_)),d_=V({signatures:me(te()),message:V({accountKeys:me(u_),instructions:me(h_),recentBlockhash:te(),addressTableLookups:_e(fe(me(c_)))})}),Au=V({accountIndex:N(),mint:te(),owner:_e(te()),uiTokenAmount:o8}),y_=V({writable:me(Kt),readonly:me(Kt)}),Pu=V({err:is,fee:N(),innerInstructions:_e(fe(me(V({index:N(),instructions:me(V({accounts:me(N()),data:te(),programIdIndex:N()}))})))),preBalances:me(N()),postBalances:me(N()),logMessages:_e(fe(me(te()))),preTokenBalances:_e(fe(me(Au))),postTokenBalances:_e(fe(me(Au))),loadedAddresses:_e(y_),computeUnitsConsumed:_e(N())}),sd=V({err:is,fee:N(),innerInstructions:_e(fe(me(V({index:N(),instructions:me(h_)})))),preBalances:me(N()),postBalances:me(N()),logMessages:_e(fe(me(te()))),preTokenBalances:_e(fe(me(Au))),postTokenBalances:_e(fe(me(Au))),loadedAddresses:_e(y_),computeUnitsConsumed:_e(N())}),si=pr([Ft(0),Ft("legacy")]),as=V({pubkey:te(),lamports:N(),postBalance:fe(N()),rewardType:fe(te()),commission:_e(fe(N()))}),H7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),transactions:me(V({transaction:od,meta:fe(Pu),version:_e(si)})),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),$7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),W7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),transactions:me(V({transaction:f_,meta:fe(Pu),version:_e(si)})),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),K7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),transactions:me(V({transaction:d_,meta:fe(sd),version:_e(si)})),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),V7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),transactions:me(V({transaction:f_,meta:fe(sd),version:_e(si)})),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),G7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),rewards:_e(me(as)),blockTime:fe(N()),blockHeight:fe(N())}))),Z7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),transactions:me(V({transaction:od,meta:fe(Pu)})),rewards:_e(me(as)),blockTime:fe(N())}))),Y7=qt(fe(V({blockhash:te(),previousBlockhash:te(),parentSlot:N(),signatures:me(te()),blockTime:fe(N())}))),J7=qt(fe(V({slot:N(),meta:Pu,blockTime:_e(fe(N())),transaction:od,version:_e(si)}))),Q7=qt(fe(V({slot:N(),transaction:d_,meta:fe(sd),blockTime:_e(fe(N())),version:_e(si)}))),X7=Wr(V({blockhash:te(),feeCalculator:V({lamportsPerSignature:N()})})),e9=Wr(V({blockhash:te(),lastValidBlockHeight:N()})),d8=V({slot:N(),numTransactions:N(),numSlots:N(),samplePeriodSecs:N()}),t9=qt(me(d8)),r9=Wr(fe(V({feeCalculator:V({lamportsPerSignature:N()})}))),n9=qt(te()),o9=qt(te()),y8=V({err:is,logs:me(te()),signature:te()}),s9=V({result:Tu(y8),subscription:N()});var ns=class{constructor(e){this._keypair=void 0,this._keypair=e??WS()}static generate(){return new ns(WS())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!t||!t.skipValidation){let o=e.slice(0,32),s=Kh(o);for(let i=0;i<32;i++)if(n[i]!==s[i])throw new Error("provided secretKey is invalid")}return new ns({publicKey:n,secretKey:e})}static fromSeed(e){let t=Kh(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new ns({publicKey:t,secretKey:n})}get publicKey(){return new ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},la=Object.freeze({CreateLookupTable:{index:0,layout:R.struct([R.u32("instruction"),ti("recentSlot"),R.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:R.struct([R.u32("instruction")])},ExtendLookupTable:{index:2,layout:R.struct([R.u32("instruction"),ti(),R.seq(Ce(),R.offset(R.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:R.struct([R.u32("instruction")])},CloseLookupTable:{index:4,layout:R.struct([R.u32("instruction")])}});var Qh=class{constructor(){}static createLookupTable(e){let[t,n]=ve.findProgramAddressSync([e.authority.toBuffer(),(0,ma.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),o=la.CreateLookupTable,s=We(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Xt.programId,isSigner:!1,isWritable:!1}];return[new et({programId:this.programId,keys:i,data:s}),t]}static freezeLookupTable(e){let t=la.FreezeLookupTable,n=We(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new et({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){let t=la.ExtendLookupTable,n=We(t,{addresses:e.addresses.map(s=>s.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Xt.programId,isSigner:!1,isWritable:!1}),new et({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){let t=la.DeactivateLookupTable,n=We(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new et({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){let t=la.CloseLookupTable,n=We(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new et({programId:this.programId,keys:o,data:n})}};Qh.programId=new ve("AddressLookupTab1e1111111111111111111111111");var Eu=Object.freeze({RequestUnits:{index:0,layout:R.struct([R.u8("instruction"),R.u32("units"),R.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:R.struct([R.u8("instruction"),R.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:R.struct([R.u8("instruction"),R.u32("units")])},SetComputeUnitPrice:{index:3,layout:R.struct([R.u8("instruction"),ti("microLamports")])}}),Xh=class{constructor(){}static requestUnits(e){let t=Eu.RequestUnits,n=We(t,e);return new et({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=Eu.RequestHeapFrame,n=We(t,e);return new et({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=Eu.SetComputeUnitLimit,n=We(t,e);return new et({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=Eu.SetComputeUnitPrice,n=We(t,{microLamports:BigInt(e.microLamports)});return new et({keys:[],programId:this.programId,data:n})}};Xh.programId=new ve("ComputeBudget111111111111111111111111111111");var JS=64,QS=32,XS=64,e_=R.struct([R.u8("numSignatures"),R.u8("padding"),R.u16("signatureOffset"),R.u16("signatureInstructionIndex"),R.u16("publicKeyOffset"),R.u16("publicKeyInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u16("messageInstructionIndex")]),da=class{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,instructionIndex:s}=e;Dt(t.length===QS,`Public Key must be ${QS} bytes but received ${t.length} bytes`),Dt(o.length===XS,`Signature must be ${XS} bytes but received ${o.length} bytes`);let i=e_.span,u=i+t.length,f=u+o.length,d=1,b=ke.Buffer.alloc(f+n.length),w=s??65535;return e_.encode({numSignatures:d,padding:0,signatureOffset:u,signatureInstructionIndex:w,publicKeyOffset:i,publicKeyInstructionIndex:w,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:w},b),b.fill(t,i),b.fill(o,u),b.fill(n,f),new et({keys:[],programId:da.programId,data:b})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Dt(t.length===JS,`Private key must be ${JS} bytes but received ${t.length} bytes`);try{let s=ns.fromSecretKey(t),i=s.publicKey.toBytes(),u=ed(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:u,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};da.programId=new ve("Ed25519SigVerify111111111111111111111111111");pn.hmacSha256Sync=(r,...e)=>{let t=Ch.create(Fc,r);return e.forEach(n=>t.update(n)),t.digest()};var m8=(r,e)=>$S(r,e,{der:!1,recovered:!0});pn.isValidPrivateKey;var g8=FS,t_=32,Hh=20,r_=64,x8=11,$h=R.struct([R.u8("numSignatures"),R.u16("signatureOffset"),R.u8("signatureInstructionIndex"),R.u16("ethAddressOffset"),R.u8("ethAddressInstructionIndex"),R.u16("messageDataOffset"),R.u16("messageDataSize"),R.u8("messageInstructionIndex"),R.blob(20,"ethAddress"),R.blob(64,"signature"),R.u8("recoveryId")]),os=class{constructor(){}static publicKeyToEthAddress(e){Dt(e.length===r_,`Public key must be ${r_} bytes but received ${e.length} bytes`);try{return ke.Buffer.from(Lh(Ge(e))).slice(-Hh)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){let{publicKey:t,message:n,signature:o,recoveryId:s,instructionIndex:i}=e;return os.createInstructionWithEthAddress({ethAddress:os.publicKeyToEthAddress(t),message:n,signature:o,recoveryId:s,instructionIndex:i})}static createInstructionWithEthAddress(e){let{ethAddress:t,message:n,signature:o,recoveryId:s,instructionIndex:i=0}=e,u;typeof t=="string"?t.startsWith("0x")?u=ke.Buffer.from(t.substr(2),"hex"):u=ke.Buffer.from(t,"hex"):u=t,Dt(u.length===Hh,`Address must be ${Hh} bytes but received ${u.length} bytes`);let f=1+x8,d=f,b=f+u.length,w=b+o.length+1,T=1,A=ke.Buffer.alloc($h.span+n.length);return $h.encode({numSignatures:T,signatureOffset:b,signatureInstructionIndex:i,ethAddressOffset:d,ethAddressInstructionIndex:i,messageDataOffset:w,messageDataSize:n.length,messageInstructionIndex:i,signature:Ge(o),ethAddress:Ge(u),recoveryId:s},A),A.fill(Ge(n),$h.span),new et({keys:[],programId:os.programId,data:A})}static createInstructionWithPrivateKey(e){let{privateKey:t,message:n,instructionIndex:o}=e;Dt(t.length===t_,`Private key must be ${t_} bytes but received ${t.length} bytes`);try{let s=Ge(t),i=g8(s,!1).slice(1),u=ke.Buffer.from(Lh(Ge(n))),[f,d]=m8(u,s);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:f,recoveryId:d,instructionIndex:o})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};os.programId=new ve("KeccakSecp256k11111111111111111111111111111");var b8=new ve("StakeConfig11111111111111111111111111111111");var ya=class{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}};ya.default=new ya(0,0,ve.default);var ho=Object.freeze({Initialize:{index:0,layout:R.struct([R.u32("instruction"),NP(),OP()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:R.struct([R.u32("instruction")])},Split:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Withdraw:{index:4,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},Deactivate:{index:5,layout:R.struct([R.u32("instruction")])},Merge:{index:7,layout:R.struct([R.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("stakeAuthorizationType"),Qs("authoritySeed"),Ce("authorityOwner")])}}),i9=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Ru=class{constructor(){}static initialize(e){let{stakePubkey:t,authorized:n,lockup:o}=e,s=o||ya.default,i=ho.Initialize,u=We(i,{authorized:{staker:Ge(n.staker.toBuffer()),withdrawer:Ge(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ge(s.custodian.toBuffer())}}),f={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ha,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new et(f)}static createAccountWithSeed(e){let t=new Je;t.add(Xt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static createAccount(e){let t=new Je;t.add(Xt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:s}=e;return t.add(this.initialize({stakePubkey:n,authorized:o,lockup:s}))}static delegate(e){let{stakePubkey:t,authorizedPubkey:n,votePubkey:o}=e,s=ho.Delegate,i=We(s);return new Je().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:Fh,isSigner:!1,isWritable:!1},{pubkey:b8,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){let{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:i}=e,u=ho.Authorize,f=We(u,{newAuthorized:Ge(o.toBuffer()),stakeAuthorizationType:s.index}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&d.push({pubkey:i,isSigner:!1,isWritable:!1}),new Je().add({keys:d,programId:this.programId,data:f})}static authorizeWithSeed(e){let{stakePubkey:t,authorityBase:n,authoritySeed:o,authorityOwner:s,newAuthorizedPubkey:i,stakeAuthorizationType:u,custodianPubkey:f}=e,d=ho.AuthorizeWithSeed,b=We(d,{newAuthorized:Ge(i.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:Ge(s.toBuffer())}),w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Mn,isSigner:!1,isWritable:!1}];return f&&w.push({pubkey:f,isSigner:!1,isWritable:!1}),new Je().add({keys:w,programId:this.programId,data:b})}static splitInstruction(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:s}=e,i=ho.Split,u=We(i,{lamports:s});return new et({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){let t=new Je;return t.add(Xt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,basePubkey:s,seed:i,lamports:u}=e,f=new Je;return f.add(Xt.allocate({accountPubkey:o,basePubkey:s,seed:i,space:this.space,programId:this.programId})),f.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:o,lamports:u}))}static merge(e){let{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:o}=e,s=ho.Merge,i=We(s);return new Je().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:Fh,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){let{stakePubkey:t,authorizedPubkey:n,toPubkey:o,lamports:s,custodianPubkey:i}=e,u=ho.Withdraw,f=We(u,{lamports:s}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:Fh,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&d.push({pubkey:i,isSigner:!1,isWritable:!1}),new Je().add({keys:d,programId:this.programId,data:f})}static deactivate(e){let{stakePubkey:t,authorizedPubkey:n}=e,o=ho.Deactivate,s=We(o);return new Je().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Ru.programId=new ve("Stake11111111111111111111111111111111111111");Ru.space=200;var ku=Object.freeze({InitializeAccount:{index:0,layout:R.struct([R.u32("instruction"),UP()])},Authorize:{index:1,layout:R.struct([R.u32("instruction"),Ce("newAuthorized"),R.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:R.struct([R.u32("instruction"),R.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:R.struct([R.u32("instruction"),DP()])}}),a9=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),ni=class{constructor(){}static initializeAccount(e){let{votePubkey:t,nodePubkey:n,voteInit:o}=e,s=ku.InitializeAccount,i=We(s,{voteInit:{nodePubkey:Ge(o.nodePubkey.toBuffer()),authorizedVoter:Ge(o.authorizedVoter.toBuffer()),authorizedWithdrawer:Ge(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ha,isSigner:!1,isWritable:!1},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new et(u)}static createAccount(e){let t=new Je;return t.add(Xt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:s}=e,i=ku.Authorize,u=We(i,{newAuthorized:Ge(o.toBuffer()),voteAuthorizationType:s.index}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Je().add({keys:f,programId:this.programId,data:u})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:s,voteAuthorizationType:i,votePubkey:u}=e,f=ku.AuthorizeWithSeed,d=We(f,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ge(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:Ge(s.toBuffer()),voteAuthorizationType:i.index}}),b=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:Mn,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Je().add({keys:b,programId:this.programId,data:d})}static withdraw(e){let{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:s}=e,i=ku.Withdraw,u=We(i,{lamports:o}),f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Je().add({keys:f,programId:this.programId,data:u})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return ni.withdraw(e)}};ni.programId=new ve("Vote111111111111111111111111111111111111111");ni.space=3731;var c9=new ve("Va1idator1nfo111111111111111111111111111111"),u9=V({name:te(),website:_e(te()),details:_e(te()),keybaseUsername:_e(te())});var f9=new ve("Vote111111111111111111111111111111111111111"),l9=R.struct([Ce("nodePubkey"),Ce("authorizedWithdrawer"),R.u8("commission"),R.nu64(),R.seq(R.struct([R.nu64("slot"),R.u32("confirmationCount")]),R.offset(R.u32(),-8),"votes"),R.u8("rootSlotValid"),R.nu64("rootSlot"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),Ce("authorizedVoter")]),R.offset(R.u32(),-8),"authorizedVoters"),R.struct([R.seq(R.struct([Ce("authorizedPubkey"),R.nu64("epochOfLastAuthorizedSwitch"),R.nu64("targetEpoch")]),32,"buf"),R.nu64("idx"),R.u8("isEmpty")],"priorVoters"),R.nu64(),R.seq(R.struct([R.nu64("epoch"),R.nu64("credits"),R.nu64("prevCredits")]),R.offset(R.u32(),-8),"epochCredits"),R.struct([R.nu64("slot"),R.nu64("timestamp")],"lastTimestamp")]);h();var m_=Re(Ni()),g_=Re(Ls()),zu=Re(fh()),w8=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Mu=r=>e=>{let t=(0,g_.blob)(r,e),{encode:n,decode:o}=w8(t),s=t;return s.decode=(i,u)=>{let f=o(i,u);return(0,zu.toBigIntLE)(m_.Buffer.from(f))},s.encode=(i,u,f)=>{let d=(0,zu.toBufferLE)(i,r);return n(d,u,f)},s},v8=Mu(8),y9=Mu(16),m9=Mu(24),g9=Mu(32);h();var E8=Re(Ni());h();var S8=Re(Ni()),ii=Re(Ls());h();var Fu=Re(hs());h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();var U8=new Error("Unsupported path."),Lu=(r,e=U8)=>{throw e};h();var Cu=r=>{try{if(r==null)throw"JSON must be set";if(!isNaN(parseInt(r)))throw"Numbers are not valid JSON";return JSON.parse(r),!0}catch(e){return!1}};h();h();h();h();h();h();h();h();h();h();h();h();h();h();var w_=Re(ai()),v_=Re(fd());w_.default.extend(v_.default);h();var K8=Re(ai());h();var yd=Re(ai()),E_=Re(S_()),k_=Re(__());yd.default.extend(E_.default);yd.default.extend(k_.default);h();var A_=Re(ai()),R_=Re(I_());A_.default.extend(R_.default);h();h();h();var wd=Re(ai()),T_=Re(fd()),P_=Re(B_());wd.default.extend(P_.default);wd.default.extend(T_.default);var xH=new Date().getTimezoneOffset()*6e4;h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();h();var W_=Re(Du());h();var qu=Re(Du());h();var Ad=Re(Du());var Rd=Re($n()),rW=Fu.Buffer.alloc(64).fill(0);var ju=r=>r&&"version"in r,K_=(r,e)=>ju(r)?Fu.Buffer.from(r.serialize()):r.serialize(e!=null?e:{requireAllSignatures:!1,verifySignatures:!1}),ui=(r,e)=>Rd.default.encode(K_(r,e));var xa=(r,e)=>{let t;if(e==="base64")t=Fu.Buffer.from(r,"base64");else if(e==="bs58")t=Rd.default.decode(r);else throw new Error("Unsupported encoding");return Tr.deserialize(t)};var wa=Re($n()),G_=Re(hu());h();var vr=class extends Error{constructor({code:t,message:n},o){super(n);this.code=t,this.message=n,typeof o!="undefined"&&(this.data=o)}toString(){return this.message}};h();h();h();h();h();var Rz={canSerialize:r=>typeof r=="number"&&Number.isNaN(r),serialize:r=>({["$"+"NAN"]:1}),deserialize:r=>NaN},Bz={canSerialize:r=>r instanceof Date,serialize:r=>({[`$${"DATE"}`]:r.valueOf()}),deserialize:r=>new Date(r[`$${"DATE"}`])},Tz={canSerialize:r=>r instanceof Uint8Array,serialize:r=>({[`$${"UINT8ARRAY"}`]:Array.from(r)}),deserialize:r=>Uint8Array.from(r[`$${"UINT8ARRAY"}`])},Pz={canSerialize:r=>typeof r=="bigint",serialize:r=>({[`$${"BIGINT"}`]:r.toString()}),deserialize:r=>BigInt(r[`$${"BIGINT"}`])},zz={canSerialize:r=>r instanceof URL,serialize:r=>({[`$${"URL"}`]:r.href}),deserialize:r=>new URL(r[`$${"URL"}`])},Hu={["NAN"]:Rz,["DATE"]:Bz,["UINT8ARRAY"]:Tz,["BIGINT"]:Pz,["URL"]:zz};var Mz=function(r){let e=this[r];for(let t of Object.values(Hu))if(t.canSerialize(e))return t.serialize(e);return e},Lz=(r,e)=>{if(e&&typeof e=="object"&&Object.keys(e)[0]){let t=Object.keys(e)[0].slice(1);if(t in Hu)return Hu[t].deserialize(e)}return e},ba=r=>JSON.stringify(r,Mz),$u=r=>JSON.parse(r,Lz);h();var Kr,Vr,Bd=class{constructor({port:e}){De(this,Kr,void 0);De(this,Vr,!1);Ht(this,Kr,e),Ht(this,Vr,!1)}get status(){return re(this,Vr)?"started":"stopped"}start(){return je(this,null,function*(){if(re(this,Vr))return;let e=re(this,Kr).onClose(()=>{Ht(this,Vr,!1),e()});yield re(this,Kr).start(),Ht(this,Vr,!0)})}close(){return je(this,null,function*(){!re(this,Vr)||(yield re(this,Kr).close(),Ht(this,Vr,!1))})}send(e){return je(this,null,function*(){if(!re(this,Vr))throw new Error("Cannot read stream: RpcTransport has not been started");if(Array.isArray(e)){let b=ul.parse(e),w=new Set(b.map(A=>A.id)),T=ba(b);re(this,Kr).postMessage(T);try{for(var t=Sf(this.recv()),n,o,s;n=!(o=yield t.next()).done;n=!1){let A=o.value;if(Array.isArray(A)&&A.every(D=>w.has(D.id)))return A}}catch(o){s=[o]}finally{try{n&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s[0]}}throw new Error("Failed to get response: request ids="+w)}else{let b=Ka.parse(e),{id:w}=b,T=ba(b);re(this,Kr).postMessage(T);try{for(var i=Sf(this.recv()),u,f,d;u=!(f=yield i.next()).done;u=!1){let A=f.value;if("id"in A&&A.id===w&&!("method"in A))return A}}catch(f){d=[f]}finally{try{u&&(f=i.return)&&(yield f.call(i))}finally{if(d)throw d[0]}}throw new Error("Failed to get response: request id="+w)}})}addListener(e){let t=o=>je(this,null,function*(){let s=this.recv()[Symbol.asyncIterator](),i=()=>{},u=()=>new Promise(d=>i=()=>d(null));function f(){var d;(d=s.return)==null||d.call(s),i(),o.signal.removeEventListener("abort",f)}try{for(o.signal.addEventListener("abort",f);;){let d=yield Promise.race([s.next(),u()]);if(!d)break;try{e(d.value)}catch(b){console.error(b)}}f()}catch(d){throw f(),d}}),n=new AbortController;return t(n),()=>n.abort()}recv(){let e=[],t=()=>{},n=()=>new Promise(b=>t=b),o=!1,s=re(this,Kr).onClose(()=>{o=!0,t(),s()}),i=re(this,Kr).onMessage(b=>{if(!!Cu(b))try{let w=$u(b);if("method"in w&&"id"in w){t();return}if(Array.isArray(w)){let T=fl.parse(w);e.push(T),t()}else{let T=Wa.parse(w);if("id"in T){let A=Ga.parse(w);e.push(A),t()}else{let A=Ai.parse(w);e.push(A),t()}}}catch(w){console.error(w)}}),u=()=>{s(),i()},f={next(){return je(this,null,function*(){for(;!o;){let b=e.shift();if(b)return{done:!1,value:b};yield n()}return u(),{done:!0,value:void 0}})},throw(){return je(this,null,function*(){return u(),{done:!0,value:void 0}})},return(){return je(this,null,function*(){return u(),{done:!0,value:void 0}})}};return{[Symbol.asyncIterator](){return f}}}};Kr=new WeakMap,Vr=new WeakMap;var fi=class extends Bd{static createPort(){let e=[],t=[];function n(i){for(let u of e)try{u(i.detail)}catch(f){console.error(f)}}function o(){for(let i of t)try{i()}catch(u){console.error(u)}}return{start(){return je(this,null,function*(){window.addEventListener("phantomEthRpcMessage",n),window.addEventListener("beforeunload",function i(){window.removeEventListener("phantomEthRpcMessage",n),window.removeEventListener("beforeunload",i),o()})})},close(){return je(this,null,function*(){window.removeEventListener("phantomEthRpcMessage",n),o()})},postMessage(i){setTimeout(()=>{window.dispatchEvent(new CustomEvent("dappEthRpcMessage",{detail:i}))},0)},onMessage(i){return e.push(i),()=>{e.splice(e.indexOf(i),1)}},onClose(i){return t.push(i),()=>{t.splice(t.indexOf(i),1)}}}}constructor(){super({port:fi.createPort()})}};h();var Td=Re($n());h();function Pd(r){return ju(r)?"versioned":"legacy"}function Nz(r){let e=Td.default.decode(r),t=Tr.deserialize(e);return{transaction:t,metadata:{numInstructions:t.message.compiledInstructions.length,type:0}}}function zd(r){let{transaction:e,type:t}=r,n=Td.default.decode(e);if(t==="legacy"){let o=Je.from(n);return{transaction:o,metadata:{numInstructions:o.instructions.length,type:t}}}else{if(t===0)return Nz(e);throw new Error(`Unknown transaction type => ${t}`)}}var V_=r=>Lr.common.SolanaSendOptions.safeParse(r).success,Oz=1,li,Gr,Md=class extends G_.EventEmitter{constructor(t){super();this.isPhantom=!0;this._publicKey=null;De(this,li,void 0);De(this,Gr,t=>je(this,null,function*(){var o;let n;try{let{method:s}=t,i="params"in t?(o=t.params)!=null?o:[]:[],u=Lr[s];if(!u)throw new Error("MethodNotFound");let f=u.request.safeParse({jsonrpc:"2.0",id:(Oz++).toString(),method:s,params:i});if(!f.success)throw f.error;let d=f.data;if(n=u.response.parse(yield re(this,li).send(d)),"error"in n)throw new vr(n.error);try{s==="sol_connect"?(this._publicKey=new ve(n.result.publicKey),this.emit(Lr.common.SolanaProviderEvent.Connect,this._publicKey)):s==="sol_signIn"&&!this.isConnected&&(this._publicKey=new ve(n.result.address),this.emit(Lr.common.SolanaProviderEvent.Connect,this._publicKey)),s==="sol_disconnect"&&(this._publicKey=null,this.emit(Lr.common.SolanaProviderEvent.Disconnect))}catch(b){console.error("event emitter error",b)}return n.result}catch(s){throw console.error("GOT ERROR",s),s instanceof vr?s:s instanceof ur?new vr({code:-32e3,message:"Missing or invalid parameters."},{method:t.method}):s instanceof Error&&s.message==="MethodNotFound"?new vr({code:-32601,message:"The method does not exist / is not available."},{method:t.method}):new vr({code:-32603,message:"Internal JSON-RPC error."},{method:t.method})}}));this.connect=t=>je(this,null,function*(){let n=yield re(this,Gr).call(this,{method:"sol_connect",params:(t==null?void 0:t.onlyIfTrusted)===void 0?{}:{onlyIfTrusted:t==null?void 0:t.onlyIfTrusted}});return{publicKey:new ve(n.publicKey)}});this.disconnect=()=>je(this,null,function*(){this.isConnected&&(yield re(this,Gr).call(this,{method:"sol_disconnect",params:void 0}))});this.signTransaction=t=>je(this,null,function*(){if(!t)throw new vr({code:-32e3,message:"Missing or invalid parameters."});let n=Pd(t),o=yield re(this,Gr).call(this,{method:"sol_signTransaction",params:{transaction:ui(t)}});return zd({transaction:o.transaction,type:n==="versioned"?0:"legacy"}).transaction});this.signAllTransactions=(...n)=>je(this,[...n],function*(t=[]){if(!t||t.length===0)throw new vr({code:-32e3,message:"Missing or invalid parameters."});let o=t.map(i=>Pd(i)),s=yield re(this,Gr).call(this,{method:"sol_signAllTransactions",params:{transactions:t.map(i=>ui(i))}});if(s.length!==t.length)throw new Error("Invalid number of transactions returned");return s.map((i,u)=>{let f=o[u];return zd({transaction:i.transaction,type:f==="versioned"?0:"legacy"}).transaction})});this.signAndSendTransaction=(o,...s)=>je(this,[o,...s],function*(t,n={}){if(!t)throw new vr({code:-32e3,message:"Missing or invalid parameters."});let i={};if(n)if(V_(n))i.skipPreflight=n.skipPreflight,i.preflightCommitment=n.preflightCommitment;else throw new vr({code:-32e3,message:"Missing or invalid parameters."});return yield re(this,Gr).call(this,{method:"sol_signAndSendTransaction",params:{transaction:ui(t),options:i}})});this.signAndSendAllTransactions=(o,...s)=>je(this,[o,...s],function*(t,n={}){if(!t)throw new vr({code:-32e3,message:"Missing or invalid parameters."});let i={};if(n)if(V_(n))i.skipPreflight=n.skipPreflight,i.preflightCommitment=n.preflightCommitment;else throw new vr({code:-32e3,message:"Missing or invalid parameters."});return yield re(this,Gr).call(this,{method:"sol_signAndSendAllTransactions",params:{transactions:t.map(f=>ui(f)),options:i}})});this.signMessage=(t,n="utf8")=>je(this,null,function*(){let o=yield re(this,Gr).call(this,{method:"sol_signMessage",params:{message:wa.default.encode(t),display:n}}),s=wa.default.decode(o.signature),i=new ve(o.publicKey);return{signature:s,publicKey:i}});this.signIn=t=>je(this,null,function*(){let n=yield re(this,Gr).call(this,{method:"sol_signIn",params:{signInData:t}}),o=new ve(n.address),s=wa.default.decode(n.signedMessage),i=wa.default.decode(n.signature);return{address:o,signedMessage:s,signature:i}});this.handleNotification=t=>je(this,null,function*(){var n,o,s,i;switch(t.method){case"phantom_accountChanged":{let u=Ts.phantom_accountChanged.notification.safeParse(t);if(!u.success)return;let f=(n=u.data.params)==null?void 0:n.sol;f!==((o=this.publicKey)==null?void 0:o.toBase58())&&this.emit(Lr.common.SolanaProviderEvent.AccountChanged,f?new ve(f):null);break}case"phantom_trustRevoked":{let u=Ts.phantom_trustRevoked.notification.safeParse(t);if(!u.success)return;((s=u.data.params)==null?void 0:s.sol)===((i=this.publicKey)==null?void 0:i.toBase58())&&this.emit(Lr.common.SolanaProviderEvent.AccountChanged,null);break}}});this.request=o=>je(this,[o],function*({method:t,params:n}){switch(t){case"connect":return yield this.connect(n);case"disconnect":return yield this.disconnect();case"signMessage":return yield this.signMessage(n==null?void 0:n.message,n==null?void 0:n.display);case"signTransaction":{let s=xa(n==null?void 0:n.message,"bs58");return yield this.signTransaction(s)}case"signAllTransactions":{let s=[];(n==null?void 0:n.message)&&typeof(n==null?void 0:n.message)=="string"?s=[n==null?void 0:n.message]:(n==null?void 0:n.message)&&Array.isArray(n==null?void 0:n.message)?s=n==null?void 0:n.message:n!=null&&n.messages&&(s=n==null?void 0:n.messages);let i=s.map(u=>xa(u,"bs58"));return yield this.signAllTransactions(i)}case"signAndSendTransaction":{let s=xa(n==null?void 0:n.message,"bs58");return yield this.signAndSendTransaction(s)}default:throw Lu(t),new Error("unsupported method: "+t)}});Ht(this,li,t),re(this,li).start(),t.addListener(n=>{let o=Ai.safeParse(n);!o.success||this.handleNotification(o.data)}),this.addListener(Lr.common.SolanaProviderEvent.AccountChanged,n=>{n?this._publicKey=n:(this._publicKey=null,this.emit(Lr.common.SolanaProviderEvent.Disconnect))})}get publicKey(){return this._publicKey}get isConnected(){return this._publicKey!==null}};li=new WeakMap,Gr=new WeakMap;var pi=class extends Md{static inject(e){let t=window;t.isPhantomInstalled=!0;let n=new pi;e&&Object.defineProperty(window,"solana",{get(){return n},set(o){},configurable:!1}),window.phantom||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"solana",{value:n,writable:!1}),window.dispatchEvent(new Event("phantom#initialized"))}constructor(){super(new fi)}};h();var Z_=Re($n());var Uz=["solana:signAndSendTransaction","solana:signMessage","solana:signTransaction","solana:signIn"],yo,Ku,Vu,Gu,yr,mr,Zu,va,Ld,Yu,Y_,cs,Sa,Ju,Qu,Xu,ef,tf,rf,nf,Cd=class{constructor(e){De(this,va);De(this,Yu);De(this,yo,{});De(this,Ku,"1.0.0");De(this,Vu,"Phantom");De(this,Gu,Uf);De(this,yr,null);De(this,mr,void 0);De(this,Zu,(e,t)=>{var n;return(n=re(this,yo)[e])!=null&&n.push(t)||(re(this,yo)[e]=[t]),()=>Ea(this,Yu,Y_).call(this,e,t)});De(this,cs,()=>{var t;let e=(t=re(this,mr).publicKey)==null?void 0:t.toBase58();if(e){let n=re(this,mr).publicKey.toBytes(),o=re(this,yr);(!o||o.address!==e||!jf(o.publicKey,n))&&(Ht(this,yr,new di({address:e,publicKey:n,chains:xi,features:Uz})),Ea(this,va,Ld).call(this,"change",{accounts:this.accounts}))}});De(this,Sa,()=>{re(this,yr)&&(Ht(this,yr,null),Ea(this,va,Ld).call(this,"change",{accounts:this.accounts}))});De(this,Ju,()=>{re(this,mr).publicKey?re(this,cs).call(this):re(this,Sa).call(this)});De(this,Qu,(...t)=>je(this,[...t],function*({silent:e}={}){return re(this,yr)||(yield re(this,mr).connect(e?{onlyIfTrusted:!0}:void 0)),re(this,cs).call(this),{accounts:this.accounts}}));De(this,Xu,()=>je(this,null,function*(){yield re(this,mr).disconnect()}));De(this,ef,(...e)=>je(this,null,function*(){if(!re(this,yr))throw new Error("not connected");let t=[];for(let n of e){let{transaction:o,account:s,chain:i,options:u}=n,{preflightCommitment:f,skipPreflight:d,maxRetries:b}=u||{};if(!re(this,yr).equals(s))throw new Error("invalid account");if(!Ff(i))throw new Error("invalid chain");let{signature:w}=yield re(this,mr).signAndSendTransaction(Tr.deserialize(o),{preflightCommitment:f,maxRetries:b,skipPreflight:d});t.push({signature:Z_.default.decode(w)})}return t}));De(this,tf,(...e)=>je(this,null,function*(){let t=[];if(e.length===1){let n=e[0],o=Tr.deserialize(n.transaction),s=yield re(this,mr).signTransaction(o);if(!s)return[];t.push({signedTransaction:s.serialize()})}else if(e.length>1){let n=new Map;for(let[o,s]of e.entries()){let i=n.get(s.account);i||(i=[],n.set(s.account,i)),i.push([o,Tr.deserialize(s.transaction)])}for(let[o,s]of n.entries()){let[i,u]=s.reduce(([d,b],[w,T])=>(d.push(w),b.push(T),[d,b]),[[],[]]),f=yield re(this,mr).signAllTransactions(u);for(let[d,b]of i.entries())t[b]={signedTransaction:f[d].serialize()}}}return t}));De(this,rf,(...e)=>je(this,null,function*(){if(!re(this,yr))throw new Error("not connected");let t=[];for(let n of e){let{message:o,account:s}=n;if(!re(this,yr).equals(s))throw new Error("invalid account");let{signature:i}=yield re(this,mr).signMessage(o);t.push({signedMessage:o,signature:i})}return t}));De(this,nf,(...e)=>je(this,null,function*(){let t=[];for(let n of e){let o=wf(bf({},n),{resources:n.resources?Array.from(n.resources):void 0}),{signedMessage:s,signature:i}=yield re(this,mr).signIn(o);t.push({account:re(this,yr),signedMessage:s,signature:i})}return t}));new.target===Cd&&Object.freeze(this),Ht(this,mr,e),e.on("connect",re(this,cs),this),e.on("disconnect",re(this,Sa),this),e.on("accountChanged",re(this,Ju),this),re(this,cs).call(this)}get version(){return re(this,Ku)}get name(){return re(this,Vu)}get icon(){return re(this,Gu)}get chains(){return xi.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:re(this,Qu)},"standard:disconnect":{version:"1.0.0",disconnect:re(this,Xu)},"standard:events":{version:"1.0.0",on:re(this,Zu)},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:re(this,ef)},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:re(this,tf)},"solana:signMessage":{version:"1.0.0",signMessage:re(this,rf)},"solana:signIn":{version:"1.0.0",signIn:re(this,nf)},"phantom:":{phantom:re(this,mr)}}}get accounts(){return re(this,yr)?[re(this,yr)]:[]}},Wu=Cd;yo=new WeakMap,Ku=new WeakMap,Vu=new WeakMap,Gu=new WeakMap,yr=new WeakMap,mr=new WeakMap,Zu=new WeakMap,va=new WeakSet,Ld=function(e,...t){var n;(n=re(this,yo)[e])==null||n.forEach(o=>o.apply(null,t))},Yu=new WeakSet,Y_=function(e,t){var n;re(this,yo)[e]=(n=re(this,yo)[e])==null?void 0:n.filter(o=>t!==o)},cs=new WeakMap,Sa=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,Xu=new WeakMap,ef=new WeakMap,tf=new WeakMap,rf=new WeakMap,nf=new WeakMap;var J_=()=>{let r=new pi;qf(new Wu(r)),Object.defineProperty(window,"solana",{value:r,writable:!1}),"phantom"in window||Object.defineProperty(window,"phantom",{value:{},writable:!1}),Object.defineProperty(window.phantom,"solana",{value:r,writable:!1})};J_();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
