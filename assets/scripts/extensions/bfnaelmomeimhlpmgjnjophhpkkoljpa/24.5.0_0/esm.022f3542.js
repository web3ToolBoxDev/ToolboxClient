(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t=e.parcelRequire1d24;t.register("CZ2QE",(function(e,r){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(e.exports,"__esModule",{value:!0}),o(t("6fgdF"),e.exports),o(t("iKE7a"),e.exports),o(t("c7XOH"),e.exports),o(t("emT4h"),e.exports),o(t("8QRtg"),e.exports),o(t("jGlTf"),e.exports)})),t.register("6fgdF",(function(e,r){var n=t("8tcqI").Buffer,o=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.findNameHouse=e.exports.findTldHouse=e.exports.findNftRecord=e.exports.getMintOwner=e.exports.findAllDomainsForTld=e.exports.getParentAccountFromTldHouseAccountInfo=e.exports.getTldFromTldHouseAccountInfo=e.exports.getAllTld=e.exports.findMainDomain=e.exports.findOwnedNameAccountsForUser=e.exports.getOriginNameAccountKey=e.exports.getHashedName=e.exports.getNameOwner=e.exports.getNameAccountKeyWithBump=void 0;var i=t("liYfk"),s=t("c1rzP"),a=t("7cTdJ"),c=t("iKE7a"),u=t("emT4h"),d=t("iricV"),f=t("3s2q3");function l(e,t,r){const o=[e,t?t.toBuffer():n.alloc(32),r?r.toBuffer():n.alloc(32)];return i.PublicKey.findProgramAddressSync(o,c.ANS_PROGRAM_ID)}function p(e){return o(this,void 0,void 0,(function*(){const t=u.NameRecordHeader.HASH_PREFIX+e,r=(0,a.sha256)(n.from(t,"utf8")).slice(2);return n.from(r,"hex")}))}function h(e){var t;const r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.subarray(104),n=new s.BN(null==r?void 0:r.subarray(0,4),"le").toNumber();return r.subarray(4,4+n).toString().replace(/\0.*$/g,"")}function m(e){var t;const r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.subarray(72,104);return new i.PublicKey(r)}function y(e,t){return o(this,void 0,void 0,(function*(){try{const r=yield f.NftRecord.fromAccountAddress(e,t);if(r.tag!==d.Tag.ActiveRecord)return;const n=yield e.getTokenLargestAccounts(r.nftMintAccount),o=yield e.getParsedAccountInfo(n.value[0].address);if(!o.value.data)return;return new i.PublicKey(o.value.data.parsed.info.owner)}catch(e){return}}))}function g(e,t){return i.PublicKey.findProgramAddressSync([n.from(c.NFT_RECORD_PREFIX),t.toBuffer(),e.toBuffer()],c.NAME_HOUSE_PROGRAM_ID)}function v(e){return i.PublicKey.findProgramAddressSync([n.from(c.NAME_HOUSE_PREFIX),e.toBuffer()],c.NAME_HOUSE_PROGRAM_ID)}e.exports.getNameAccountKeyWithBump=l,e.exports.getNameOwner=function(e,t,r){var n;return o(this,void 0,void 0,(function*(){const o=null===(n=yield u.NameRecordHeader.fromAccountAddress(e,t))||void 0===n?void 0:n.owner;if(!r)return o;const[i]=v(r),[s]=g(t,i);return(null==o?void 0:o.toBase58())!==s.toBase58()?o:yield y(e,s)}))},e.exports.getHashedName=p,e.exports.getOriginNameAccountKey=function(e=c.ORIGIN_TLD){return o(this,void 0,void 0,(function*(){const t=yield p(e),[r]=yield l(t,void 0,void 0);return r}))},e.exports.findOwnedNameAccountsForUser=function(e,t,r){return o(this,void 0,void 0,(function*(){const n=[{memcmp:{offset:40,bytes:t.toBase58()}}];r&&n.push({memcmp:{offset:8,bytes:r.toBase58()}});return(yield e.getProgramAccounts(c.ANS_PROGRAM_ID,{filters:n})).map((e=>e.pubkey))}))},e.exports.findMainDomain=function(e){return i.PublicKey.findProgramAddressSync([n.from(c.MAIN_DOMAIN_PREFIX),e.toBuffer()],c.TLD_HOUSE_PROGRAM_ID)},e.exports.getAllTld=function(e){return o(this,void 0,void 0,(function*(){const t=[{memcmp:{offset:0,bytes:[247,144,135,1,238,173,19,249]}}],r=yield e.getProgramAccounts(c.TLD_HOUSE_PROGRAM_ID,{filters:t}),n=[];return r.map((({account:e})=>{const t=m(e),r=h(e);n.push({tld:r,parentAccount:t})})),n}))},e.exports.getTldFromTldHouseAccountInfo=h,e.exports.getParentAccountFromTldHouseAccountInfo=m,e.exports.findAllDomainsForTld=function(e,t){return o(this,void 0,void 0,(function*(){const r=[{memcmp:{offset:8,bytes:t.toBase58()}}];return(yield e.getProgramAccounts(c.ANS_PROGRAM_ID,{filters:r})).map((e=>e.pubkey))}))},e.exports.getMintOwner=y,e.exports.findNftRecord=g,e.exports.findTldHouse=function(e){return e=e.toLowerCase(),i.PublicKey.findProgramAddressSync([n.from(c.TLD_HOUSE_PREFIX),n.from(e)],c.TLD_HOUSE_PROGRAM_ID)},e.exports.findNameHouse=v})),t.register("iKE7a",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NAME_HOUSE_PREFIX=e.exports.TLD_HOUSE_PREFIX=e.exports.NFT_RECORD_PREFIX=e.exports.NAME_HOUSE_PROGRAM_ID=e.exports.TLD_HOUSE_PROGRAM_ID=e.exports.ANS_PROGRAM_ID=e.exports.ORIGIN_TLD=e.exports.MAIN_DOMAIN_PREFIX=void 0;var n=t("liYfk");e.exports.MAIN_DOMAIN_PREFIX="main_domain",e.exports.ORIGIN_TLD="ANS",e.exports.ANS_PROGRAM_ID=new n.PublicKey("ALTNSZ46uaAUU7XUV6awvdorLGqAsPwa9shm7h4uP2FK"),e.exports.TLD_HOUSE_PROGRAM_ID=new n.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S"),e.exports.NAME_HOUSE_PROGRAM_ID=new n.PublicKey("NH3uX6FtVE2fNREAioP7hm5RaozotZxeL6khU1EHx51"),e.exports.NFT_RECORD_PREFIX="nft_record",e.exports.TLD_HOUSE_PREFIX="tld_house",e.exports.NAME_HOUSE_PREFIX="name_house"})),t.register("emT4h",(function(e,r){var n=t("8tcqI").Buffer,o=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.NameRecordHeader=void 0;var i=t("liYfk"),s=t("cBVvR");class a{static get byteSize(){return 200}static fromAccountAddress(e,t){var r;return o(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t,"confirmed");if(!n)return;const o=(0,s.deserializeUnchecked)(this.schema,a,n.data);return o.data=null===(r=n.data)||void 0===r?void 0:r.subarray(this.byteSize),o}))}static fromMultipileAccountAddresses(e,t){return o(this,void 0,void 0,(function*(){let r=yield e.getMultipleAccountsInfo(t),n=[];return r.forEach((e=>{if(!e)return void n.push(void 0);let t=this.fromAccountInfo(e);t?n.push(t):n.push(void 0)})),n}))}static fromAccountInfo(e){var t;const r=(0,s.deserializeUnchecked)(this.schema,a,e.data);return r.data=null===(t=e.data)||void 0===t?void 0:t.subarray(this.byteSize),r}pretty(){var e;const t=this.data.indexOf(0);return{parentName:this.parentName.toBase58(),owner:null===(e=this.owner)||void 0===e?void 0:e.toBase58(),nclass:this.nclass.toBase58(),expiresAt:this.expiresAt,isValid:this.isValid,data:this.isValid?this.data.subarray(0,t).toString():void 0}}constructor(e){this.parentName=new i.PublicKey(e.parentName),this.nclass=new i.PublicKey(e.nclass),this.expiresAt=new Date(1e3*new s.BinaryReader(n.from(e.expiresAt)).readU64().toNumber()),this.isValid=0===new s.BinaryReader(n.from(e.expiresAt)).readU64().toNumber()||this.expiresAt>new Date,this.owner=this.isValid?new i.PublicKey(e.owner):void 0}}e.exports.NameRecordHeader=a,a.DISCRIMINATOR=[68,72,88,44,15,167,103,243],a.HASH_PREFIX="ALT Name Service",a.schema=new Map([[a,{kind:"struct",fields:[["discriminator",[8]],["parentName",[32]],["owner",[32]],["nclass",[32]],["expiresAt",[8]],["padding",[88]]]}]])})),t.register("cBVvR",(function(r,n){var o=t("8tcqI").Buffer,i=r.exports&&r.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=r.exports&&r.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=r.exports&&r.exports.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},c=r.exports&&r.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=r.exports&&r.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r.exports,"__esModule",{value:!0}),r.exports.deserializeUnchecked=r.exports.deserialize=r.exports.serialize=r.exports.BinaryReader=r.exports.BinaryWriter=r.exports.BorshError=r.exports.baseDecode=r.exports.baseEncode=void 0;const d=u(t("c1rzP")),f=u(t("85iHy")),l=c(t("5rvRH")),p=new("function"!=typeof e.TextDecoder?l.TextDecoder:e.TextDecoder)("utf-8",{fatal:!0});r.exports.baseEncode=function(e){return"string"==typeof e&&(e=o.from(e,"utf8")),f.default.encode(o.from(e))},r.exports.baseDecode=function(e){return o.from(f.default.decode(e))};const h=1024;class m extends Error{addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}}r.exports.BorshError=m;class y{maybeResize(){this.buf.length<16+this.length&&(this.buf=o.concat([this.buf,o.alloc(h)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(o.from(new d.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(o.from(new d.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(o.from(new d.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(o.from(new d.default(e).toArray("le",64)))}writeBuffer(e){this.buf=o.concat([o.from(this.buf.subarray(0,this.length)),e,o.alloc(h)]),this.length+=e.length}writeString(e){this.maybeResize();const t=o.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(o.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}constructor(){this.buf=o.alloc(h),this.length=0}}function g(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new m("Reached the end of buffer when deserializing")}throw e}}}r.exports.BinaryWriter=y;class v{readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new d.default(e,"le")}readU128(){const e=this.readBuffer(16);return new d.default(e,"le")}readU256(){const e=this.readBuffer(32);return new d.default(e,"le")}readU512(){const e=this.readBuffer(64);return new d.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new m(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return p.decode(t)}catch(e){throw new m(`Error decoding UTF-8 string: ${e}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}constructor(e){this.buf=e,this.offset=0}}function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}function b(e,t,r,n,o){try{if("string"==typeof n)o[`write${x(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new m(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new m(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)b(e,null,r[t],n[0],o)}else o.writeArray(r,(r=>{b(e,t,r,n[0],o)}));else if(void 0!==n.kind){if("option"!==n.kind)throw new m(`FieldType ${n} unrecognized`);null==r?o.writeU8(0):(o.writeU8(1),b(e,t,r,n.type,o))}else A(e,r,o)}catch(e){throw e instanceof m&&e.addToFieldPath(t),e}}function A(e,t,r){if("function"==typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new m(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,o])=>{b(e,n,t[n],o,r)}));else{if("enum"!==n.kind)throw new m(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const o=t[n.field];for(let i=0;i<n.values.length;++i){const[s,a]=n.values[i];if(s===o){r.writeU8(i),b(e,s,t[s],a,r);break}}}}}function w(e,t,r,n){try{if("string"==typeof r)return n[`read${x(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const t=[];for(let o=0;o<r[1];o++)t.push(w(e,null,r[0],n));return t}return n.readArray((()=>w(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?w(e,t,r.type,n):void 0}return _(e,r,n)}catch(e){throw e instanceof m&&e.addToFieldPath(t),e}}function _(e,t,r){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new m(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[o,i]of e.get(t).fields)n[o]=w(e,o,i,r);return new t(n)}if("enum"===n.kind){const o=r.readU8();if(o>=n.values.length)throw new m(`Enum index: ${o} is out of range`);const[i,s]=n.values[o];return new t({[i]:w(e,i,s,r)})}throw new m(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}a([g],v.prototype,"readU8",null),a([g],v.prototype,"readU16",null),a([g],v.prototype,"readU32",null),a([g],v.prototype,"readU64",null),a([g],v.prototype,"readU128",null),a([g],v.prototype,"readU256",null),a([g],v.prototype,"readU512",null),a([g],v.prototype,"readString",null),a([g],v.prototype,"readFixedArray",null),a([g],v.prototype,"readArray",null),r.exports.BinaryReader=v,r.exports.serialize=function(e,t,r=y){const n=new r;return A(e,t,n),n.toArray()},r.exports.deserialize=function(e,t,r,n=v){const o=new n(r),i=_(e,t,o);if(o.offset<r.length)throw new m(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return i},r.exports.deserializeUnchecked=function(e,t,r,n=v){return _(e,t,new n(r))}})),t.register("iricV",(function(e,r){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.tagBeet=e.exports.Tag=void 0;const s=i(t("hbO5Y"));var a,c;(c=a=e.exports.Tag||(e.exports.Tag={}))[c.Uninitialized=0]="Uninitialized",c[c.ActiveRecord=1]="ActiveRecord",c[c.InactiveRecord=2]="InactiveRecord",e.exports.tagBeet=s.fixedScalarEnum(a)})),t.register("3s2q3",(function(e,r){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.nftRecordBeet=e.exports.NftRecord=e.exports.nftRecordDiscriminator=void 0;const a=i(t("hbO5Y")),c=i(t("hvIDj"));var u=t("iricV");e.exports.nftRecordDiscriminator=[174,190,114,100,177,14,90,254];class d{static fromArgs(e){return new d(e.tag,e.bump,e.nameAccount,e.owner,e.nftMintAccount,e.tldHouse)}static fromAccountInfo(e,t=0){return d.deserialize(e.data,t)}static fromAccountAddress(e,t){return s(this,void 0,void 0,(function*(){const r=yield e.getAccountInfo(t);if(null==r)throw new Error(`Unable to find NftRecord account at ${t}`);return d.fromAccountInfo(r,0)[0]}))}static deserialize(t,r=0){return e.exports.nftRecordBeet.deserialize(t,r)}serialize(){return e.exports.nftRecordBeet.serialize(Object.assign({accountDiscriminator:e.exports.nftRecordDiscriminator},this))}static get byteSize(){return e.exports.nftRecordBeet.byteSize}static getMinimumBalanceForRentExemption(e,t){return s(this,void 0,void 0,(function*(){return e.getMinimumBalanceForRentExemption(d.byteSize,t)}))}static hasCorrectByteSize(e,t=0){return e.byteLength-t===d.byteSize}pretty(){return{tag:"Tag."+u.Tag[this.tag],bump:this.bump,nameAccount:this.nameAccount.toBase58(),owner:this.owner.toBase58(),nftMintAccount:this.nftMintAccount.toBase58(),tldHouse:this.tldHouse.toBase58()}}constructor(e,t,r,n,o,i){this.tag=e,this.bump=t,this.nameAccount=r,this.owner=n,this.nftMintAccount=o,this.tldHouse=i}}e.exports.NftRecord=d,e.exports.nftRecordBeet=new a.BeetStruct([["accountDiscriminator",a.uniformFixedSizeArray(a.u8,8)],["tag",u.tagBeet],["bump",a.u8],["nameAccount",c.publicKey],["owner",c.publicKey],["nftMintAccount",c.publicKey],["tldHouse",c.publicKey]],d.fromArgs,"NftRecord")})),t.register("c7XOH",(function(e,r){"use strict";var n=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TldParser=void 0;var o=t("XZdu2"),i=t("liYfk"),s=t("c1rzP"),a=t("emT4h"),c=t("6fgdF");e.exports.TldParser=class{getAllUserDomains(e){return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=new i.PublicKey(e));return yield(0,c.findOwnedNameAccountsForUser)(this.connection,e,void 0)}))}getAllUserDomainsFromTld(e,t){return n(this,void 0,void 0,(function*(){const r="."+t,n=yield(0,c.getOriginNameAccountKey)(),o=yield(0,c.getHashedName)(r),[s]=(0,c.getNameAccountKeyWithBump)(o,void 0,n);"string"==typeof e&&(e=new i.PublicKey(e));return yield(0,c.findOwnedNameAccountsForUser)(this.connection,e,s)}))}getOwnerFromDomainTld(e){return n(this,void 0,void 0,(function*(){const t=e.split("."),r=t[0],n="."+t[1],o=yield(0,c.getOriginNameAccountKey)(),i=yield(0,c.getHashedName)(n),[s]=(0,c.getNameAccountKeyWithBump)(i,void 0,o),a=yield(0,c.getHashedName)(r),[u]=(0,c.getNameAccountKeyWithBump)(a,void 0,s),[d]=(0,c.findTldHouse)(n);return yield(0,c.getNameOwner)(this.connection,u,d)}))}getNameRecordFromDomainTld(e){return n(this,void 0,void 0,(function*(){const t=e.split("."),r=t[0],n="."+t[1],o=yield(0,c.getOriginNameAccountKey)(),i=yield(0,c.getHashedName)(n),[s]=(0,c.getNameAccountKeyWithBump)(i,void 0,o),u=yield(0,c.getHashedName)(r),[d]=(0,c.getNameAccountKeyWithBump)(u,void 0,s);return yield a.NameRecordHeader.fromAccountAddress(this.connection,d)}))}getTldFromParentAccount(e){var t;return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=new i.PublicKey(e));const r=yield a.NameRecordHeader.fromAccountAddress(this.connection,e),n=yield this.connection.getAccountInfo(null==r?void 0:r.owner),o=null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.subarray(104),c=new s.BN(null==o?void 0:o.subarray(0,4),"le").toNumber();return o.subarray(4,4+c).toString().replace(/\0.*$/g,"")}))}reverseLookupNameAccount(e,t){var r;return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=new i.PublicKey(e)),"string"==typeof t&&(t=new i.PublicKey(t));const n=yield(0,c.getHashedName)(e.toString()),[o]=(0,c.getNameAccountKeyWithBump)(n,t,void 0),s=yield a.NameRecordHeader.fromAccountAddress(this.connection,o);return null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.toString()}))}getMainDomain(e){return n(this,void 0,void 0,(function*(){"string"==typeof e&&(e=new i.PublicKey(e));const[t]=(0,c.findMainDomain)(e);return yield o.MainDomain.fromAccountAddress(this.connection,t)}))}constructor(e){this.connection=e}}})),t.register("XZdu2",(function(e,r){"use strict";var n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mainDomainBeet=e.exports.MainDomain=e.exports.mainDomainDiscriminator=void 0;const a=i(t("liYfk")),c=i(t("hvIDj")),u=i(t("hbO5Y"));e.exports.mainDomainDiscriminator=[109,239,227,199,98,226,66,175];class d{static fromArgs(e){return new d(e.nameAccount,e.tld,e.domain)}static fromAccountInfo(e,t=0){return d.deserialize(e.data,t)}static fromAccountAddress(e,t,r){return s(this,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t,r);if(null==n)throw new Error(`Unable to find MainDomain account at ${t}`);return d.fromAccountInfo(n,0)[0]}))}static gpaBuilder(t=new a.PublicKey("TLDHkysf5pCnKsVA4gXpNvmy7psXLPEu4LAdDJthT9S")){return c.GpaBuilder.fromStruct(t,e.exports.mainDomainBeet)}static deserialize(t,r=0){return e.exports.mainDomainBeet.deserialize(t,r)}serialize(){return e.exports.mainDomainBeet.serialize(Object.assign({accountDiscriminator:e.exports.mainDomainDiscriminator},this))}static byteSize(t){const r=d.fromArgs(t);return e.exports.mainDomainBeet.toFixedFromValue(Object.assign({accountDiscriminator:e.exports.mainDomainDiscriminator},r)).byteSize}static getMinimumBalanceForRentExemption(e,t,r){return s(this,void 0,void 0,(function*(){return t.getMinimumBalanceForRentExemption(d.byteSize(e),r)}))}pretty(){return{nameAccount:this.nameAccount.toBase58(),tld:this.tld,domain:this.domain}}constructor(e,t,r){this.nameAccount=e,this.tld=t,this.domain=r}}e.exports.MainDomain=d,e.exports.mainDomainBeet=new u.FixableBeetStruct([["accountDiscriminator",u.uniformFixedSizeArray(u.u8,8)],["nameAccount",c.publicKey],["tld",u.utf8String],["domain",u.utf8String]],d.fromArgs,"MainDomain")})),t.register("8QRtg",(function(e,r){var n=t("8tcqI").Buffer,o=e.exports&&e.exports.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.getDomainKey=void 0;var i=t("6fgdF");e.exports.getDomainKey=(e,t=!1)=>o(void 0,void 0,void 0,(function*(){const r=e.split(".");if(3===r.length){const e="."+r[2],o=r[1],i=r[0],{pubkey:a}=yield s(e),{pubkey:c}=yield s(o,a),u=n.from([t?1:0]).toString().concat(i),d=yield s(u,c);return Object.assign(Object.assign({},d),{isSub:!0,parent:c})}if(4===r.length&&t){const e="."+r[3],t=r[2],o=r[1],i=r[0],{pubkey:a}=yield s(e),{pubkey:c}=yield s(t,a),{pubkey:u}=yield s("\0".concat(o),c),d=n.from([1]).toString(),f=yield s(d.concat(i),u);return Object.assign(Object.assign({},f),{isSub:!0,parent:c,isSubRecord:!0})}if(r.length>4)throw new Error("Invalid derivation input");const o="."+r[1],{pubkey:i}=yield s(o),a=r[0],c=yield s(a,i);return Object.assign(Object.assign({},c),{isSub:!1,parent:void 0})}));const s=(e,t)=>o(void 0,void 0,void 0,(function*(){t||(t=yield(0,i.getOriginNameAccountKey)());let r=yield(0,i.getHashedName)(e),[n]=yield(0,i.getNameAccountKeyWithBump)(r,void 0,t);return{pubkey:n,hashed:r}}))})),t.register("jGlTf",(function(e,t){"use strict";var r;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Record=void 0,(r=e.exports.Record||(e.exports.Record={})).IPFS="IPFS",r.ARWV="ARWV",r.SOL="SOL",r.ETH="ETH",r.BTC="BTC",r.LTC="LTC",r.DOGE="DOGE",r.Email="email",r.Url="url",r.Discord="discord",r.Github="github",r.Reddit="reddit",r.Twitter="twitter",r.Telegram="telegram",r.Pic="pic",r.SHDW="SHDW",r.POINT="POINT"}))}();
//# sourceMappingURL=esm.022f3542.js.map
define=__define;})(window.define);